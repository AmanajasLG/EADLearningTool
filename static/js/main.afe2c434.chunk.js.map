{"version":3,"sources":["img/avatar1.svg","img/i-home.svg","img/i-notification.svg","img/i-settings.svg","_constants/alert.constants.js","_constants/user.constants.js","_constants/header.constants.js","apiValues.js","_constants/api.constants.js","_helpers/apiConstantBuilder.js","_constants/music.constants.js","_actions/alert.actions.js","_helpers/history.js","_reducers/authentication.reducer.js","_helpers/reducerBuilder.js","_reducers/api.reducers.js","_reducers/index.js","_reducers/registration.reducer.js","_reducers/users.reducer.js","_reducers/alert.reducer.js","_reducers/header.reducer.js","_reducers/music.reducer.js","_helpers/store.js","_helpers/auth-header.js","_services/api.services.js","_services/user.services.js","_actions/user.actions.js","_actions/header.actions.js","_actions/api.actions.js","_actions/music.actions.js","_components/UserHeader/index.js","_components/DefaultHeader/index.js","_components/AppHeader/index.js","pages/Home/index.js","pages/Game2/components/Init/index.js","pages/Game2/components/Result/index.js","pages/Game2/components/RoomSelect/index.js","pages/Game2/components/Sala/index.js","pages/Game2/components/Character/index.js","pages/Game1/initialState.js","pages/Game1/stub.js","pages/Game1/components/Dropdown/index.js","img/Game1/Celular Sala.svg","img/Game1/Celular Base.svg","img/Game1/Mão dedão.svg","img/Game1/Mão palma.svg","pages/Game2/components/FullscreenOverlay/index.js","pages/Game1/components/Phone/index.js","pages/Game2/components/Menu/index.js","pages/Game2/components/DialogCharacter/index.js","pages/Game2/components/DialogHistory/index.js","pages/Game2/components/Writer/index.js","pages/Game2/components/Conversa/index.js","img/Game2/símbolo_feedback errado.svg","img/bg-forma-laranja.svg","img/Game1/ícone_jogo1.svg","pages/Game1/index.js","img/lampada_apagada.svg","img/lampada_acesa.svg","pages/Game2/components/AcusationLamp/index.js","pages/Game2/initialState.js","img/Game2/parabens_vitoria-persistente.svg","img/Game2/parabens_vitoria-primeira.svg","img/ícone_jogo1.svg","img/Game2/Icone_jogo-tela_inicio.svg","img/bg-forma-azul.svg","img/bg-forma-verde.svg","pages/Game2/index.js","pages/Game3/Timer/index.js","pages/Game3/stub.js","pages/Game3/initialState.js","pages/Game3/index.js","pages/Game4/stub.js","pages/Game4/initialState.js","pages/Game4/index.js","_components/PrivateRoute/index.js","pages/Login/index.js","pages/UserSpace/index.js","pages/Register/index.js","_components/UserInfo/index.js","pages/UsersCRUD/index.js","pages/Mission/index.js","pages/Character/index.js","pages/Question/index.js","pages/EditMission/index.js","pages/Missions/index.js","pages/CreateCharacter/index.js","pages/CreateLocation/index.js","pages/CreateQuestion/index.js","pages/CreateMission/components/EditMissionCharacter.js","pages/CreateMission/components/EditNewMissionCharacter.js","pages/CreateMission/missionCharacterInitialState.js","pages/CreateMission/Game1Data/index.js","pages/CreateMission/Game2Data/index.js","pages/CreateMission/index.js","pages/EditCharacter/index.js","pages/Characters/index.js","pages/Questions/index.js","pages/Questionnaires/index.js","pages/PlaySessions/index.js","_components/Config/index.js","_components/ConfigWindow/index.js","_components/GameConfig/index.js","pages/GameContext/index.js","TestPage.js","rootUrl.js","App.js","reportWebVitals.js","index.js"],"names":["alertConstants","userConstants","headerConstants","NORMAL","HIDDEN","OVERLAY","apiValues","apiConstants","map","value","UPDATE_REQUEST","apiDataType","UPDATE_SUCCESS","UPDATE_FAILURE","CREATE_REQUEST","CREATE_SUCCESS","CREATE_FAILURE","GETALL_REQUEST","GETALL_SUCCESS","GETALL_FAILURE","GETBYID_REQUEST","GETBYID_SUCCESS","GETBYID_FAILURE","FIND_REQUEST","FIND_SUCCESS","FIND_FAILURE","DELETE_REQUEST","DELETE_SUCCESS","DELETE_FAILURE","musicConstants","alertActions","success","message","type","error","clear","createBrowserHistory","user","JSON","parse","localStorage","getItem","initialState","loggedIn","loading","items","apiReducers","Object","keys","forEach","apiType","constants","toLowerCase","state","action","creating","data","updating","index","findIndex","item","id","copy","slice","deleting","filter","deleteError","rootReducer","combineReducers","authentication","loggingIn","logginFailure","registration","registering","users","userCopy","roles","alert","header","title","subtitle","newTitle","newSubtitle","newState","music","url","volume","loggerMiddleware","createLogger","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMiddleware","authHeader","jwt","api","axios","create","baseURL","getByIdBuilder","routeName","method","replace","headers","then","handleResponse","findBuilder","query","createBuilder","updateBuilder","deleteBuilder","response","status","location","reload","Promise","reject","statusText","apiServices","getAll","getById","find","update","delete","userService","login","email","password","identifier","setItem","stringify","logout","register","console","log","getRoles","removeItem","userActions","dispatch","failure","toString","request","resolve","messages","headerActions","requester","service","payload","getAllConstructor","getByIdConstructor","findConstructor","findData","createConstructor","createData","updateConstructor","updateData","deleteConstructor","deleteData","apiActions","musicActions","UserHeader","pageInfo","headerInfo","useSelector","React","useState","view","setState","useDispatch","useAlert","className","onClick","show","src","home","alt","notifications","settings","avatar","style","position","backgroundColor","top","margin","width","height","Button","DefaultHeader","AppHeader","props","isLogged","Home","to","Init","icon","name","description","nameTranlate","descriptionTranlate","onStart","onBack","onSeeTutorial","Result","gameEndState","split","str","RoomSelect","buttonList","onChange","useEffect","lang","num","Sala","children","roomData","img","setCurrentChar","backgroundAssets","length","image","Character","zDepth","character","dragPosition","showNameOnHover","characterAssets","asset","bodyPart","initialValue","back","scene","endGame","currentLocationIndex","locations","jobs","countries","contactsTemplate","contactsAtSession","dialogHistory","answers","preSpeech","currentChar","characterFeeling","showContacts","maxQuestions","shouldMinimize","shouldCloseDialog","wrongContacts","stub","characters","answer","question","Dropdown","defaultText","label","optionList","disabled","option","FullscreenOverlay","showCloseBtn","shouldExit","onClickClose","onReadyToExit","bgRGBA","closeRGB","closeHoverRGB","Error","onAnimationEnd","event","target","currentTarget","r","g","b","a","Phone","modifyContact","contacts","onFinish","onAddContact","onMinimize","maximized","_shouldMinimize","smallPhone","palma","bigPhone","dedao","contact","key","placeholder","readOnly","e","job","country","_contatoTemplate","Menu","onButtonClick","button","DialogCharacter","feeling","characterImg","DialogHistory","dialog","speaker","text","Writer","characterTime","onWritten","afterWrittenTime","timeoutID","setTimeout","clearTimeout","substring","Conversa","showDialogHistory","onClearDialogHistory","callAfterWritterForEveryMsg","msPerCharacter","waitAfterWritten","prevDialogHistory","charPreSpeech","convOptions","charFeeling","afterWriter","onExited","onConvoChoiceMade","convoChoosen","querFechar","currentAnswer","flexGrow","updateState","Game1","game_1_missionsActions","play_sessionsActions","player_actionsActions","match","params","game_1_missions","mission","currentPlaySession","play_sessions","language","tracking","getClickedObject","tag","nodeName","innerHTML","includes","clickTime","Date","document","addEventListener","s","removeEventListener","missionCharacters","place","charactersCount","game_1_mission_characters","push","splice","Math","random","reduce","acc","missionCharacter","showJob","showCountry","onStartGame","questionsAsked","updatedState","close","shouldCloseConvo","onMenuButtonClick","convOption","indexOf","c","closeDialog","restart","hasPlayed","onPhoneFinish","missionContact","contactAtSession","gabarito","contactTemplate","changeRoomPopUp","checked","iconInit","missionNameLanguages","missionDescriptionLanguages","refreshDialog","min","display","flexDirection","backgroundImage","blobLaranja","tries","AcusationLamp","lamp_apagada","lamp_acesa","currentRoom","isOnDialog","found","tips","acusation","closeAcusation","validQuestions","tutorialStep","seeTutorial","checkedPlayed","dialogStep","totalDialogSteps","questionsByStep","showConvo","questions","targetName","correct","ncorrect","correctMinimum","score","startedTimestamp","now","elapsedTime","spokenCharacters","Game2","tipsCount","missions","userId","missionsActions","user_game_resultsActions","user_game_results","tip","dialogInitialState","backgroundAudios","availableCharacters","tutorialRoom","totalWeight","crowdestRoomPop","emptiestRoomPop","max","maxWeight","weights","weight","rand","floor","i","locationIndex","availableAnswers","selectedQuestions","source","temp","amountChars","j","exchangeWith","aux","usersPermissionsUser","endTutorial","mc","wrongAnswer","refresh","endDialog","rightAnswer","tchaus","rIdx","closeAfterWritter","onRefreshDialog","hasOwnProperty","tutorialScreen","iconVitoriaPrim","iconVitoriaPers","href","blobAzul","blobVerde","iconDerrota","iconDicas","spokenCharactersCount","won","validQuestionsCount","nameTranslate","zeroFill","size","Timer","seconds","onEnd","onSecondPassed","run","timeout","previousRef","useRef","current","ingredients","moneyTypes","corridors","shelveProducts","cart","currentAisle","checkout","onPayment","payment","win","change","paymentAmount","runTimer","reaminingTime","goRound","abs","Game3","game_3_missions","m","game_3_missionsActions","addProduct","product","removeProduct","toPreviousaisle","aisles","toNextaisle","haveAll","addToPayment","money","removeFromPayment","moveToPayment","price","doPayment","receiveChange","ingredient","remaining","remainingTime","timeUp","shopList","products","Number","parseFloat","toFixed","recipe","selected","cook","orderedLetters","result","shuffled","shuffle","word","trunc","Game4","onTimeEnd","letter","PrivateRoute","Component","component","render","rest","pathname","from","useStyles","makeStyles","theme","root","backgroundRepeat","palette","grey","backgroundSize","backgroundPosition","paper","spacing","alignItems","secondary","main","form","marginTop","submit","Login","inputs","setInputs","submitted","setSubmitted","classes","handleChange","Grid","container","CssBaseline","xs","sm","md","Paper","elevation","square","Avatar","Typography","variant","onSubmit","preventDefault","catch","noValidate","TextField","required","fullWidth","autoComplete","autoFocus","color","justify","UserSpace","game1missions","game3missions","username","Register","languagesActions","firstName","lastName","languages","redirect","setRedirect","Container","componexWidth","select","MenuItem","UserInfo","provider","confirmed","blocked","UsersCRUD","Mission","getAnswer","qId","borderStyle","borderRadius","characterAsset","civilState","qIndex","acusationAnswer","Question","EditMission","onDone","charList","setCharList","locationList","setLocationList","questionList","setQuestionList","addToMission","removeFromMission","addLocationToMission","removeLocationFromMission","l","addQuestionToMission","removeQuestionFromMission","Missions","createMission","setCreateMission","edit","setEdit","CreateCharacter","charactersActions","setName","setJob","setCivilState","civilStates","estadosCivis","cs","Radio","CreateLocation","locationsActions","CreateQuestion","questionsActions","group","maxWidth","aria-describedby","parseInt","FormLabel","RadioGroup","aria-label","FormControlLabel","control","EditMissionCharacter","cancel","editAnswer","aQ","_","cloneDeep","changedIndex","rightAcusationAnswer","wrongAcusationAnswer","EditNewMissionCharacter","setmissionCharacter","missionCharacterInitialState","targetCharacter","CreateGame1Data","onCheckChange","game_1_mission_charactersActions","d","Checkbox","Game2Data","CreateMissionGame1","game","originalMission","charactersList","charactersConfigList","characterConfig","newCharacterConfig","createCharacter","setCreateCharacter","createLocation","setCreateLocation","createQuestion","setCreateQuestion","editCharacterConfig","createCharacterConfig","cancelCharacterConfig","addCharacterToList","removeCharacterFromList","flexShrink","flexBasis","missionCharactersCreate","onChangeCharacter","onJobCheckChange","onCountryCheckChange","mission_charactersActions","EditCharacter","mIndex","Characters","onAdd","Fragment","Questions","deleteQuestion","Questionnaires","questionnairesActions","questionnaires","deleteQuestionnaire","questionnaire","PlaySessions","playSessions","playSession","player_actions","playerAction","Config","ConfigWindow","onConfig","onStatistics","onLeave","onClose","GameConfig","onVolumeMute","onVolumeUp","onVolumeChange","fontSize","onFontSizeChange","assistMode","onAssistModeChange","onAccessibilityLeft","onAccessibilityRight","Slider","colSpan","GameContext","accessibility","gameConfig","config","autoPlay","loop","newValue","TestPage","right","bottom","left","rootUrl","process","App","getElementsByTagName","gameMode","basename","exact","path","CreateMission","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","options","positions","TOP_RIGHT","ReactDOM","template","AlertTemplate","getElementById"],"mappings":"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","file":"static/js/main.afe2c434.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/avatar1.48f082ac.svg\";","export default __webpack_public_path__ + \"static/media/i-home.949bb3de.svg\";","export default __webpack_public_path__ + \"static/media/i-notification.995f04ef.svg\";","export default __webpack_public_path__ + \"static/media/i-settings.1d1409d0.svg\";","export const alertConstants = {\r\n    SUCCESS: 'ALERT_SUCCESS',\r\n    ERROR: 'ALERT_ERROR',\r\n    CLEAR: 'ALERT_CLEAR'\r\n}","export const userConstants = {\r\n    REGISTER_REQUEST: 'USER_REGISTER_REQUEST',\r\n    REGISTER_SUCCESS: 'USER_REGISTER_SUCCESS',\r\n    REGISTER_FAILURE: 'USER_REGISTER_FAILURE',\r\n\r\n    LOGIN_REQUEST: 'USER_LOGIN_REQUEST',\r\n    LOGIN_SUCCESS: 'USER_LOGIN_SUCCESS',\r\n    LOGIN_FAILURE: 'USER_LOGIN_FAILURE',\r\n\r\n    UPDATE_REQUEST: 'USER_UPDATE_REQUEST',\r\n    UPDATE_SUCCESS: 'USER_UPDATE_SUCCESS',\r\n    UPDATE_FAILURE: 'USER_UPDATE_FAILURE',\r\n\r\n    LOGOUT: 'USERS_LOGOUT',\r\n\r\n    GETALL_REQUEST: 'USER_GETALL_REQUEST',\r\n    GETALL_SUCCESS: 'USER_GETALL_SUCCESS',\r\n    GETALL_FAILURE: 'USER_GETALL_FAILURE',\r\n\r\n    GETBYID_REQUEST: 'USER_GETBYID_REQUEST',\r\n    GETBYID_SUCCESS: 'USER_GETBYID_SUCCESS',\r\n    GETBYID_FAILURE: 'USER_GETBYID_FAILURE',\r\n\r\n    FIND_REQUEST: 'USER_FIND_REQUEST',\r\n    FIND_SUCCESS: 'USER_FIND_SUCCESS',\r\n    FIND_FAILURE: 'USER_FIND_FAILURE',\r\n    \r\n    DELETE_REQUEST: 'USER_DELETE_REQUEST',\r\n    DELETE_SUCCESS: 'USER_DELETE_SUCCESS',\r\n    DELETE_FAILURE: 'USER_DELETE_FAILURE',\r\n\r\n    GETROLES_REQUEST: 'USER_GETROLES_REQUEST',\r\n    GETROLES_SUCCESS: 'USER_GETROLES_SUCCESS',\r\n    GETROLES_FAILURE: 'USER_GETROLES_FAILURE',\r\n}","export const headerConstants = {\r\n\tSET_TITLE:\t\t'SET_HEADER_TITLE',\r\n\tSET_SUBTITLE:\t'SET_HEADER_SUBTITLE',\r\n\tSET_ALL:\t\t'SET_HEADER_ALL',\r\n\r\n\tCLEAR_TITLE:\t'CLEAR_HEADER_TITLE',\r\n\tCLEAR_SUBTITLE:\t'CLEAR_HEADER_SUBTITLE',\r\n\tCLEAR_ALL:\t\t'CLEAR_HEADER_ALL',\r\n\r\n\tSET_STATE:\t\t'SET_HEADER_STATE',\r\n\tSTATES:\t\t\t{\r\n\t\tNORMAL:\t\t'NORMAL',\r\n\t\tHIDDEN:\t\t'HIDDEN',\r\n\t\tOVERLAY:\t'OVERLAY'\r\n\t},\r\n}\r\n","const apiValues = [\r\n  'GAMES', 'PLAY_SESSIONS', 'PLAYER_ACTIONS',\r\n  'GAME_1_MISSIONS', 'GAME_1_MISSION_CHARACTERS',\r\n  'MISSIONS', 'MISSION_CHARACTER',\r\n  'GAME_3_MISSIONS',\r\n  'CHARACTERS', 'LOCATIONS', 'QUESTIONS', 'BACKGROUND_ASSETS',\r\n  'QUESTIONNAIRES', 'QUESTIONNAIRE_QUESTIONS',\r\n  'BACKGROUND_AUDIOS', 'USER_GAME_RESULTS', 'LANGUAGES' ]\r\n\r\nexport default apiValues\r\n","import { apiConstantBuilder } from '../_helpers/apiConstantBuilder'\r\nimport apiValues from '../apiValues'\r\n\r\nlet apiConstants = {}\r\n\r\napiValues.map( value => apiConstants[value] = apiConstantBuilder(value) )\r\n\r\nexport { apiConstants }\r\n","export const apiConstantBuilder = apiDataType => {\r\n  return {\r\n    UPDATE_REQUEST: `${apiDataType}_UPDATE_REQUEST`,\r\n    UPDATE_SUCCESS: `${apiDataType}_UPDATE_SUCCESS`,\r\n    UPDATE_FAILURE: `${apiDataType}_UPDATE_FAILURE`,\r\n\r\n    CREATE_REQUEST: `${apiDataType}_CREATE_REQUEST`,\r\n    CREATE_SUCCESS: `${apiDataType}_CREATE_SUCCESS`,\r\n    CREATE_FAILURE: `${apiDataType}_CREATE_FAILURE`,\r\n\r\n    GETALL_REQUEST: `${apiDataType}_GETALL_REQUEST`,\r\n    GETALL_SUCCESS: `${apiDataType}_GETALL_SUCCESS`,\r\n    GETALL_FAILURE: `${apiDataType}_GETALL_FAILURE`,\r\n\r\n    GETBYID_REQUEST: `${apiDataType}_GETBYID_REQUEST`,\r\n    GETBYID_SUCCESS: `${apiDataType}_GETBYID_SUCCESS`,\r\n    GETBYID_FAILURE: `${apiDataType}_GETBYID_FAILURE`,\r\n\r\n    FIND_REQUEST: `${apiDataType}_REQUES `,\r\n    FIND_SUCCESS: `${apiDataType}_SUCCES `,\r\n    FIND_FAILURE: `${apiDataType}_FAILUR `,\r\n\r\n    DELETE_REQUEST: `${apiDataType}_DELETE_REQUEST`,\r\n    DELETE_SUCCESS: `${apiDataType}_DELETE_SUCCESS`,\r\n    DELETE_FAILURE: `${apiDataType}_DELETE_FAILURE`,\r\n  }\r\n}\r\n","export const musicConstants = {\r\n\tSET:\t'SET'\r\n}\r\n","import { alertConstants } from '../_constants'\r\n\r\nexport const alertActions = {\r\n    success,\r\n    error,\r\n    clear\r\n}\r\n\r\nfunction success(message) {\r\n    return {\r\n        type: alertConstants.SUCCESS, \r\n        message\r\n    }\r\n}\r\n\r\nfunction error(message) {\r\n    return {\r\n        type: alertConstants.ERROR,\r\n        message\r\n    }\r\n}\r\n\r\nfunction clear() {\r\n    return {\r\n        type: alertConstants.CLEAR\r\n    }\r\n}","import { createBrowserHistory } from 'history'\r\n\r\nexport const history = createBrowserHistory()","import { userConstants } from '../_constants'\r\n\r\nlet user = JSON.parse(localStorage.getItem('user'))\r\nconst initialState = user ? { loggedIn: true, user } : {}\r\n\r\nexport function authentication (state = initialState, action){\r\n    switch (action.type) {\r\n        case userConstants.LOGIN_REQUEST:\r\n            return {\r\n                loggingIn: true,\r\n                user: action.user\r\n            }\r\n        case userConstants.LOGIN_SUCCESS:\r\n            return {\r\n                loggedIn: true,\r\n                user: action.user\r\n            }\r\n        case userConstants.LOGIN_FAILURE:\r\n            return {\r\n                logginFailure: true\r\n            }\r\n        case userConstants.LOGOUT:\r\n            return {}\r\n        default:\r\n            return state\r\n    }\r\n}\r\n","\r\nconst initialState = {\r\n  loading: false,\r\n  items: []\r\n}\r\n\r\nexport const reducerBuilder = constants => (state = initialState, action) =>\r\n{\r\n  switch (action.type) {\r\n      case constants.CREATE_REQUEST:\r\n          return {...state,\r\n            error: null,\r\n            creating: true\r\n          }\r\n      case constants.CREATE_SUCCESS:\r\n          return {...state,\r\n            creating: false,\r\n            items: [...state.items, action.data]\r\n          }\r\n      case constants.CREATE_FAILURE:\r\n          return {\r\n            error: action.error\r\n          }\r\n\r\n      case constants.UPDATE_REQUEST:\r\n          return {...state,\r\n            error: null,\r\n            updating: true\r\n          }\r\n      case constants.UPDATE_SUCCESS:\r\n          let index = state.items.findIndex( item => item.id === action.data.id )\r\n          let copy = [...state.items.slice(0, index), action.data, ...state.items.slice(index + 1)]\r\n          return {...state, updating: false,\r\n            items: copy\r\n          }\r\n      case constants.UPDATE_FAILURE:\r\n          return {...state, updating: false}\r\n\r\n      case constants.GETALL_REQUEST:\r\n          return {...state,\r\n              error: null,\r\n              loading: true\r\n          };\r\n      case constants.GETALL_SUCCESS:\r\n          return {...state,\r\n              loading: false,\r\n              items: action.data\r\n          };\r\n      case constants.GETALL_FAILURE:\r\n          return {...state,\r\n              loading: false,\r\n              error: action.error\r\n          };\r\n\r\n      case constants.GETBYID_REQUEST:\r\n          return {...state,\r\n              error: null,\r\n              loading: true\r\n          };\r\n      case constants.GETBYID_SUCCESS:\r\n          return {...state,\r\n              items: [...state.items, action.data],\r\n              loading: false\r\n          };\r\n      case constants.GETBYID_FAILURE:\r\n          return {...state,\r\n              loading: false,\r\n              error: action.error\r\n          };\r\n\r\n        case constants.FIND_REQUEST:\r\n            return {...state,\r\n                error: null,\r\n                loading: true\r\n            };\r\n        case constants.FIND_SUCCESS:\r\n            return {...state,\r\n                items: action.data,\r\n                loading: false\r\n            };\r\n        case constants.FIND_FAILURE:\r\n            return {...state,\r\n                loading: false,\r\n                error: action.error\r\n            };\r\n\r\n      case constants.DELETE_REQUEST:\r\n          // add 'deleting:true' property to character being deleted\r\n          return {\r\n              ...state,\r\n              items: state.items.map(item =>\r\n                  item.id === action.id\r\n                      ? { ...item, deleting: true }\r\n                      : item\r\n              )\r\n          };\r\n      case constants.DELETE_SUCCESS:\r\n          // remove deleted character from state\r\n          return {...state,\r\n              items: state.items.filter(item => item.id !== action.id)\r\n          }\r\n      case constants.DELETE_FAILURE:\r\n          // remove 'deleting:true' property and add 'deleteError:[error]' property to character\r\n          return {\r\n              ...state,\r\n              items: state.items.map(item => {\r\n                  if (item.id === action.id) {\r\n                      // make copy of character without 'deleting:true' property\r\n                      const { deleting, ...copy } = item;\r\n                      // return copy of character with 'deleteError:[error]' property\r\n                      return { ...copy, deleteError: action.error };\r\n                  }\r\n                  return item;\r\n              })\r\n          };\r\n      default:\r\n          return state\r\n  }\r\n}\r\n","import { reducerBuilder } from '../_helpers/reducerBuilder'\r\nimport { apiConstants } from '../_constants'\r\n\r\nconst apiReducers = { }\r\nObject.keys(apiConstants).forEach(apiType => {\r\n  apiReducers[apiType.toLowerCase()] = reducerBuilder(apiConstants[apiType])\r\n})\r\n\r\n\r\nexport default apiReducers\r\n","import { combineReducers } from 'redux'\r\n\r\nimport { authentication } from './authentication.reducer'\r\nimport { registration } from './registration.reducer'\r\nimport { users } from './users.reducer'\r\nimport { alert } from './alert.reducer'\r\nimport { header } from './header.reducer'\r\nimport { music } from './music.reducer'\r\nimport apiReducers from './api.reducers'\r\n\r\nconst rootReducer = combineReducers({\r\n    authentication,\r\n    registration,\r\n    users,\r\n    alert,\r\n    header,\r\n    music,\r\n    ...apiReducers,\r\n})\r\n\r\nexport default rootReducer\r\n","import { userConstants } from '../_constants'\r\n\r\nexport function registration (state = {}, action) {\r\n    switch (action.type) {\r\n        case userConstants.REGISTER_REQUEST:\r\n            return {registering: true}\r\n        case userConstants.REGISTER_SUCCESS:\r\n            return {}\r\n        case userConstants.REGISTER_FAILURE:\r\n            return {}\r\n        default:\r\n            return state\r\n    }\r\n}","import { userConstants } from '../_constants';\r\n\r\nexport function users(state = {}, action) {\r\n    switch (action.type) {\r\n        case userConstants.UPDATE_REQUEST:\r\n            return {updating: true}\r\n        case userConstants.UPDATE_SUCCESS:\r\n            return {}\r\n        case userConstants.UPDATE_FAILURE:\r\n            return {}\r\n        case userConstants.GETALL_REQUEST:\r\n            return {...state,\r\n                loading: true\r\n            };\r\n        case userConstants.GETALL_SUCCESS:\r\n            return {...state,\r\n                items: action.users\r\n            };\r\n        case userConstants.GETALL_FAILURE:\r\n            return {...state,\r\n                error: action.error\r\n            };\r\n        case userConstants.GETBYID_REQUEST:\r\n            return {...state,\r\n                loading: true\r\n            };\r\n        case userConstants.GETBYID_SUCCESS:\r\n            return {...state,\r\n                items: action.user\r\n            };\r\n        case userConstants.GETBYID_FAILURE:\r\n            return {...state,\r\n                error: action.error\r\n            };\r\n        case userConstants.FIND_REQUEST:\r\n            return {...state,\r\n                loading: true\r\n            };\r\n        case userConstants.FIND_SUCCESS:\r\n            return {...state,\r\n                items: action.user\r\n            };\r\n        case userConstants.FIND_FAILURE:\r\n            return {...state,\r\n                error: action.error\r\n            };\r\n        case userConstants.DELETE_REQUEST:\r\n            // add 'deleting:true' property to user being deleted\r\n            return {\r\n                ...state,\r\n                items: state.items.map(user =>\r\n                    user.id === action.id\r\n                        ? { ...user, deleting: true }\r\n                        : user\r\n                )\r\n            };\r\n        case userConstants.DELETE_SUCCESS:\r\n            // remove deleted user from state\r\n            return {...state,\r\n                items: state.items.filter(user => user.id !== action.id)\r\n            };\r\n        case userConstants.DELETE_FAILURE:\r\n            // remove 'deleting:true' property and add 'deleteError:[error]' property to user\r\n            return {\r\n                ...state,\r\n                items: state.items.map(user => {\r\n                    if (user.id === action.id) {\r\n                        // make copy of user without 'deleting:true' property\r\n                        const { deleting, ...userCopy } = user;\r\n                        // return copy of user with 'deleteError:[error]' property\r\n                        return { ...userCopy, deleteError: action.error };\r\n                    }\r\n\r\n                    return user;\r\n                })\r\n            };\r\n        case userConstants.GETROLES_REQUEST:\r\n            return {...state,\r\n                loading: true\r\n            };\r\n        case userConstants.GETROLES_SUCCESS:\r\n            return {...state,\r\n                roles: action.users.roles\r\n            };\r\n        case userConstants.GETROLES_FAILURE:\r\n            return {...state,\r\n                error: action.error\r\n            };\r\n        default:\r\n            return state\r\n    }\r\n}\r\n","import { alertConstants} from '../_constants'\r\n\r\nexport function alert (state = {}, action) {\r\n    switch(action.type) {\r\n        case alertConstants.SUCCESS:\r\n            return {\r\n                type: 'alert-succes',\r\n                message: action.message\r\n            }\r\n        case alertConstants.ERROR:\r\n            return {\r\n                type: 'alert-danger',\r\n                message: action.message\r\n            }\r\n        case alertConstants.CLEAR:\r\n            return {}\r\n        default:\r\n            return state\r\n    }\r\n}\r\n","import { headerConstants } from '../_constants'\r\n\r\nexport function header (state = {state: headerConstants.STATES.NORMAL, title: \"\", subtitle: \"\"}, action) {\r\n    switch(action.type) {\r\n        case headerConstants.SET_TITLE:\r\n\t\t\treturn {...state, title: action.newTitle};\r\n\r\n\t\tcase headerConstants.SET_SUBTITLE:\r\n\t\t\treturn {...state, subtitle: action.newSubtitle};\r\n\r\n\t\tcase headerConstants.SET_ALL:\r\n\t\t\treturn {...state, title: action.newTitle, subtitle: action.newSubtitle};\r\n\r\n\t\tcase headerConstants.CLEAR_TITLE:\r\n\t\t\treturn {...state, title: \"\"};\r\n\r\n\t\tcase headerConstants.CLEAR_SUBTITLE:\r\n\t\t\treturn {...state, subtitle: \"\"};\r\n\r\n\t\tcase headerConstants.CLEAR_ALL:\r\n\t\t\treturn {...state, title: \"\", subtitle: \"\"};\r\n\r\n\t\tcase headerConstants.SET_STATE:\r\n\t\t\treturn {...state, state: action.newState};\r\n\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n    }\r\n}\r\n","import { musicConstants } from '../_constants/music.constants'\r\n\r\nexport function music ( state = {url: '', volume: 15}, action ) {\r\n\tswitch( action.type ) {\r\n\t\tcase musicConstants.SET:\r\n\t\t\treturn {...state, url: action.url};\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n}\r\n","import { createStore, applyMiddleware, compose } from 'redux'\r\nimport thunkMiddleware from 'redux-thunk'\r\nimport { createLogger } from 'redux-logger'\r\nimport rootReducer from '../_reducers'\r\n\r\nconst loggerMiddleware = createLogger()\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose\r\nconst store = createStore(\r\n    rootReducer,\r\n    composeEnhancers(\r\n      applyMiddleware(\r\n          thunkMiddleware,\r\n          loggerMiddleware\r\n      )\r\n    )\r\n)\r\n\r\nexport { store }\r\n","export function authHeader () {\r\n    const user = JSON.parse(localStorage.getItem('user'))\r\n    return user && user.jwt ? {\r\n        'Authorization': 'Bearer ' + user.jwt\r\n    } : {}\r\n}\r\n","import axios from 'axios'\r\nimport { authHeader } from '../_helpers'\r\nimport apiValues from '../apiValues'\r\n\r\nconst baseURL = 'https://learning-tool-backend.herokuapp.com'\r\nconst api  = axios.create({ baseURL })\r\n\r\nconst getAllBuilder = (routeName) => function getAll() {\r\n    // pegar rota\r\n    return api(\r\n      {\r\n        method: 'get',\r\n        url: `/${routeName.toLowerCase().replace(/_/g, '-')}`,\r\n        headers: authHeader()\r\n      })\r\n      .then(handleResponse)\r\n}\r\n\r\nconst getByIdBuilder = (routeName) => function getById(id){\r\n    return api(\r\n        {\r\n          method: 'get',\r\n          url: `/${routeName.toLowerCase().replace(/_/g, '-')}/${id}`,\r\n          headers: authHeader()\r\n        })\r\n        .then(handleResponse)\r\n}\r\n\r\nconst findBuilder = (routeName) => function find(data) {\r\n  return api(\r\n    {\r\n      method: 'get',\r\n      url: `/${routeName.toLowerCase().replace(/_/g, '-')}`,\r\n      headers: authHeader(),\r\n      query: data\r\n    })\r\n    .then(handleResponse)\r\n}\r\n\r\nconst createBuilder = (routeName) => function create(data) {\r\n    return api(\r\n      {\r\n        method: 'post',\r\n        url: `/${routeName.toLowerCase().replace(/_/g, '-')}`,\r\n        headers: authHeader(),\r\n        data: data\r\n      })\r\n      .then(handleResponse)\r\n}\r\n\r\nconst updateBuilder = (routeName) => function update(data){\r\n    return api(\r\n        {\r\n          method: 'put',\r\n          url: `/${routeName.toLowerCase().replace(/_/g, '-')}/${data.id}`,\r\n          headers:  {\r\n            ...authHeader(),\r\n          'Content-Type': 'application/json'\r\n          },\r\n          data: data\r\n        })\r\n        .then(handleResponse)\r\n}\r\n\r\nconst deleteBuilder = (routeName) => function _delete(id){\r\n    return api(\r\n        {\r\n          method: 'delete',\r\n          url: `/${routeName.toLowerCase().replace(/_/g, '-')}/${id}`,\r\n          headers: authHeader()\r\n        })\r\n        .then(handleResponse)\r\n}\r\n\r\nfunction handleResponse(response) {\r\n  if(response.status !== 200){\r\n      if(response.status === 401){\r\n          window.location.reload()\r\n      }\r\n      return Promise.reject(response.statusText)\r\n  }\r\n\r\n  return response.data\r\n}\r\n\r\nlet apiServices = {}\r\n\r\napiValues.map( apiDataType =>\r\n  apiServices[`${apiDataType}`] = {\r\n    getAll:  getAllBuilder(apiDataType),\r\n    getById: getByIdBuilder(apiDataType),\r\n    find:  findBuilder(apiDataType),\r\n    create:  createBuilder(apiDataType),\r\n    update:  updateBuilder(apiDataType),\r\n    delete:  deleteBuilder(apiDataType)\r\n})\r\n\r\nexport { apiServices, baseURL }\r\nexport default api\r\n","import { authHeader } from '../_helpers'\r\nimport api from './api.services'\r\n\r\nexport const userService = {\r\n    login,\r\n    logout,\r\n    register,\r\n    getAll,\r\n    getById,\r\n    find,\r\n    update,\r\n    delete: _delete,\r\n    getRoles\r\n}\r\n\r\nfunction login(email, password) {\r\n    return api(\r\n        {\r\n            method: 'post',\r\n            url: '/auth/local',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n            data: {\r\n                identifier: email,\r\n                password: password\r\n            }\r\n        })\r\n        .then(response => {\r\n          if(response.data.jwt){\r\n            localStorage.setItem('user',JSON.stringify(response.data))\r\n          }\r\n            \r\n          return response.data\r\n        })\r\n}\r\n\r\nfunction logout(){\r\n    localStorage.removeItem('user')\r\n}\r\n\r\nfunction getAll() {\r\n    // pegar rota\r\n    return api(\r\n      {\r\n        method: 'get',\r\n        url: '/users',\r\n        headers: authHeader()\r\n      })\r\n      .then(handleResponse)\r\n}\r\n\r\nfunction getById(id){\r\n    return api(\r\n        {\r\n          method: 'get',\r\n          url: `/users/${id}`,\r\n          headers: authHeader()\r\n        })\r\n        .then(handleResponse)\r\n}\r\n\r\nfunction find(data) {\r\n  return api(\r\n    {\r\n      method: 'get',\r\n      url: '/users',\r\n      headers: authHeader(),\r\n      query: data\r\n    })\r\n    .then(handleResponse)\r\n}\r\n\r\nfunction register(user) {\r\n  console.log(user)\r\n    return api(\r\n        {\r\n          method: 'post',\r\n          url: '/auth/local/register',\r\n          headers: {\r\n            'Content-Type': 'application/json'\r\n            },\r\n          data: user,\r\n        })\r\n        .then(response => {\r\n          if(response.data.jwt){\r\n            localStorage.setItem('user',JSON.stringify(response.data))\r\n          }\r\n            \r\n          return response.data\r\n        })\r\n}\r\n\r\nfunction update(user){\r\n    // checar rotausers\r\n    return api(\r\n        {\r\n          method: 'put',\r\n          url: `/users/${user.id}`,\r\n          headers:  {\r\n            ...authHeader(),\r\n          'Content-Type': 'application/json'\r\n          },\r\n          data: user\r\n        })\r\n        .then(response => {\r\n          console.log(response)\r\n        })\r\n}\r\n\r\nfunction _delete(id){\r\n    return api(\r\n        {\r\n          method: 'delete',\r\n          url: `/users/${id}`,\r\n          headers: authHeader()\r\n        })\r\n        .then(handleResponse)\r\n}\r\n\r\nfunction getRoles(){\r\n  return api(\r\n    {\r\n      method: 'get',\r\n      url: '/users-permissions/roles',\r\n      headers: authHeader()\r\n    })\r\n    .then(handleResponse)\r\n}\r\n\r\nfunction handleResponse(response) {\r\n  console.log(response)\r\n\r\n  if(response.status !== 200){\r\n      if(response.status === 401){\r\n          logout()\r\n          window.location.reload()\r\n      }\r\n\r\n      return Promise.reject(response.statusText)\r\n  }\r\n\r\n  return response.data\r\n}\r\n\r\n","import { userConstants } from '../_constants'\r\nimport { userService } from '../_services'\r\nimport { alertActions } from './'\r\n\r\nexport const userActions = {\r\n    getAll,\r\n    getById,\r\n    delete: _delete,\r\n    getRoles\r\n}\r\n\r\nexport const login = (email, password) => dispatch => {\r\n    dispatch(request({email}))\r\n\r\n    return userService.login(email, password)\r\n        .then(\r\n            user => {\r\n                dispatch(success(user))\r\n                return Promise.resolve()\r\n            },\r\n            error => {\r\n                dispatch(failure(error.toString()))\r\n                dispatch(alertActions.error(error.toString()))\r\n                return Promise.reject(error.response.data.data[0].messages[0].message)\r\n            }\r\n        )\r\n\r\n    function request(user) { return {type: userConstants.LOGIN_REQUEST, user} }\r\n    function success(user) { return {type: userConstants.LOGIN_SUCCESS, user} }\r\n    function failure(error) { return {type: userConstants.LOGIN_FAILURE, error} }\r\n}\r\n\r\nexport const logout = () => dispatch => {\r\n    userService.logout()\r\n    dispatch({type: userConstants.LOGOUT})                        \r\n}\r\n\r\nexport const register = (user) => dispatch => {\r\n    dispatch(request(user))\r\n\r\n    return userService.register(user)\r\n        .then(\r\n            user => {\r\n                dispatch(success())\r\n                return Promise.resolve()\r\n            },\r\n            error => {\r\n                dispatch(failure(error.toString()))\r\n                dispatch(alertActions.error(error.toString()))\r\n                return Promise.reject(error.response.data.data[0].messages[0].message)\r\n            }\r\n        )\r\n    function request(user) { return {type: userConstants.REGISTER_REQUEST, user} }\r\n    function success(user) { return {type: userConstants.REGISTER_SUCCESS, user} }\r\n    function failure(error) { return {type: userConstants.REGISTER_FAILURE, error} }\r\n}\r\n\r\nexport const update = (user) => dispatch => {\r\n    dispatch(request(user))\r\n\r\n    return userService.update(user)\r\n        .then(\r\n            user => {\r\n                dispatch(success())\r\n                return Promise.resolve()\r\n            },\r\n            error => {\r\n                dispatch(failure(error.toString()))\r\n                dispatch(alertActions.error(error.toString()))\r\n                return Promise.reject()\r\n            }\r\n        )\r\n\r\n    function request(user) { return {type: userConstants.UPDATE_REQUEST, user} }\r\n    function success(user) { return {type: userConstants.UPDATE_SUCCESS, user} }\r\n    function failure(error) { return {type: userConstants.UPDATE_FAILURE, error} }\r\n}\r\n\r\nfunction getAll(){\r\n    return dispatch => {\r\n        dispatch(request())\r\n\r\n        const r = userService.getAll()\r\n            r.then(\r\n                users => dispatch(success(users)),\r\n                error => dispatch(failure(error.toString()))\r\n            )\r\n    }\r\n\r\n    function request() { return {type: userConstants.GETALL_REQUEST} }\r\n    function success(users) { return {type: userConstants.GETALL_SUCCESS, users} }\r\n    function failure(error) { return {type: userConstants.GETALL_FAILURE, error} }\r\n}\r\n\r\nfunction getById(id){\r\n    return dispatch => {\r\n        dispatch(request())\r\n\r\n        userService.getById(id)\r\n            .then(\r\n                user => dispatch(success(user)),\r\n                error => dispatch(failure(error.toString()))\r\n            )\r\n    }\r\n\r\n    function request() { return {type: userConstants.GETBYID_REQUEST} }\r\n    function success(user) { return {type: userConstants.GETBYID_SUCCESS, user} }\r\n    function failure(error) { return {type: userConstants.GETBYID_FAILURE, error} }\r\n}\r\n\r\nfunction _delete(id){\r\n    return dispatch => {\r\n        dispatch(request(id))\r\n\r\n        userService.delete(id)\r\n            .then(\r\n                user => dispatch(success(id)),\r\n                error => dispatch(failure(id, error.toString()))\r\n            )\r\n    }\r\n\r\n    function request(id) { return {type: userConstants.DELETE_REQUEST, id} }\r\n    function success(id) { return {type: userConstants.DELETE_SUCCESS, id} }\r\n    function failure(id, error) { return {type: userConstants.DELETE_FAILURE, id, error} }\r\n}\r\n\r\nfunction getRoles(){\r\n    return dispatch => {\r\n        dispatch(request())\r\n\r\n        const r = userService.getRoles()\r\n            r.then(\r\n                users => dispatch(success(users)),\r\n                error => dispatch(failure(error.toString()))\r\n            )\r\n    }\r\n\r\n    function request() { return {type: userConstants.GETROLES_REQUEST} }\r\n    function success(users) { return {type: userConstants.GETROLES_SUCCESS, users} }\r\n    function failure(error) { return {type: userConstants.GETROLES_FAILURE, error} }\r\n}","import { headerConstants } from '../_constants'\r\n\r\nconst setTitle = (title) => {return {type: headerConstants.SET_TITLE, newTitle: title}};\r\nconst setSubtitle = (subtitle) => {return {type: headerConstants.SET_SUBTITLE, newSubtitle: subtitle}};\r\nconst setAll = (title, subtitle) => {return {type: headerConstants.SET_ALL, newTitle: title, newSubtitle: subtitle}};\r\n\r\nconst clearTitle = () => {return {type: headerConstants.CLEAR_TITLE}};\r\nconst clearSubtitle = () => {return {type: headerConstants.CLEAR_SUBTITLE}};\r\nconst clearAll = () => {return {type: headerConstants.CLEAR_ALL}};\r\n\r\nconst setState = (state) => {return {type: headerConstants.SET_STATE, newState: state}};\r\n\r\nexport const headerActions = {\r\n\tsetTitle,\r\n\tsetSubtitle,\r\n\tsetAll,\r\n\tclearTitle,\r\n\tclearSubtitle,\r\n\tclearAll,\r\n\tsetState\r\n}","import { apiConstants } from '../_constants'\r\nimport { apiServices } from '../_services'\r\n\r\nfunction requester(service, request, success, failure, payload){\r\n  return dispatch => {\r\n      dispatch(request(payload))\r\n\r\n      return service(payload)\r\n        .then(\r\n            data => {\r\n              dispatch(success(data))\r\n              return Promise.resolve()\r\n              },\r\n            error => {\r\n                dispatch(failure(error.toString()))\r\n\r\n                try {\r\n                  return Promise.reject(error.response.data.data[0].messages[0].message)\r\n                } catch{\r\n                  console.log(error)\r\n                }\r\n            }\r\n          )\r\n  }\r\n}\r\n\r\n//Could use some code refactory\r\nconst getAllConstructor = (service, apiDataType) => {\r\n  return function(){\r\n    return requester(service.getAll, request, success, failure)\r\n\r\n    function request() { return { type: apiConstants[apiDataType].GETALL_REQUEST }}\r\n    function success(data) { return {type: apiConstants[apiDataType].GETALL_SUCCESS, data} }\r\n    function failure(error) { return {type: apiConstants[apiDataType].GETALL_FAILURE, error} }\r\n  }\r\n}\r\n\r\nconst getByIdConstructor = (service, apiDataType) => {\r\n  return function(id){\r\n    return requester(service.getById, request, success, failure, id)\r\n\r\n    function request() { return {type: apiConstants[apiDataType].GETBYID_REQUEST} }\r\n    function success(data) { return {type: apiConstants[apiDataType].GETBYID_SUCCESS, data} }\r\n    function failure(error) { return {type: apiConstants[apiDataType].GETBYID_FAILURE, error} }\r\n  }\r\n}\r\n\r\nconst findConstructor = (service, apiDataType) => {\r\n  return function(findData){\r\n    return requester(service.find, request, success, failure, findData)\r\n\r\n    function request() { return {type: apiConstants[apiDataType].FIND_REQUEST} }\r\n    function success(data) { return {type: apiConstants[apiDataType].FIND_SUCCESS, data} }\r\n    function failure(error) { return {type: apiConstants[apiDataType].FIND_FAILURE, error} }\r\n  }\r\n}\r\n\r\nconst createConstructor = (service, apiDataType) => {\r\n  return function(createData){\r\n    return requester(service.create, request, success, failure, createData)\r\n\r\n    function request(data) { return {type: apiConstants[apiDataType].CREATE_REQUEST, [apiDataType]: data}}\r\n    function success(data) { return {type: apiConstants[apiDataType].CREATE_SUCCESS, data} }\r\n    function failure(error) { return {type: apiConstants[apiDataType].CREATE_FAILURE, error} }\r\n  }\r\n}\r\n\r\nconst updateConstructor = (service, apiDataType) => {\r\n  return function(updateData){\r\n      return requester(service.update, request, success, failure, updateData)\r\n\r\n      function request(data) { return {type: apiConstants[apiDataType].UPDATE_REQUEST, [apiDataType]: data} }\r\n      function success(data) { return {type: apiConstants[apiDataType].UPDATE_SUCCESS, data} }\r\n      function failure(error) { return {type: apiConstants[apiDataType].UPDATE_FAILURE, error} }\r\n  }\r\n}\r\n\r\nconst deleteConstructor = (service, apiDataType) => {\r\n  return function(deleteData){\r\n    return requester(service.delete, request, success, failure, deleteData)\r\n\r\n    function request(data) { return {type: apiConstants[apiDataType].DELETE_REQUEST, [apiDataType]: data} }\r\n    function success(data) { return {type: apiConstants[apiDataType].DELETE_SUCCESS, id: data.id} }\r\n    function failure(error) { return {type: apiConstants[apiDataType].DELETE_FAILURE, error} }\r\n  }\r\n}\r\n\r\nlet apiActions = {}\r\nObject.keys(apiConstants).forEach( (apiDataType) => {\r\n  apiActions[`${apiDataType.toLowerCase()}Actions`] = {\r\n    getAll:  getAllConstructor(apiServices[apiDataType], apiDataType),\r\n    getById: getByIdConstructor(apiServices[apiDataType], apiDataType),\r\n    find: findConstructor(apiServices[apiDataType],\r\n    apiDataType),\r\n    create:  createConstructor(apiServices[apiDataType], apiDataType),\r\n    update:  updateConstructor(apiServices[apiDataType], apiDataType),\r\n    delete:  deleteConstructor(apiServices[apiDataType], apiDataType)\r\n  }\r\n})\r\n\r\nexport { apiActions }\r\n","import { musicConstants } from '../_constants'\r\n\r\nconst set = (music) => { return { type: musicConstants.SET, url: music } }\r\n\r\nexport const musicActions = \r\n{\r\n  set\r\n}\r\n","import React from 'react'\r\nimport avatar from '../../img/avatar1.svg'\r\nimport home from '../../img/i-home.svg'\r\nimport notifications from '../../img/i-notification.svg'\r\nimport settings from '../../img/i-settings.svg'\r\nimport { logout } from '../../_actions'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { useAlert } from 'react-alert';\r\nimport Button from '@material-ui/core/Button'\r\n\r\nconst UserHeader = ({pageInfo}) => {\r\n\tlet headerInfo = useSelector(state => state.header)\r\n    const [state, setState] = React.useState( {view: 'default'} );\r\n\tconst dispatch = useDispatch()\r\n\tconst alert = useAlert()\r\n\r\n\tconst clickProfile = () => {\r\n\t\tsetState({...state, view: 'profile'});\r\n\t\talert.show(\"Vc achou onde faz para abrir o seu perfil! \\n\\n Ending 3/15\");\r\n\t}\r\n\r\n\tconst clickHome = () => {\r\n\t\tsetState({...state, view: 'home'});\r\n\t\talert.show(\"Vc achou onde faz para voltar ao início! \\n\\n Ending 1/15\");\r\n\t}\r\n\r\n\tconst clickNotif = () => {\r\n\t\tsetState({...state, view: 'notif'});\r\n\t\talert.show(\"Vc achou onde faz para ver suas notificações! \\n\\n Ending 7/15\");\r\n\t}\r\n\r\n\tconst clickSettings = () => {\r\n\t\tsetState({...state, view: 'settings'});\r\n\t\talert.show(\"Vc achou onde faz para abrir suas configurações! \\n\\n Ending 8/15\");\r\n\t}\r\n\r\n\treturn (\r\n\t\t<header id=\"app-header\" className={ headerInfo.state.toLowerCase() }>\r\n\t\t\t<div className=\"group-btns\" id=\"left-btns\">\r\n\t\t\t\t<div className=\"header-btn\" id=\"home-btn\" onClick={clickHome}><img src={home} alt=\"Home\"></img></div>\r\n\t\t\t\t<div className=\"header-btn\" id=\"notif-btn\" onClick={clickNotif}><img src={notifications} alt=\"Notifications\"></img></div>\r\n\t\t\t\t<div className=\"header-btn\" id=\"settings-btn\" onClick={clickSettings}><img src={settings} alt=\"Settings\"></img></div>\r\n\t\t\t</div>\r\n\t\t\t<div id=\"pageTitle\">\r\n\t\t\t\t<div id=\"mainTitle\">{headerInfo.title}</div>\r\n\t\t\t\t<div id=\"subTitle\">{headerInfo.subtitle}</div>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"group-btns\" id=\"right-btns\">\r\n\t\t\t\t<div id=\"profilePic\" onClick={clickProfile}><img src={avatar} alt=\"Profile_Picture\"/></div>\r\n\t\t\t\t<div className=\"header-btn\" id=\"logout-btn\" onClick={() => {dispatch(logout())}}>Logout</div>\r\n\t\t\t</div>\r\n\t\t\t{/* style provisório para teste*/}\r\n\t\t\t{ state.view === 'settings' &&\r\n\t\t\t\t<div className='ConfigPopUp' style={{position: 'absolute', backgroundColor: '#ddddee', top: 100, margin: '0 auto', width: '50%', height: 500}}>\r\n\t\t\t\t\tConfigurações\r\n\t\t\t\t\t<Button>Config 1</Button>\r\n\t\t\t\t\t<Button>Config 2</Button>\r\n\t\t\t\t\t<Button>Config 3</Button>\r\n\t\t\t\t\t<Button onClick={() => setState({...state, view: 'default'})}>X</Button>\r\n\t\t\t\t</div>\r\n\t\t\t}\r\n\t\t</header>\r\n\t)\r\n\t/**/\r\n}\r\n\r\nexport default UserHeader\r\n","import React from 'react'\r\n\r\nconst DefaultHeader = ({pageInfo}) => {\r\n\r\n\treturn (\r\n\t\t<header id=\"app-header\" className=\"normal\">\r\n\t\t\t<div className=\"group-btns\">\r\n\t\t\t\t<div className=\"header-btn\">Home</div>\r\n\t\t\t\t<div className=\"header-btn\">About</div>\r\n\t\t\t</div>\r\n\t\t</header>\r\n\t)\r\n\t\r\n}\r\n\r\nexport default DefaultHeader","import './index.scss'\r\nimport React from 'react'\r\nimport UserHeader from '../UserHeader'\r\nimport DefaultHeader from '../DefaultHeader'\r\n\r\nconst AppHeader = ({props}) => {\r\n\treturn props.isLogged ? <UserHeader pageInfo={props} /> : <DefaultHeader />\r\n}\r\n\r\nexport default AppHeader","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport './index.scss'\r\n\r\nconst Home = () => {\r\n  return(\r\n    <div id=\"message\">\r\n      Aqui é a home. Nada muito interessante aqui. Se quiser fazer login:\r\n      <Link to='/login' className=\"btn-normal\">Login</Link>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Home\r\n","import React from 'react'\r\nimport './index.scss'\r\n\r\nconst Init = ({icon, name, description, nameTranlate = \"Name\", descriptionTranlate = \"Description\", onStart, onBack, onSeeTutorial}) => {\r\n    return (\r\n        <div className=\"main-init-wrapper\">\r\n          <div className=\"inner-content\">\r\n            <div name=\"infos\">\r\n              <img className=\"classImage\" src={icon} alt=\"\"/>\r\n              <h1 className=\"margin-half-top type-l type-display type-center\">{name}</h1>\r\n              <h1 className=\"type-m type-display type-center subtitle\">{nameTranlate}</h1>\r\n\r\n              <h2 className=\"margin-half-top type-s type-center description\">{description}</h2>\r\n              <h2 className=\"type-s type-center subdescription\">{descriptionTranlate}</h2>\r\n            </div>\r\n            <div id=\"btns\">\r\n              { onBack && <button className=\"btn btn-center\" id=\"btn-back\" onClick={onBack}>Voltar</button> }\r\n              { onStart && <button className=\"btn btn-center\" id=\"btn-start\" onClick={onStart}>Iniciar</button> }\r\n              { onSeeTutorial && <button className=\"btn btn-center\" id=\"btn-tutorial\" onClick={onSeeTutorial}>Ver tutorial</button> }\r\n            </div>\r\n          </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Init\r\n","import React from 'react'\r\nimport './index.scss'\r\n\r\nconst Result = ({gameEndState}) => {\r\n    return (\r\n        <div>\r\n            {/* Não era pra a gente precisar checar se a string é null, pq era pra isso\r\n            só aparecer quando já tivesse um valor na string... WTF */}\r\n            { gameEndState ? gameEndState.split('\\n').map( str => <p>{str}</p>) : null}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Result\r\n","import React from 'react'\r\nimport './index.scss'\r\n\r\nconst RoomSelect = ({value, buttonList, onChange}) => {\r\n\tconst [state, setState] = React.useState(0)\r\n\r\n\tconst buttonClick = (num) => () => {\r\n\t\tif(onChange) {\r\n\t\t\tonChange(num)\r\n\t\t\tsetState(num)\r\n\t\t}\r\n\t}\r\n\r\n\tReact.useEffect(() => {\r\n\t\tif(value) setState(value)\r\n\t}, [value])\r\n\r\n  return (\r\n\t<div id=\"RoomSelect\">\r\n\t\t<div className=\"section-title\">\r\n\t\t\t<span lang=\"pt-br\">Salas</span>\r\n\t\t\t<span lang=\"en\">Rooms</span>\r\n\t\t</div>\r\n\t\t<div id=\"button-rows\">\r\n\t\t\t{buttonList.map( (name, index) =>\r\n\t\t\t\t<button className={\"RoomBtn\" + (onChange ? \"\" : \" disabled\")} key={index}\r\n\t\t\t\tid={ state === index ? \"selected\" : \"\" }\r\n\t\t\t\tonClick={buttonClick(index)}\r\n\t\t\t\t>\r\n\t\t\t\t\t{index+1}\r\n\t\t\t\t</button> )}\r\n\t\t</div>\r\n\t</div>\r\n  )\r\n}\r\n\r\nexport default RoomSelect\r\n","import React from 'react'\r\nimport './sala.scss'\r\n\r\nconst Sala = ({children, roomData, setCurrentChar}) => {\r\n\r\n  const img = roomData && roomData.backgroundAssets.length > 0 ? roomData.backgroundAssets[0].image[0].url : \"\"\r\n  return (\r\n      // <div id=\"sala\" style={{backgroundImage: `url(\"${img}\")`}}>\r\n      <div id=\"sala\">\r\n        <img src={img} alt=\"\" />\r\n        <div id=\"sala-content\">\r\n          {children}\r\n        </div>\r\n      </div>\r\n  )\r\n}\r\n\r\nexport default Sala\r\n","import React from 'react'\r\nimport './character.scss'\r\n\r\nconst Character = ({zDepth, character, dragPosition, position, onClick, showNameOnHover}) => {\r\n    return (\r\n    <div className=\"CharDiv\" onClick={onClick} style={{\"--z\": zDepth}}>\r\n        <img src={character.characterAssets.length > 0 ? character.characterAssets.find(asset => asset.bodyPart === 'fullbody'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t).image[0].url : \"\"} alt={`${character.name}`}/>\r\n        {showNameOnHover && <div>{character.name}</div>}\r\n    </div>\r\n    )\r\n}\r\n\r\nexport default Character\r\n","const initialValue = () => ({\r\n  //METADATA\r\n    back: false,\r\n  //GAME STATE\r\n    scene: \"INIT\",\r\n    endGame: false,\r\n    currentLocationIndex: 0,\r\n    locations:[],\r\n    jobs:[],\r\n    countries:[],\r\n    contactsTemplate:[],\r\n    contactsAtSession:[],\r\n  //DIALOG\r\n    dialogHistory: [],\r\n    answers: [],\r\n    preSpeech: [],\r\n    currentChar: null,\r\n    characterFeeling: 'init',\r\n    showContacts: false,\r\n    maxQuestions: 4,\r\n    // onMinimize: null,\r\n    shouldMinimize: false,\r\n    shouldCloseDialog: false,\r\n    wrongContacts: 0,\r\n})\r\n\r\nexport default initialValue\r\n","const stub = {\r\n  name: 'Stub mission',\r\n  description: 'Local stub mission for tests',\r\n  locations: [\r\n    {name: 'sala', backgroundAssets: []},\r\n    {name: 'cozinha', backgroundAssets: []},\r\n    {name: 'biblioteca', backgroundAssets: []},\r\n    {name: 'escritório', backgroundAssets: []}],\r\n  characters: [\r\n    {\r\n      name: 'Joao', characterAssets: [],\r\n      answers: [\r\n        {\r\n          answer: 'oi',\r\n          question: {question: \"oi?\"}\r\n        },\r\n        {\r\n          answer: 'turusim',\r\n          question: {question: \"turubem?\"}\r\n        },\r\n\r\n        {\r\n          answer: 'kiésim',\r\n          question: {question: \"cumékié?\"}\r\n        }\r\n      ]\r\n    },\r\n    {name: 'Pedro', characterAssets: [], answers: [{question: {question: \"oi?\"}}]},\r\n    {name: 'Marta', characterAssets: [], answers: [{question: {question: \"oi?\"}}]},\r\n    {name: 'Suzane', characterAssets: [], answers: [{question: {question: \"oi?\"}}]},\r\n    {name: 'Maria', characterAssets: [], answers: [{question: {question: \"oi?\"}}]},\r\n    {name: 'Pablo', characterAssets: [], answers: [{question: {question: \"oi?\"}}]},\r\n  ]\r\n}\r\n\r\nexport default stub\r\n","import React from 'react'\r\n\r\nconst Dropdown = ({style, defaultText, onChange, label, optionList, value}) => {\r\n\r\n  return(\r\n    <div className={label}>\r\n      <p>{label}</p>\r\n      <select style={style} value={value} onChange={onChange}>\r\n          <option value='' key={-1} disabled>{defaultText ?? \"-- Selecione --\"}</option>\r\n        {optionList?.map((option, index) =>\r\n          <option value={option} key={index}>{option}</option>\r\n        )}\r\n      </select>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Dropdown\r\n","export default __webpack_public_path__ + \"static/media/Celular Sala.f026f530.svg\";","export default __webpack_public_path__ + \"static/media/Celular Base.794704d0.svg\";","export default __webpack_public_path__ + \"static/media/Mão dedão.60615287.svg\";","export default __webpack_public_path__ + \"static/media/Mão palma.ff873eea.svg\";","import React from 'react'\r\n\r\nimport './index.scss'\r\n\r\n/**\r\n * Cria um novo contexto de renderização de página inteira com fundo branco semitransparente\r\n * @param  {Object} props\r\n * @param  {Object | Object[]} props.children\t\t\t\t\t\t\tElementos a serem renderizados\r\n * @param  {boolean} [props.showCloseBtn]\t\t\t\t\t\t\t\tDevo mostrar o botão de fechar?\r\n * @param  {boolean} [props.shouldExit]\t\t\t\t\t\t\t\t\tDevo fechar? Se verdadeiro, inicia animação de fechamento\r\n * @param  {() => void} [props.onClickClose]\t\t\t\t\t\t\tCallback para quando clicam no botão de fechar\r\n * @param  {(event) => void} [props.onReadyToExit]\t\t\t\t\t\tCallback para quando terminei de fechar\r\n * @param  {{r:number, g:number, b:number, a:number}} [props.bgRGBA]\tCor (formato da função rgba()) do fundo desse novo contexto. default é r:255, g:255, b:255, a:0.73\r\n * @param  {{r:number, g:number, b:number}} [props.closeRGB]\t\t\tCor (formato da função rgba()) do botão de fechar desse novo contexto. default é r:255, g:255, b:255, a:0.73\r\n * @param  {{r:number, g:number, b:number}} [props.closeHoverRGB]\t\tCor (formato da função rgba()) do botão de fechar quanto em hover desse novo contexto. default é r:255, g:255, b:255, a:0.73\r\n */\r\nconst FullscreenOverlay = ({\r\n\t\tchildren,\r\n\t\tshowCloseBtn = true,\r\n\t\tshouldExit = false,\r\n\t\tonClickClose,\r\n\t\tonReadyToExit,\r\n\t\tbgRGBA = {},\r\n\t\tcloseRGB = {},\r\n\t\tcloseHoverRGB = {}\r\n\t}) => {\r\n\r\n\tif( showCloseBtn && onClickClose == null ) throw Error(\"Invalid callback for click on close button.\")\r\n\tif( shouldExit && onReadyToExit == null ) throw Error(\"Invalid callback for when finishing the exit animation.\")\r\n\r\n\tconst _readyToExit = (event) => {\r\n\t\tif ( event.target === event.currentTarget ) onReadyToExit(event)\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div id=\"fullscreen-overlay\"\r\n\t\t\t className={shouldExit ? \"ExitAnim\" : null}\r\n\t\t\t onAnimationEnd={shouldExit ? _readyToExit : null}\r\n\t\t\t style={{'--bgR': bgRGBA.r ?? 255, '--bgG': bgRGBA.g ?? 255, '--bgB': bgRGBA.b ?? 255, '--bgA': bgRGBA.a ?? 0.73}}\r\n\t\t>\r\n\t\t\t{children}\r\n\t\t\t{showCloseBtn &&\r\n\t\t\t\t<div\r\n\t\t\t\t\tid=\"fullscreen-overlay-close-btn\"\r\n\t\t\t\t\tonClick={onClickClose}\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t'--closeR': closeRGB.r ?? 89,\r\n\t\t\t\t\t\t'--closeG': closeRGB.g ?? 49,\r\n\t\t\t\t\t\t'--closeB': closeRGB.b ?? 109,\r\n\t\t\t\t\t\t'--closeHoverR': closeHoverRGB.r ?? 249,\r\n\t\t\t\t\t\t'--closeHoverG': closeHoverRGB.g ?? 175,\r\n\t\t\t\t\t\t'--closeHoverB': closeHoverRGB.b ?? 161\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<span>×</span>\r\n\t\t\t\t</div>\r\n\t\t\t}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default FullscreenOverlay\r\n","import React from 'react'\r\nimport Dropdown from '../Dropdown'\r\n\r\nimport smallPhone from '../../../../img/Game1/Celular Sala.svg'\r\nimport bigPhone from '../../../../img/Game1/Celular Base.svg'\r\nimport dedao from '../../../../img/Game1/Mão dedão.svg'\r\nimport palma from '../../../../img/Game1/Mão palma.svg'\r\n\r\nimport './index.scss'\r\nimport FullscreenOverlay from '../../../Game2/components/FullscreenOverlay'\r\n\r\n// const Phone = ({children, modifyContact, contactsTemplate, contacts, jobs, countries, onAddContact, onFinish, onMinimize}) => {\r\nconst Phone = ({children, modifyContact, contactsTemplate, contacts, jobs, countries, onAddContact, onFinish, shouldMinimize, onMinimize}) => {\r\n\tconst [state,setState] = React.useState({maximized: false, shouldMinimize: false})\r\n\t// const [newContact,setNewContact] = React.useState({name: '', job: '', country: ''})\r\n\t\r\n\tReact.useEffect( () => {\r\n\t\tsetState({...state, contacts: contacts})\r\n\t\t//eslint-disable-next-line\r\n\t}, [contacts])\r\n\t\r\n\tReact.useEffect( () => {\r\n\t\tif(shouldMinimize) _shouldMinimize()\r\n\t\t//eslint-disable-next-line\r\n\t}, [shouldMinimize])\r\n\r\n\t// React.useEffect( () => {\r\n\t// \tif(onMinimize) _shouldMinimize()\r\n\t// \t//eslint-disable-next-line\r\n\t// }, [onMinimize])\r\n\r\n\tconst _maximize = () => {\r\n\t\tsetState({...state, maximized: true})\r\n\t}\r\n\t\r\n\tconst _shouldMinimize = () => {\r\n\t\tsetState({...state, shouldMinimize: true})\r\n\t}\r\n\r\n\tconst _minimized = () => {\r\n\t\t// setState({...state, shouldMinimize: false, maximized: false})\r\n\t\tstate.shouldMinimize = false\r\n\t\tstate.maximized = false\r\n\t\tif(typeof(onMinimize) === \"function\") onMinimize()\r\n\t}\r\n\r\n\t// const _addContato = () => {\r\n\t// \tif(onAddContact) onAddContact(newContact)\r\n\t// \telse throw new Error(\"Using phone without callback: onAddContact\")\r\n\t// \tsetNewContact({name: '', job: '', country: ''})\r\n\t// }\r\n\r\n\tconst _terminou = () => {\r\n\t\tif(typeof(onFinish) === \"function\") onFinish()\r\n\t\telse console.log(\"onFinish not set or is not a function\")\r\n\t}\r\n\r\n\tconst _contatoTemplate = (contact, key) => {\r\n\t\treturn (\r\n\t\t\t<div className=\"contato\" key={key}>\r\n\t\t\t\t<div className=\"contact-profile-pic\">\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<div></div>\r\n\t\t\t\t\t\t<div></div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<span>{key+1}</span>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"name\">\r\n\t\t\t\t\t<p>Nome</p>\r\n\t\t\t\t\t<input type=\"text\" name=\"nome\" placeholder=\"Nome do contato\" value={contact.name} readOnly=\"readonly\" onChange={()=>{}}/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<Dropdown\r\n\t\t\t\t\t// style={ contact.job === contactsTemplate?.find( template => template?.id === contact.id).job? {backgroundColor: '#cceecc'} : {}}\r\n\t\t\t\t\tonChange={e => modifyContact({...contact, job: e.target.value}) }\r\n\t\t\t\t\tlabel={\"Profissão\"}\r\n\t\t\t\t\tvalue={contact.job}\r\n\t\t\t\t\toptionList={jobs}\r\n\t\t\t\t/>\r\n\t\t\t\t<Dropdown\r\n\t\t\t\t\t// style={ contact.country === contactsTemplate?.find( template => template?.id === contact.id).country? {backgroundColor: '#cceecc'} : {}}\r\n\t\t\t\t\tonChange={e => modifyContact({...contact, country: e.target.value})}\r\n\t\t\t\t\tlabel={\"Nacionalidade\"}\r\n\t\t\t\t\tvalue={contact.country}\r\n\t\t\t\t\toptionList={countries}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n\r\n\treturn(\r\n\t\t<div id=\"phone\">\r\n\t\t\t<div id=\"small-phone-wrapper\" className={state.maximized ? \"maximized\" : null}>\r\n\t\t\t\t<div id=\"small-phone-inner-wrapper\">\r\n\t\t\t\t\t<div id=\"small-phone-content\" onClick={_maximize}>\r\n\t\t\t\t\t\t<div id=\"small-phone-floating-text\">\r\n\t\t\t\t\t\t\t<span lang=\"pt-br\">Adicione um novo contato</span>\r\n\t\t\t\t\t\t\t<span lang=\"default\">Add a new contact</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<img src={smallPhone} alt=\"\" />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t{state.maximized &&\r\n\t\t\t\t<FullscreenOverlay\r\n\t\t\t\t\t\tbgRGBA={{r:249, g:175, b:161, a:0.69}}\r\n\t\t\t\t\t\tcloseHoverRGB={{r: 255, g: 255, b: 255}}\r\n\t\t\t\t\t\tonClickClose={_shouldMinimize}\r\n\t\t\t\t\t\tshouldExit={state.shouldMinimize}\r\n\t\t\t\t\t\tonReadyToExit={_minimized}\r\n\t\t\t\t>\r\n\t\t\t\t\t<div id=\"big-phone-wrapper\" className={state.shouldMinimize ? \"minimizing\" : null}>\r\n\t\t\t\t\t\t<div id=\"big-phone-imgs\">\r\n\t\t\t\t\t\t\t<img src={palma} alt=\"\" />\r\n\t\t\t\t\t\t\t<img src={bigPhone} alt=\"\" />\r\n\t\t\t\t\t\t\t<img src={dedao} alt=\"\" />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div id=\"big-phone-screen-wrapper\">\r\n\t\t\t\t\t\t\t<div id=\"big-phone-screen-content\">\r\n\t\t\t\t\t\t\t\t<p>Lista de contatos</p>\r\n\t\t\t\t\t\t\t\t<div id=\"lista-contatos\">\r\n\t\t\t\t\t\t\t\t\t{contacts?.map((contact, index) => {\r\n\t\t\t\t\t\t\t\t\t\treturn _contatoTemplate(contact, index)\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t{/* <div id=\"add-contato\" className=\"contato\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"contact-profile-pic\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div></div>\r\n\t\t\t\t\t\t\t\t\t\t\t<span><strong>+</strong></span>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"Nome\">\r\n\t\t\t\t\t\t\t\t\t\t\t<p>Nome</p>\r\n\t\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tname=\"nome\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Nome do contato\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={newContact.name}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={(event)=>setNewContact({...newContact, name: event.target.value})}/>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\t\t\t\t\tlabel={\"Profissão\"}\r\n\t\t\t\t\t\t\t\t\t\t\toptionList={jobs}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={newContact.job}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={(event)=>setNewContact({...newContact, job: event.target.value})}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\t\t\t\t\tlabel={\"Nacionalidade\"}\r\n\t\t\t\t\t\t\t\t\t\t\toptionList={countries}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={newContact.country}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={(event)=>setNewContact({...newContact, country: event.target.value})}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\tid=\"btn-add-contato\"\r\n\t\t\t\t\t\t\t\t\t\t\tclassName={!(newContact.name && newContact.job && newContact.country) ? \"disabled\" : \"enabled\"}\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={addContato}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\tAdicionar contato\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div> */}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{/* <div id=\"btn-terminei\" onClick={() => setState({...state, changeRoomPopUp: true})}> */}\r\n\t\t\t\t\t\t<div id=\"btn-terminei-wrapper\">\r\n\t\t\t\t\t\t\t<div id=\"btn-terminei\" onClick={_terminou}>\r\n\t\t\t\t\t\t\t\tTerminei!\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</FullscreenOverlay>\r\n\t\t\t}\r\n\t\t</div>\r\n\t)\r\n}\r\nexport default Phone\r\n","import React from 'react'\r\n\r\nconst Menu = ({buttonList, onButtonClick}) => {\r\n  return(\r\n    <div id='Menu'>\r\n      <div id=\"menu-options\">\r\n        {buttonList.map( (button,index) =>\r\n          <button key={index} onClick={() => {onButtonClick(button)}}><span>{button.question}</span></button>\r\n          )}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Menu\r\n","import React from 'react'\r\n\r\nconst DialogCharacter = ({character, feeling}) => {\r\n  let characterImg = \"\"\r\n\r\n  if( !(character == null) ) {\r\n    if( character.characterAssets.length > 0 ) {\r\n      characterImg = character.characterAssets\r\n        .find(asset => asset.bodyPart === 'upperBody' && asset.type === feeling)\r\n        .image[0].url\r\n    }\r\n  }\r\n\r\n  return(\r\n    <div id='CharacterPortrait'>\r\n      {<img src={characterImg} alt=\"Character Portrait\" />}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default DialogCharacter\r\n","import React from 'react'\r\nimport './index.scss'\r\n\r\nconst DialogHistory = ({dialogHistory}) => {\r\n\treturn(\r\n\t\t<div id='dialog-history-wrapper'>\r\n\t\t\t<div id='dialog-history-content'>\r\n\t\t\t\t{dialogHistory.map((dialog, index)=>\r\n\t\t\t\t\t<div className={\"mensagem\" + (dialog.speaker==='player'? 0 : 1) } key={index}>{dialog.text}</div>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default DialogHistory\r\n","import React from 'react'\r\n/**\r\n * Componente para escrita de texto caracter a caracter\r\n * \r\n * @param  {Object} props\r\n * @param  {string} props.text\t\t\t\tTexto a ser escrito caracter por caracter\r\n * @param  {number} props.characterTime\t\tDelay, em milissegundos, entre cada caracter\r\n * @param  {() => void} props.onWritten\t\tCallback para quando terminou de escrever\r\n * @param  {number} props.afterWrittenTime\tDelay, em milissegundos, antes de avisar que terminou de escrever\r\n */\r\nconst Writer = ({text, characterTime, onWritten, afterWrittenTime}) => {\r\n\tconst [state, setState] = React.useState({text: text, index: 0})\r\n\r\n\tReact.useEffect( () => {\r\n\tif( text !== state.text )\r\n\t\tsetState( () => ({text: text, index: 0}))\r\n\t}, [text, state.text] )\r\n\r\n\tReact.useEffect( () => {\r\n\t\tlet timeoutID\r\n\t\tif( state.index < state.text.length ) {\r\n\t\t\ttimeoutID = setTimeout( () => { setState({...state, index: state.index + 1}) }, characterTime)\r\n\t\t} else {\r\n\t\t\ttimeoutID = setTimeout( onWritten, afterWrittenTime )\r\n\t\t}\r\n\t\treturn () => {clearTimeout(timeoutID)}\r\n\t})\r\n\r\n\treturn(\r\n\t\t<div id=\"Writer\">\r\n\t\t\t{ state.text.substring(0, state.index) }\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default Writer\r\n","import Menu from '../Menu'\r\nimport React from 'react'\r\nimport DialogCharacter from '../DialogCharacter'\r\nimport DialogHistory from '../DialogHistory'\r\nimport FullscreenOverlay from '../FullscreenOverlay'\r\nimport Writer from '../Writer'\r\n\r\nimport './index.scss'\r\n\r\n/**\r\n * Elemento para renderização de uma conversa com algum NPC, estilo graphic novel.\r\n * \r\n * @param  {Object} props\r\n * @param  {Object | Object[]} [props.children]\r\n *\t\t\tElementos extras a serem renderizados no mesmo contexto\r\n * @param  {boolean} [props.shouldExit]\r\n *\t\t\tDevo fechar? Se verdadeiro, inicia animação de fechamento\r\n * @param  {boolean} [props.showDialogHistory]\r\n *\t\t\tO histórico da conversa deve ser mostrado?\r\n * @param  {(dialogHistory)=>void} [props.onClearDialogHistory]\r\n *\t\t\tEnquanto este campo não for null, limparei meu histórico e chamarei esse callback a cada limpeza\r\n * @param  {boolean} [props.callAfterWritterForEveryMsg]\r\n *\t\t\tSe verdadeiro, chamarei a callback afterWritter ao final de cada mensagem, mesmo no caso de múltiplas mensagens consecutivas\r\n * @param  {number} [props.msPerCharacter]\r\n *\t\t\tDelay, em milissegundos, entre cada caracter da exibição da resposta\r\n * @param  {number} [props.waitAfterWritten]\r\n *\t\t\tDelay, em milissegundos, ao final de cada mensagem escrita\r\n * @param  { {text:string, speaker?: string}[]} [props.prevDialogHistory]\r\n *\t\t\tHistórico inicial da conversa\r\n * @param  {string | string[]} [props.charPreSpeech]\r\n *\t\t\tLista de falas a serem apresentadas antes de se dar a opção de escolha ao jogador\r\n * @param  {{question:string, answers:string[]}[]} props.convOptions\r\n *\t\t\tLista de opções para o jogador escolher (com suas respostas)\r\n * @param  {Object} [props.currentChar]\r\n *\t\t\tInfo do personagem a ser renderizado\r\n * @param  {Object} [props.charFeeling]\r\n *\t\t\tInfo de qual emoção o personagem deve ter\r\n * @param  {() => void} [props.afterWriter]\r\n *\t\t\tCallback para quando as mensagems terminarem de ser enviadas\r\n * @param  {(dialogHistory:{text:string, speaker?:string}[]) => void} [props.onExited]\r\n *\t\t\tCallback para quando se sair do diálogo. Envia todo o histórico de mensagens enviadas até o momento\r\n * @param  {(convoChoosen) => void} [props.onConvoChoiceMade]\r\n *\t\t\tCallback sobre qual alternativa foi escolhida. Envia a convOption escolhida\r\n */\r\nconst Conversa = ({\r\n\t\tchildren,\r\n\t\tshouldExit = false,\r\n\t\tshowDialogHistory = true,\r\n\t\tonClearDialogHistory = null,\r\n\t\tcallAfterWritterForEveryMsg = false,\r\n\t\tmsPerCharacter = 50,\r\n\t\twaitAfterWritten = 2000,\r\n\t\tprevDialogHistory = [],\r\n\t\tcharPreSpeech = null,\r\n\t\tconvOptions = [],\r\n\t\tcurrentChar = null,\r\n\t\tcharFeeling = null,\r\n\t\tafterWriter = () => {},\r\n\t\tonExited = (dialogHistory) => {},\r\n\t\tonConvoChoiceMade = (convoChoosen) => {},\r\n\t}) => {\r\n\r\n\tconst [state, setState] = React.useState({\r\n\t\tquerFechar: shouldExit,\r\n\t\tanswers: null,\r\n\t\tdialogHistory: prevDialogHistory\r\n\t});\r\n\r\n\t// if( charPreSpeech !== null && charPreSpeech.length > 0 ) {\r\n\t// \tstate.currentAnswer = 0\r\n\t// \tstate.answers = typeof(charPreSpeech) === \"string\" ? [charPreSpeech] : charPreSpeech\r\n\t// \tcharPreSpeech = null\r\n\t// }\r\n\r\n\t// * UNDEFINED BEHAVIOR caso alguém mude o charPreSpeech desse componente enquanto o writer faz algo\r\n\tReact.useEffect( () => {\r\n\t\tif( charPreSpeech !== null && charPreSpeech.length > 0 ) {\r\n\t\t\t// state.currentAnswer = 0\r\n\t\t\t// state.answers = typeof(charPreSpeech) === \"string\" ? [charPreSpeech] : charPreSpeech\r\n\t\t\t// console.log('effect', state.answers)\r\n\t\t\tsetState({\r\n\t\t\t\t...state,\r\n\t\t\t\tcurrentAnswer: 0,\r\n\t\t\t\tanswers: typeof(charPreSpeech) === \"string\" ? [charPreSpeech] : charPreSpeech\r\n\t\t\t})\r\n\t\t}\r\n\t\t// eslint-disable-next-line\r\n\t}, [charPreSpeech])\r\n\t\r\n\t// * UNDEFINED BEHAVIOR caso alguém mande limpar enquanto o writer faz algo\r\n\tReact.useEffect(() => {\r\n\t\tif( onClearDialogHistory ) {\r\n\t\t\tonClearDialogHistory(state.dialogHistory)\r\n\t\t\tstate.dialogHistory = []\r\n\t\t}\r\n\t\t// eslint-disable-next-line\r\n\t}, [onClearDialogHistory])\r\n\t\r\n\tReact.useEffect( () => {\r\n\t\tsetState({...state, querFechar: shouldExit})\r\n\t\t// eslint-disable-next-line\r\n\t}, [shouldExit])\r\n\r\n\tconst _querFechar = () => {\r\n\t\tsetState({\r\n\t\t\t...state,\r\n\t\t\tquerFechar: true\r\n\t\t})\r\n\t}\r\n\r\n\tconst _podeFechar = () => {\r\n\t\tonExited(state.dialogHistory)\r\n\t}\r\n\r\n\tconst _afterWriter = () => {\r\n\t\tlet updateState = {}\r\n\t\tif( state.currentAnswer < state.answers.length - 1 ) {\r\n\t\t\tupdateState = {\r\n\t\t\t\tcurrentAnswer: state.currentAnswer + 1\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tupdateState = {\r\n\t\t\t\tcurrentAnswer: null,\r\n\t\t\t\tanswers: null\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tsetState({\r\n\t\t\t...state,\r\n\t\t\t...updateState,\r\n\t\t\tdialogHistory: [\r\n\t\t\t\t...state.dialogHistory,\r\n\t\t\t\t{text: state.answers[state.currentAnswer]}\r\n\t\t\t],\r\n\t\t})\r\n\r\n\t\tif( callAfterWritterForEveryMsg || state.currentAnswer >= state.answers.length - 1 )\r\n\t\t\tafterWriter()\r\n\t}\r\n\r\n\tconst _convoChoiceClick = (convoChoosen) => {\r\n\r\n\t\tif( typeof(convoChoosen.answers) === \"string\" ) convoChoosen.answers = [convoChoosen.answers]\r\n\t\tsetState( {\r\n\t\t\t...state,\r\n\t\t\tdialogHistory: [\r\n\t\t\t\t...state.dialogHistory,\r\n\t\t\t\t{text: convoChoosen.question, speaker: 'player'}\r\n\t\t\t],\r\n\t\t\tanswers: convoChoosen.answers,\r\n\t\t\tcurrentAnswer: 0\r\n\t\t})\r\n\r\n\t\tonConvoChoiceMade(convoChoosen)\r\n\t}\r\n\r\n\treturn (\r\n\t\t<FullscreenOverlay shouldExit={state.querFechar} onClickClose={_querFechar} onReadyToExit={_podeFechar}>\r\n\t\t\t<div id=\"dialog-interact\" className={state.querFechar ? \"ExitAnim\" : null}>\r\n\t\t\t\t<div id=\"dialogos\">\r\n\t\t\t\t\t{showDialogHistory ? <DialogHistory dialogHistory={state.dialogHistory}/> : <div style={{flexGrow: '1'}} />}\r\n\t\t\t\t\t<div id='dialog-box' className={state.answers ? \"alternative\" : \"\"}>\r\n\t\t\t\t\t\t{state.answers ?\r\n\t\t\t\t\t\t\t<Writer text={state.answers[state.currentAnswer]}\r\n\t\t\t\t\t\t\t\tonWritten={_afterWriter}\r\n\t\t\t\t\t\t\t\tafterWrittenTime={waitAfterWritten}\r\n\t\t\t\t\t\t\t\tcharacterTime={msPerCharacter}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t<Menu buttonList={convOptions}\r\n\t\t\t\t\t\t\t\tonButtonClick={_convoChoiceClick}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<DialogCharacter character={currentChar} feeling={charFeeling}/>\r\n\t\t\t</div>\r\n\t\t\t{children}\r\n\t\t</FullscreenOverlay>\r\n\t)\r\n}\r\n\r\nexport default Conversa\r\n","export default __webpack_public_path__ + \"static/media/símbolo_feedback errado.7ae11eab.svg\";","export default __webpack_public_path__ + \"static/media/bg-forma-laranja.01e2bb93.svg\";","export default __webpack_public_path__ + \"static/media/ícone_jogo1.244e8c29.svg\";","import React from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { Redirect } from 'react-router-dom'\r\n\r\nimport { apiActions, headerActions } from '../../_actions'\r\n\r\nimport Button from '@material-ui/core/Button'\r\n\r\nimport Init from '../Game2/components/Init'\r\nimport Result from '../Game2/components/Result'\r\nimport RoomSelect from '../Game2/components/RoomSelect'\r\nimport Sala from '../Game2/components/Sala'\r\nimport Character from '../Game2/components/Character'\r\nimport initialState from './initialState.js'\r\nimport stub from './stub.js'\r\nimport Phone from './components/Phone'\r\nimport Conversa from '../Game2/components/Conversa'\r\nimport FullscreenOverlay from '../Game2/components/FullscreenOverlay'\r\nimport { headerConstants } from '../../_constants'\r\n\r\nimport iconDerrota from '../../img/Game2/símbolo_feedback errado.svg'\r\nimport blobLaranja from '../../img/bg-forma-laranja.svg'\r\nimport iconInit from '../../img/Game1/ícone_jogo1.svg'\r\n\r\nimport bigPhone from '../../img/Game1/Celular Base.svg'\r\nimport dedao from '../../img/Game1/Mão dedão.svg'\r\nimport palma from '../../img/Game1/Mão palma.svg'\r\n\r\nimport './index.scss'\r\n\r\nconst Game1 = (props) => {\r\n\tconst [state, setState] = React.useState(initialState())\r\n\r\n\tconst { game_1_missionsActions, play_sessionsActions, player_actionsActions } = apiActions\r\n\tconst id = props.match.params.id\r\n\tconst dispatch = useDispatch()\r\n\r\n\tconst loading = useSelector(state => state.game_1_missions.loading)\r\n\tlet error = useSelector(state => state.game_1_missions.error)\r\n\tlet mission = useSelector(state => state.game_1_missions.items.find(mission => mission.id === props.match.params.id))\r\n\t//const userId = useSelector( state => state.authentication.user.user.id )\r\n\tconst currentPlaySession = useSelector(state => state.play_sessions ? state.play_sessions.items[0] : {})\r\n\tconst lang = useSelector(state => state.authentication.user.user.language.id)\r\n\r\n\t//Track playerActions\r\n\tReact.useEffect(() => {\r\n\t\tif (!state.tracking || !currentPlaySession)\r\n\t\t\treturn\r\n\r\n\t\tconst getClickedObject = (e) => {\r\n\t\t\tdispatch(player_actionsActions.create({\r\n\t\t\t\t'play_session': currentPlaySession.id,\r\n\t\t\t\tdata:\r\n\t\t\t\t{\r\n\t\t\t\t\ttag: e.target.nodeName,\r\n\t\t\t\t\talt: e.target.alt,\r\n\t\t\t\t\tclassName: e.target.className,\r\n\t\t\t\t\tinnerHTML: e.target.innerHTML.includes('<div') ? null : e.target.innerHTML, clickTime: new Date()\r\n\t\t\t\t}\r\n\t\t\t}))\r\n\t\t}\r\n\t\tdocument.addEventListener(\"mousedown\", getClickedObject)\r\n\r\n\t\tsetState(s => { return { ...s, currentPlaySession, getClickedObject } })\r\n\t\treturn () => {\r\n\t\t\tdocument.removeEventListener(\"mousedown\", getClickedObject)\r\n\t\t}\r\n\t}, [dispatch, currentPlaySession, player_actionsActions, state.tracking])\r\n\r\n\tReact.useEffect(() => {\r\n\t\tif (id && !mission)\r\n\t\t\tdispatch(game_1_missionsActions.getById(props.match.params.id))\r\n\t\tif (mission) {\r\n\t\t\tlet data = {}\r\n\r\n\t\t\t//distribute characters in locations\r\n\t\t\tif (state.locations.length === 0) {\r\n\t\t\t\t// data.locations = [...mission.locations]\r\n\t\t\t\tdata.locations = mission.locations.map((location) => { return { ...location, missionCharacters: [] } }) // Só pq o backend está trazendo info errada\r\n\r\n\t\t\t\t// let place = data.locations.length - 1\r\n\t\t\t\tlet place = 0\r\n\t\t\t\tlet charactersCount = 0\r\n\t\t\t\tlet characters = mission.game_1_mission_characters.slice()\r\n\t\t\t\twhile (characters.length > 0) {\r\n\t\t\t\t\t// let randIdx = Math.floor(Math.random() * characters.length)\r\n\r\n\t\t\t\t\t// percorre as salas uma por uma e ordem crescente repetidamente\t\t\t\tE coloca um personagem aleatório dentro dela\r\n\t\t\t\t\t// data.locations[place = (place + 1) % data.locations.length].missionCharacters.push({ ...characters.splice(randIdx, 1)[0], zDepth: Math.random() })\r\n\t\t\t\t\tdata.locations[place].missionCharacters.push({ ...characters.splice(0, 1)[0], zDepth: Math.random() })\r\n\t\t\t\t\tcharactersCount += 1\r\n\r\n\t\t\t\t\tif (charactersCount > 3) {\r\n\t\t\t\t\t\tplace += 1\r\n\t\t\t\t\t\tcharactersCount = 0\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t//list of all available jobs\r\n\t\t\tif (state.jobs.length === 0) {\r\n\t\t\t\tdata.jobs = mission.game_1_mission_characters.reduce((acc, missionCharacter) => {\r\n\t\t\t\t\tif (!acc.includes(missionCharacter.character.job))\r\n\t\t\t\t\t\tacc.push(missionCharacter.character.job)\r\n\t\t\t\t\treturn acc\r\n\t\t\t\t}, [])\r\n\t\t\t}\r\n\r\n\t\t\t//list of all available countries\r\n\t\t\tif (state.countries.length === 0) {\r\n\t\t\t\tdata.countries = mission.game_1_mission_characters.reduce((acc, missionCharacter) => {\r\n\t\t\t\t\tif (!acc.includes(missionCharacter.character.country))\r\n\t\t\t\t\t\tacc.push(missionCharacter.character.country)\r\n\t\t\t\t\treturn acc\r\n\t\t\t\t}, [])\r\n\t\t\t}\r\n\r\n\t\t\t//resume characters as contacts\r\n\t\t\tif (state.contactsTemplate.length === 0) {\r\n\t\t\t\t//create full contact template\r\n\t\t\t\tdata.contactsTemplate = mission.game_1_mission_characters.reduce((acc, missionCharacter) => {\r\n\t\t\t\t\tacc.push({\r\n\t\t\t\t\t\tid: missionCharacter.character.id, name: missionCharacter.character.name, country: missionCharacter.character.country, job: missionCharacter.character.job,\r\n\t\t\t\t\t\t//looks for mission configuration\r\n\t\t\t\t\t\tshowJob: missionCharacter.showJob,\r\n\t\t\t\t\t\tshowCountry: missionCharacter.showCountry\r\n\t\t\t\t\t})\r\n\t\t\t\t\treturn acc\r\n\t\t\t\t}, [])\r\n\r\n\t\t\t\t//create contact state shown to/ manipulated by to player\r\n\t\t\t\tdata.contactsAtSession = data.contactsTemplate.map(contact => {\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\t...contact,\r\n\t\t\t\t\t\tjob: contact.showJob ? contact.job : '',\r\n\t\t\t\t\t\tcountry: contact.showCountry ? contact.showCountry : ''\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\tconsole.log(data)\r\n\r\n\t\t\tif (Object.keys(data).length > 0)\r\n\t\t\t\tsetState(state => { return { ...state, ...data } })\r\n\t\t}\r\n\t}, [dispatch, id, mission, game_1_missionsActions, props.match.params.id, state.locations.length, state.contactsTemplate.length, state.countries.length, state.jobs.length])\r\n\r\n\tif (error) {\r\n\t\terror = null\r\n\t\tmission = stub\r\n\t}\r\n\r\n\tconst onStartGame = (e) => {\r\n\t\tif (state.tracking) {\r\n\t\t\tdispatch(play_sessionsActions.create({\r\n\t\t\t\t//usersPergame_1_missionsUser: userId,\r\n\t\t\t\t//mission: mission.id\r\n\t\t\t}))\r\n\t\t}\r\n\t\tsetState({ ...state, scene: 'ROOM' })\r\n\t}\r\n\r\n\tconst setCurrentChar = (character) => () => {\r\n\t\tlet convOptions = character.answers\r\n\t\tif (convOptions.length === 0) console.log(\"Couldn't find any questions to ask currentChar\")\r\n\t\tsetState({ ...state, currentChar: character.character, questionsAsked: 0, convOptions: convOptions })\r\n\t}\r\n\r\n\tconst afterWriter = () => {\r\n\t\tlet updatedState = {}\r\n\t\tif (state.questionsAsked === state.maxQuestions && state.preSpeech.length === 0) {\r\n\t\t\tupdatedState.preSpeech = [\"Espero que isso tenha sido tudo. Tenho que ir agora...\"]\r\n\t\t\tupdatedState.convOptions = [{ question: \"Ah tá. Tchau!\", answer: [\"Tchau!\"], close: true }]\r\n\t\t} else if (state.questionsAsked > state.maxQuestions) {\r\n\t\t\tupdatedState.convOptions = []\r\n\t\t}\r\n\t\tif (state.close) {\r\n\t\t\tupdatedState.shouldCloseConvo = true\r\n\t\t\tupdatedState.close = false\r\n\t\t}\r\n\r\n\t\tsetState({ ...state, ...updatedState })\r\n\t}\r\n\r\n\tconst onMenuButtonClick = (answer) => {\r\n\t\t//\r\n\t\t//\tAplicar lógica adicional de click nos botões do menu\r\n\t\t//\r\n\t\tlet updatedState = {}\r\n\t\tupdatedState.questionsAsked = state.questionsAsked + 1\r\n\t\tif (updatedState.questionsAsked < state.maxQuestions) {\r\n\t\t\tupdatedState.convOptions = state.convOptions.filter(convOption => convOption !== answer) // Esse é para remover as perguntas já feitas, se for pra fazer isso\r\n\t\t} else {\r\n\t\t\tupdatedState.preSpeech = []\r\n\t\t\tupdatedState.convOptions = []\r\n\t\t}\r\n\t\tif (answer.close) updatedState.close = true\r\n\t\tsetState({ ...state, ...updatedState })\r\n\t}\r\n\r\n\tconst modifyContact = (contact) => {\r\n\t\tlet index = state.contactsAtSession.indexOf(state.contactsAtSession.find(c => c.id === contact.id))\r\n\t\t// console.log('changing:', contact)\r\n\t\tsetState({\r\n\t\t\t...state,\r\n\t\t\tcontactsAtSession: [\r\n\t\t\t\t...state.contactsAtSession.slice(0, index), contact, ...state.contactsAtSession.slice(index + 1)\r\n\t\t\t]\r\n\t\t})\r\n\t}\r\n\r\n\tconst closeDialog = () => {\r\n\t\tsetState({ ...state, currentChar: null })\r\n\t}\r\n\r\n\tconst restart = () => {\r\n\t\tsetState({ ...initialState(), hasPlayed: true })\r\n\t\tdispatch(headerActions.setState(headerConstants.STATES.HIDDEN))\r\n\t}\r\n\r\n\tconst onPhoneFinish = () => {\r\n\t\tlet wrongContacts = 0\r\n\t\tstate.locations[state.currentLocationIndex].missionCharacters.forEach((missionContact, index) => {\r\n\t\t\tlet answer = state.contactsAtSession.find( contactAtSession => contactAtSession.id === missionContact.character.id)\r\n\t\t\tlet gabarito = state.contactsTemplate.find( contactTemplate => contactTemplate.id === missionContact.character.id)\r\n\t\t\tif (answer.job !== gabarito.job || answer.country !== gabarito.country)\r\n\t\t\t\twrongContacts++\r\n\t\t})\r\n\t\tsetState({ ...state, changeRoomPopUp: true, wrongContacts: wrongContacts })\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div id=\"game1-wrapper\">\r\n\t\t\t{loading ? <div>Loading...</div> : error ? <div>{error}</div> : mission &&\r\n\t\t\t\t<div id=\"game1-content\">\r\n\t\t\t\t\t<div id=\"input-tracker\">TrackInput: <input type=\"checkbox\" onChange={(e) => { setState({ ...state, tracking: e.target.checked }) }} /></div>\r\n\t\t\t\t\t{(function renderScene() {\r\n\t\t\t\t\t\tswitch (state.scene) {\r\n\t\t\t\t\t\t\tcase \"INIT\":\r\n\t\t\t\t\t\t\t\treturn <Init\r\n\t\t\t\t\t\t\t\t\ticon={iconInit}\r\n\t\t\t\t\t\t\t\t\tname={mission.name} description={mission.description}\r\n\t\t\t\t\t\t\t\t\tnameTranlate={mission.missionNameLanguages.find(name => { return name.language === lang }).name}\r\n\t\t\t\t\t\t\t\t\tdescriptionTranlate={mission.missionDescriptionLanguages.find(description => { return description.language === lang }).description}\r\n\t\t\t\t\t\t\t\t\tonStart={onStartGame}\r\n\t\t\t\t\t\t\t\t\tonBack={() => setState({ ...state, back: true })}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\tcase \"ROOM\":\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<div id=\"room-itself\">\r\n\t\t\t\t\t\t\t\t\t\t{/* <RoomSelect\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={state.currentLocationIndex}\r\n\t\t\t\t\t\t\t\t\t\t\tbuttonList={state.locations.map(location => location.name)}\r\n\t\t\t\t\t\t\t\t\t\t/> */}\r\n\t\t\t\t\t\t\t\t\t\t<Sala roomData={state.locations[state.currentLocationIndex]} key={state.currentLocationIndex}>\r\n\t\t\t\t\t\t\t\t\t\t\t{state.locations[state.currentLocationIndex].missionCharacters.map((character, index) =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Character key={index}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tzDepth={character.zDepth}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcharacter={character.character}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={setCurrentChar(character)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t</Sala>\r\n\t\t\t\t\t\t\t\t\t\t<Phone\r\n\t\t\t\t\t\t\t\t\t\t\tcontacts={\r\n\t\t\t\t\t\t\t\t\t\t\t\tstate.contactsAtSession.filter(contact => state.locations[state.currentLocationIndex].missionCharacters.find(character => character.character.id === contact.id\r\n\t\t\t\t\t\t\t\t\t\t\t\t))\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\tmodifyContact={modifyContact}\r\n\t\t\t\t\t\t\t\t\t\t\tcontactsTemplate={state.contactsTemplate}\r\n\t\t\t\t\t\t\t\t\t\t\tjobs={state.jobs}\r\n\t\t\t\t\t\t\t\t\t\t\tcountries={state.countries}\r\n\t\t\t\t\t\t\t\t\t\t\tonFinish={onPhoneFinish}\r\n\t\t\t\t\t\t\t\t\t\t\tonMinimize={() => setState({ ...state, shouldMinimize: false })}\r\n\t\t\t\t\t\t\t\t\t\t\tshouldMinimize={state.shouldMinimize}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t{state.currentChar &&\r\n\t\t\t\t\t\t\t\t\t\t\t<Conversa\r\n\t\t\t\t\t\t\t\t\t\t\t\tshouldExit={state.shouldCloseConvo}\r\n\t\t\t\t\t\t\t\t\t\t\t\tprevDialogHistory={[]}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClearDialogHistory={state.refreshDialog}\r\n\t\t\t\t\t\t\t\t\t\t\t\tcharPreSpeech={state.preSpeech}\r\n\t\t\t\t\t\t\t\t\t\t\t\tconvOptions={state.convOptions.reduce((acc, convOption) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlet option = { ...convOption, ...convOption.question, answers: convOption.answer }\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdelete option.answer\r\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn [...acc, option]\r\n\t\t\t\t\t\t\t\t\t\t\t\t}, [])}\r\n\t\t\t\t\t\t\t\t\t\t\t\tcurrentChar={state.currentChar}\r\n\t\t\t\t\t\t\t\t\t\t\t\tcharFeeling={state.characterFeeling}\r\n\t\t\t\t\t\t\t\t\t\t\t\tafterWriter={afterWriter}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonExited={closeDialog}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonConvoChoiceMade={onMenuButtonClick}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div id=\"question-counter\" className={state.questionsAsked >= state.maxQuestions ? \"max\" : null}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div id=\"question-counter-info\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div>Você já fez</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"numbers\"><span>{Math.min(state.questionsAsked, state.maxQuestions)}</span>/{state.maxQuestions}</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div>perguntas</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</Conversa>\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t{ state.changeRoomPopUp &&\r\n\t\t\t\t\t\t\t\t\t\t\t<FullscreenOverlay\r\n\t\t\t\t\t\t\t\t\t\t\t\tshowCloseBtn={false}\r\n\t\t\t\t\t\t\t\t\t\t\t\tshouldExit={state.shouldCloseDialog}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonReadyToExit={() => { setState({ ...state, shouldCloseDialog: false, changeRoomPopUp: false }) }}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"popup-wrapper\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"popup-content\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span>Are you sure?</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{state.wrongContacts > 0 ?\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t`${state.wrongContacts} people have the wrong data. Are you sure you want to continue? You may not be able to overcome this midlife crisis!`\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"Everything seems ok around here. Do you want to continue?\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div id=\"popup-btns\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<button id=\"no-go\" onClick={() => setState({ ...state, shouldCloseDialog: true })}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{state.wrongContacts > 0 ? \"Keep trying\" : \"Not yet\"}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<button id=\"go\" onClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (state.currentLocationIndex + 1 < state.locations.length)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetState({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...state,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tshouldCloseDialog: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcurrentLocationIndex: state.currentLocationIndex + 1,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tshouldMinimize: true\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetState({ ...state, scene: 'ENDGAME' })\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{state.wrongContacts > 0 ? \"Continue anyway\" : \"Let's go\"}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</FullscreenOverlay>\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t</div>)\r\n\t\t\t\t\t\t\tcase 'ENDGAME':\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<div id=\"endGame-screen\">\r\n\t\t\t\t\t\t\t\t\t\t<div style={{display: 'flex', flexDirection: 'row'}}>\r\n\t\t\t\t\t\t\t\t\t\t\t<div style={{}}>\r\n\t\t\t\t\t\t\t\t\t\t\t<div id=\"big-phone-imgs\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<img src={palma} alt=\"\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t<img src={bigPhone} alt=\"\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t<img src={dedao} alt=\"\" />\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"painel\" id=\"painel-3\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"painel-2-wrapper\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"painel-2-content\" style={{ backgroundImage: \"url(\" + blobLaranja + \")\" }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span>num</span>/<span>num</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div>clues</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"painel-2-wrapper\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"painel-2-content\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p>After talking to existing clues.</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p>Regarding the questions you asked. Try asking more relevant questions!</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div id=\"endGame-action-btns\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Button onClick={restart}>Tentar novamente</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Button onClick={() => setState({ ...state, back: true })}>Sair do jogo</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\t\treturn (<div>Error</div>)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}())}\r\n\t\t\t\t\t{!state.gameEndState && // Não dá para ser !endGame pq ele vira true na hora que aparece para o jogador se apresentar\r\n\t\t\t\t\t\t<div></div>\r\n\t\t\t\t\t}\r\n\t\t\t\t\t{state.endGame ? <Result gameEndState={state.gameEndState} /> : null}\r\n\t\t\t\t\t{state.tries > 0 ? <div>{state.tries} tentativa{state.tries > 1 ? 's' : ''}!</div> : null}\r\n\t\t\t\t\t{state.back && <Redirect to='/userspace' />}\r\n\t\t\t\t</div>\r\n\t\t\t}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default Game1\r\n","export default __webpack_public_path__ + \"static/media/lampada_apagada.3f2311d7.svg\";","export default __webpack_public_path__ + \"static/media/lampada_acesa.aeef7b84.svg\";","import React from 'react'\r\nimport lamp_apagada from '../../../../img/lampada_apagada.svg'\r\nimport lamp_acesa from '../../../../img/lampada_acesa.svg'\r\n\r\nimport './index.scss'\r\n\r\nconst AcusationLamp = ({onClick}) => {\r\n  return(\r\n    <div id=\"acusar\" onClick={onClick}>\r\n      <span>É você!</span>\r\n      <img id=\"lamp-apagada\" src={lamp_apagada} alt=\"\"></img>\r\n      <img id=\"lamp-acesa\" src={lamp_acesa} alt=\"\"></img>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default AcusationLamp\r\n","// eslint-disable-next-line import/no-anonymous-default-export\r\nconst initialState = () => ({\r\n//GAME STATE\r\n  scene: \"INIT\",\r\n  currentRoom: 0,\r\n  isOnDialog: false,\r\n  endGame: false,\r\n  found: false,\r\n  locations:[],\r\n  tips: ['O engenheiro sabe'],\r\n  acusation: false,\r\n  closeAcusation: false,\r\n  tries: 0,\r\n  validQuestions: [],\r\n  tutorialStep: 0,\r\n  seeTutorial: false,\r\n  hasPlayed: false,\r\n  checkedPlayed: false,\r\n//DIALOG\r\n  dialogHistory: [],\r\n  dialogStep: 0,\r\n  characterFeeling: 'init',\r\n  totalDialogSteps: 2,\r\n  questionsByStep: 2,\r\n  currentChar: null,\r\n  showConvo: false,\r\n  questions: [],\r\n  targetName: 'Leila',\r\n  correct: 0,\r\n  ncorrect: 0,\r\n  correctMinimum: 2,\r\n  gameEndState: null,\r\n  score: 0,\r\n  startedTimestamp: new Date(Date.now()),\r\n  elapsedTime: null,\r\n  back: false,\r\n  spokenCharacters: [],\r\n})\r\n\r\nexport default initialState\r\n","export default __webpack_public_path__ + \"static/media/parabens_vitoria-persistente.62184df1.svg\";","export default __webpack_public_path__ + \"static/media/parabens_vitoria-primeira.a06b772e.svg\";","export default __webpack_public_path__ + \"static/media/ícone_jogo1.244e8c29.svg\";","export default __webpack_public_path__ + \"static/media/Icone_jogo-tela_inicio.1e641e01.svg\";","export default __webpack_public_path__ + \"static/media/bg-forma-azul.166555e1.svg\";","export default __webpack_public_path__ + \"static/media/bg-forma-verde.60dfa7ed.svg\";","import React from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { apiActions, headerActions, musicActions } from '../../_actions'\r\nimport Init from './components/Init'\r\nimport RoomSelect from './components/RoomSelect'\r\nimport Sala from './components/Sala'\r\nimport Character from './components/Character'\r\nimport Button from '@material-ui/core/Button'\r\nimport './index.scss'\r\nimport './tela-acusacao.scss'\r\nimport './tela-fim-jogo.scss'\r\nimport './tela-tutorial.scss'\r\nimport AcusationLamp from './components/AcusationLamp'\r\nimport initialState from './initialState'\r\nimport { headerConstants } from '../../_constants'\r\nimport Conversa from './components/Conversa'\r\nimport DialogCharacter from './components/DialogCharacter'\r\nimport { Redirect } from 'react-router'\r\n\r\nimport iconVitoriaPers from '../../img/Game2/parabens_vitoria-persistente.svg'\r\nimport iconVitoriaPrim from '../../img/Game2/parabens_vitoria-primeira.svg'\r\nimport iconDerrota from '../../img/Game2/símbolo_feedback errado.svg'\r\nimport iconDicas from '../../img/ícone_jogo1.svg'\r\nimport iconInit from '../../img/Game2/Icone_jogo-tela_inicio.svg'\r\nimport blobAzul from '../../img/bg-forma-azul.svg'\r\nimport blobLaranja from '../../img/bg-forma-laranja.svg'\r\nimport blobVerde from '../../img/bg-forma-verde.svg'\r\nimport FullscreenOverlay from './components/FullscreenOverlay'\r\n\r\nconst Game2 = (props) => {\r\n\r\n\tconst [state, setState] = React.useState(initialState());\r\n\r\n\tconst id = props.match.params.id\r\n\tconst dispatch = useDispatch()\r\n\tlet error = useSelector(state => state.missions.error)\r\n\tlet mission = useSelector(state => state.missions.items.find(mission => mission.id === props.match.params.id))\r\n\tconst loading = useSelector(state => state.missions.loading)\r\n\tconst userId = useSelector(state => state.authentication.user.user.id)\r\n\tconst lang = useSelector(state => state.authentication.user.user.language.id)\r\n\tconst currentPlaySession = useSelector(state => state.play_sessions ? state.play_sessions.items[0] : {})\r\n\tconst { missionsActions, play_sessionsActions, player_actionsActions, user_game_resultsActions } = apiActions\r\n\tconst hasPlayed = useSelector(state => state.user_game_results.items.length > 0)\r\n\r\n\tlet tipsCount\r\n\r\n\tif (mission)\r\n\t\ttipsCount = mission.missionCharacters.filter(missionCharacter => { return missionCharacter.tip }).length\r\n\tconst dialogInitialState = { dialogHistory: [], dialogStep: 0, correct: 0, characterFeeling: 'init', preSpeech: null, convOptions: [] }\r\n\r\n\tReact.useEffect(() => {\r\n\t\tif (mission)\r\n\t\t\tdispatch(musicActions.set(mission.backgroundAudios[0].music[0].url))\r\n\t\treturn () => dispatch(musicActions.set(''))\r\n\t}, [dispatch, mission])\r\n\r\n\t//fetch mission if doesn't already have\r\n\tReact.useEffect(() => {\r\n\t\tif (id && !mission) dispatch(missionsActions.getById(props.match.params.id))\r\n\t}, [id, mission, dispatch, missionsActions, props.match.params.id])\r\n\r\n\t// check if user already played the game\r\n\tReact.useEffect(() => {\r\n\t\tlet updateState = {}\r\n\t\tif (mission && !state.checkedPlayed) {\r\n\t\t\tdispatch(user_game_resultsActions.find({\r\n\t\t\t\t'user.id': userId,\r\n\t\t\t\t'mission.id': mission.id\r\n\t\t\t}))\r\n\r\n\t\t\tupdateState.checkedPlayed = true\r\n\t\t}\r\n\t\tupdateState.hasPlayed = hasPlayed\r\n\t\tsetState({ ...state, ...updateState })\r\n\t\t// eslint-disable-next-line\r\n\t}, [userId, mission, dispatch, user_game_resultsActions, hasPlayed])\r\n\r\n\t//track player actions\r\n\tReact.useEffect(() => {\r\n\t\tif (!state.tracking || !currentPlaySession)\r\n\t\t\treturn\r\n\r\n\t\tconst getClickedObject = (e) => {\r\n\t\t\tdispatch(player_actionsActions.create({\r\n\t\t\t\t'play_session': currentPlaySession.id,\r\n\t\t\t\tdata:\r\n\t\t\t\t{\r\n\t\t\t\t\ttag: e.target.nodeName,\r\n\t\t\t\t\talt: e.target.alt,\r\n\t\t\t\t\tclassName: e.target.className,\r\n\t\t\t\t\tinnerHTML: e.target.innerHTML.includes('<div') ? null : e.target.innerHTML, clickTime: new Date()\r\n\t\t\t\t}\r\n\t\t\t}))\r\n\t\t}\r\n\t\tdocument.addEventListener(\"mousedown\", getClickedObject)\r\n\r\n\t\tsetState(s => { return { ...s, currentPlaySession, getClickedObject } })\r\n\t\treturn () => {\r\n\t\t\tdocument.removeEventListener(\"mousedown\", getClickedObject)\r\n\t\t}\r\n\t}, [dispatch, player_actionsActions, state.tracking, currentPlaySession])\r\n\t/*//Testing tool\r\n\tif(error){\r\n\t\terror = null\r\n\t\tmission = stub\r\n\t}\r\n\t*/\r\n\r\n\t//Randomizar personagens para aparecer nas salas\r\n\t//\tEnquanto houver personagens na lista de personagens disponíveis\r\n\t//\t\tEscolhe um local ao acaso\r\n\t//\t\tEscolhe um personagem dentre a lista de personagens disponíveis ao acaso\r\n\t//\t\tAdiciona personagem ao local\r\n\t//\t\tRetira personagem da lista de personagens disponíveis\r\n\r\n\tif (mission && state.locations.length === 0) {\r\n\t\t// safe copies\r\n\t\tlet availableCharacters = mission.missionCharacters.slice(0)\r\n\t\tlet locations = mission.locations.filter(location => {\r\n\t\t\treturn location.type === 'room'\r\n\t\t}).map(location => {\r\n\t\t\tdelete location.characters\r\n\t\t\treturn { location: location, missionCharacters: [] }\r\n\t\t})\r\n\r\n\t\tlet tutorialRoom = {\r\n\t\t\tlocation: mission.locations.find(location => {\r\n\t\t\t\treturn location.type === 'tutorial'\r\n\t\t\t}),\r\n\t\t\tmissionCharacters: []\r\n\t\t}\r\n\r\n\t\tconsole.log(tutorialRoom)\r\n\r\n\t\t//distribute on locations\r\n\t\twhile (availableCharacters.length > 0) {\r\n\t\t\t// se personagem for o de tutorial, separa ele e continua\r\n\t\t\tif (availableCharacters[0].character.name === \"Tutorial\") {\r\n\t\t\t\ttutorialRoom.missionCharacters.push(availableCharacters[0])\r\n\t\t\t\tavailableCharacters.splice(0, 1)\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\t// sorteia sala aleatoriamente com pesos que diminuem dependendo de quantos personagens já se tem\r\n\t\t\tlet totalWeight = 0\r\n\t\t\tlet crowdestRoomPop = 0\r\n\t\t\tlet emptiestRoomPop = 999\r\n\t\t\tconst minPerRoom = 1\r\n\t\t\tconst maxPerRoom = 5\r\n\t\t\tlocations.forEach((location) => {\r\n\t\t\t\tcrowdestRoomPop = Math.max(location.missionCharacters.length, crowdestRoomPop)\r\n\t\t\t\temptiestRoomPop = Math.min(location.missionCharacters.length, emptiestRoomPop)\r\n\t\t\t})\r\n\r\n\t\t\tconst maxWeight = (() => {\r\n\t\t\t\tif (emptiestRoomPop < minPerRoom) return minPerRoom\r\n\t\t\t\telse if (emptiestRoomPop < maxPerRoom) return maxPerRoom\r\n\t\t\t\telse return crowdestRoomPop + 1\r\n\t\t\t})()\r\n\r\n\t\t\ttotalWeight = 0\r\n\t\t\tconst weights = locations.map((location) => {\r\n\t\t\t\tlet weight = maxWeight - location.missionCharacters.length\r\n\t\t\t\ttotalWeight += weight\r\n\t\t\t\treturn weight\r\n\t\t\t})\r\n\r\n\t\t\tlet rand = Math.floor(Math.random() * totalWeight)\r\n\t\t\tlet i = 0;\r\n\t\t\twhile (rand >= 0) rand -= weights[i++]\r\n\t\t\tconst locationIndex = i - 1\r\n\r\n\t\t\t//each character has some good and bad questions that can be asked\r\n\t\t\tlet availableAnswers = [...availableCharacters[0].answers]\r\n\t\t\tlet correct = availableAnswers.filter(answer => answer.question.correct)\r\n\t\t\tlet ncorrect = availableAnswers.filter(answer => !answer.question.correct)\r\n\r\n\t\t\tlet selectedQuestions = []\r\n\t\t\t// ? E se correct/ncorrect não tiveram a quantidade necessária de perguntas?\r\n\t\t\twhile (selectedQuestions.length < 4) {\r\n\t\t\t\tlet source = selectedQuestions.length % 2 === 0 ? correct : ncorrect\r\n\t\t\t\tlet index = Math.floor(Math.random(0, source.length))\r\n\t\t\t\tselectedQuestions.push(source[index])\r\n\t\t\t\tsource.splice(index, 1)\r\n\t\t\t}\r\n\r\n\t\t\t// Aleatorizando para que nem sempre venham as perguntas na ordem certo->errado\r\n\t\t\tif (Math.floor(Math.random(0, 1) < .5)) {\r\n\t\t\t\tlet temp = selectedQuestions[0]\r\n\t\t\t\tselectedQuestions[0] = selectedQuestions[1]\r\n\t\t\t\tselectedQuestions[1] = temp\r\n\t\t\t}\r\n\t\t\tif (Math.floor(Math.random(0, 1) > .5)) {\r\n\t\t\t\tlet temp = selectedQuestions[2]\r\n\t\t\t\tselectedQuestions[2] = selectedQuestions[3]\r\n\t\t\t\tselectedQuestions[3] = temp\r\n\t\t\t}\r\n\r\n\t\t\tlocations[locationIndex].missionCharacters = [...locations[locationIndex].missionCharacters,\r\n\t\t\t{\r\n\t\t\t\t...availableCharacters[0],\r\n\t\t\t\tselectedQuestions,\r\n\t\t\t\tzDepth: Math.random()\r\n\t\t\t}\r\n\t\t\t]\r\n\r\n\t\t\tavailableCharacters.splice(0, 1)\r\n\t\t}\r\n\r\n\t\t// Aleatorizando ordem dos personagens em cada sala\r\n\t\tfor (let i = 0; i < locations.length; i++) {\r\n\t\t\tlet amountChars = locations[i].missionCharacters.length\r\n\t\t\tif (amountChars <= 1) continue\r\n\t\t\tfor (let j = 0; j < amountChars - 1; j++) {\r\n\t\t\t\tlet exchangeWith = Math.floor(Math.random() * (amountChars - j)) + j\r\n\t\t\t\tif (j === exchangeWith) continue // Não precisa trocar se for consigo mesmo\r\n\t\t\t\t//swap\r\n\t\t\t\tlet aux = locations[i].missionCharacters[j]\r\n\t\t\t\tlocations[i].missionCharacters[j] = locations[i].missionCharacters[exchangeWith]\r\n\t\t\t\tlocations[i].missionCharacters[exchangeWith] = aux\r\n\t\t\t}\r\n\t\t}\r\n\t\tsetState({ ...state, locations, tutorialRoom })\r\n\t}\r\n\r\n\tconst onStartGame = (e) => {\r\n\t\tif (state.tracking) {\r\n\t\t\tdispatch(play_sessionsActions.create({\r\n\t\t\t\tusersPermissionsUser: userId,\r\n\t\t\t\tmission: mission.id\r\n\t\t\t}))\r\n\t\t}\r\n\r\n\t\t//check if should start or skip tutorial\r\n\t\tsetState({ ...state, scene: (!state.seeTutorial && state.hasPlayed) ? \"ROOM\" : \"TUTORIAL\" })\r\n\t}\r\n\r\n\tconst endTutorial = () => {\r\n\t\tlet updateState = {\r\n\t\t\tshowConvo: false,\r\n\t\t\tcurrentChar: null,\r\n\t\t\tscene: \"ROOM\",\r\n\t\t\t...dialogInitialState\r\n\t\t}\r\n\t\tsetState({ ...state, ...updateState })\r\n\t}\r\n\r\n\tconst setTutorialCharacter = (character) => () => {\r\n\t\tsetState(\r\n\t\t\t{\r\n\t\t\t\t...state,\r\n\t\t\t\ttutorialStep: state.tutorialStep + 1,\r\n\t\t\t\tshowConvo: true,\r\n\t\t\t\tcurrentChar: character,\r\n\t\t\t\tconvOptions:\r\n\t\t\t\t\t[\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tanswer: ['Olha, não sei quem você está procurando, cheguei aqui semana passada...', 'O engenheiro deve saber!'],\r\n\t\t\t\t\t\t\tquestion: {\r\n\t\t\t\t\t\t\t\tquestion: 'Estou procurando alguém. Você pode me ajudar?',\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tclose: false\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t})\r\n\t}\r\n\r\n\t//shows only selected questions\r\n\tconst setCurrentCharacter = (character) => () => {\r\n\t\tsetState({\r\n\t\t\t...state,\r\n\t\t\tshowConvo: true,\r\n\t\t\tcurrentChar: character,\r\n\t\t\tdialogStep: 0,\r\n\t\t\tconvOptions: state.locations[state.currentRoom].missionCharacters\r\n\t\t\t\t.find(c => c.character.id === character.id).selectedQuestions\r\n\t\t\t\t.slice(0, state.questionsByStep)\r\n\t\t})\r\n\t}\r\n\r\n\tconst closeDialog = (dialogHistory) => {\r\n\t\tsetState({\r\n\t\t\t...state,\r\n\t\t\t...dialogInitialState,\r\n\t\t\tshowConvo: false,\r\n\t\t\tshouldCloseConvo: false,\r\n\t\t\tcurrentChar: null\r\n\t\t})\r\n\t}\r\n\r\n\tconst afterWriter = () => {\r\n\t\tif (state.scene === \"TUTORIAL\") {\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tsetState({\r\n\t\t\t\t\t...state,\r\n\t\t\t\t\ttutorialStep: state.tutorialStep + 1\r\n\t\t\t\t})\r\n\t\t\t}, 1500)\r\n\t\t} else {\r\n\t\t\tlet updateState = {}\r\n\t\t\tif (state.dialogStep < state.totalDialogSteps) {\r\n\t\t\t\tupdateState.convOptions = state.locations[state.currentRoom].missionCharacters\r\n\t\t\t\t\t.find(mc => mc.character.id === state.currentChar.id).selectedQuestions\r\n\t\t\t\t\t.slice(state.questionsByStep * state.dialogStep, state.questionsByStep * (state.dialogStep + 1))\r\n\t\t\t} else if (state.dialogStep === state.totalDialogSteps) {\r\n\t\t\t\tif (state.correct < state.correctMinimum) {\r\n\t\t\t\t\tupdateState.preSpeech = state.currentChar.wrongAnswer\r\n\t\t\t\t\tupdateState.convOptions = [{ refresh: true, question: { question: 'Sim' } }, { close: true, question: { question: 'Não' }, answer: state.currentChar.endDialog }]\r\n\t\t\t\t} else {\r\n\t\t\t\t\tupdateState.convOptions = [{ tip: state.currentChar.tip, question: { question: 'Estou procurando alguém. Você pode me ajudar?' }, answer: state.currentChar.rightAnswer, correct: true }]\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tconst tchaus = ['Ah tá, tchau!', 'Ok. Valeu!', 'Tchau!', 'Até mais!',\r\n\t\t\t\t\t'Entendi... Muito obrigado!', 'Até logo!', 'Até a próxima!']\r\n\t\t\t\tconst rIdx = Math.floor(Math.random() * tchaus.length)\r\n\t\t\t\tupdateState.convOptions = [{ close: true, question: { question: tchaus[rIdx], correct: true }, answer: state.currentChar.endDialog }]\r\n\t\t\t}\r\n\t\t\tif (state.closeAfterWritter) {\r\n\t\t\t\tdelete state.closeAfterWritter\r\n\t\t\t\tupdateState.convOptions = []\r\n\t\t\t\tupdateState.shouldCloseConvo = true\r\n\t\t\t}\r\n\t\t\tsetState({ ...state, ...updateState })\r\n\t\t}\r\n\t}\r\n\r\n\tconst onRefreshDialog = () => {\r\n\t\tsetState({\r\n\t\t\t...state,\r\n\t\t\t...dialogInitialState,\r\n\t\t\trefreshDialog: null,\r\n\t\t\tconvOptions: state.locations[state.currentRoom].missionCharacters\r\n\t\t\t\t.find(c => c.character.id === state.currentChar.id).selectedQuestions\r\n\t\t\t\t.slice(0, state.questionsByStep)\r\n\t\t})\r\n\t}\r\n\r\n\tconst onMenuButtonClick = (answer) => {\r\n\t\tlet updateState = {}\r\n\r\n\t\tif (answer.tip && state.tips.indexOf(answer.tip) === -1)\r\n\t\t\tupdateState = { ...updateState, tips: [...state.tips, answer.tip] }\r\n\r\n\t\tif (answer.refresh)\r\n\t\t\tupdateState = { ...updateState, refreshDialog: onRefreshDialog }\r\n\t\telse if (answer.close)\r\n\t\t\tupdateState = { ...updateState, closeAfterWritter: true }\r\n\t\telse {\r\n\t\t\tif (state.scene === \"TUTORIAL\") {\r\n\t\t\t\tupdateState = {\r\n\t\t\t\t\t...updateState,\r\n\t\t\t\t\tcharacterFeeling: 'wrongQuestion',\r\n\t\t\t\t\tconvOptions: []\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tupdateState = {\r\n\t\t\t\t\t...updateState,\r\n\t\t\t\t\tspokenCharacters: state.spokenCharacters,\r\n\t\t\t\t\tvalidQuestions: state.validQuestions,\r\n\t\t\t\t\tcharacterFeeling: null,\r\n\t\t\t\t}\r\n\t\t\t\tif (updateState.spokenCharacters.indexOf(state.currentChar.name) === -1)\r\n\t\t\t\t\tupdateState.spokenCharacters.push(state.currentChar.name)\r\n\r\n\t\t\t\t//change character face\r\n\t\t\t\tif (answer.correct) {\r\n\t\t\t\t\tif (updateState.validQuestions.hasOwnProperty(answer.question)) {\r\n\t\t\t\t\t\tupdateState.validQuestions[answer.question]++\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tupdateState.validQuestions[answer.question] = 0\r\n\t\t\t\t\t}\r\n\t\t\t\t\tupdateState.characterFeeling = 'rightQuestion'\r\n\t\t\t\t} else {\r\n\t\t\t\t\tupdateState.characterFeeling = 'wrongQuestion'\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tupdateState = {\r\n\t\t\t\t...updateState,\r\n\t\t\t\tdialogStep: state.dialogStep + 1,\r\n\t\t\t\tcorrect: state.correct + (answer.correct ? 1 : 0)\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tsetState({ ...state, ...updateState })\r\n\t}\r\n\r\n\tconst checkEnd = () => {\r\n\r\n\t\tsetState({\r\n\t\t\t...state, acusation: false, scene: \"ENDGAME\", gameEndState: state.currentChar.name === state.targetName, characterFeeling: state.currentChar.name === state.targetName ?\r\n\t\t\t\t'rightAccusation' : 'wrongAccusation',\r\n\t\t\tcurrentChar: null\r\n\t\t})\r\n\r\n\t\t//aqui\r\n\t\tdispatch(user_game_resultsActions.create({\r\n\t\t\tuser: userId,\r\n\t\t\tmission: mission.id,\r\n\t\t\tscore: state.score,\r\n\t\t\ttipsCount: state.tips.length,\r\n\t\t\tspokenCharactersCount: state.spokenCharacters.length,\r\n\t\t\ttries: state.tries,\r\n\t\t\twon: state.gameEndState,\r\n\t\t\tvalidQuestionsCount: Object.keys(state.validQuestions).length\r\n\t\t}))\r\n\r\n\t\tdispatch(headerActions.setAll(mission.name, mission.nameTranslate))\r\n\t\tdispatch(headerActions.setState(headerConstants.STATES.OVERLAY))\r\n\r\n\t}\r\n\r\n\tconst tutorialScreen = (id) => {\r\n\t\treturn (\r\n\t\t\t<div id=\"room-itself\" className=\"tutorial\">\r\n\t\t\t\t<Sala roomData={state.tutorialRoom.location} key={-1}>\r\n\t\t\t\t\t{state.tutorialRoom.missionCharacters.map((missionCharacter, index) =>\r\n\t\t\t\t\t\t<Character\r\n\t\t\t\t\t\t\tcharacter={missionCharacter.character}\r\n\t\t\t\t\t\t\tonClick={setTutorialCharacter(missionCharacter.character)}\r\n\t\t\t\t\t\t\tkey={index}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t<div className=\"abs-fix\">\r\n\t\t\t\t\t\t<div id=\"tutorial-popup-1\">\r\n\t\t\t\t\t\t\t<span lang=\"pt-br\">Selecione alguém para conversar e te ajudar a encontrar o seu guia.</span>\r\n\t\t\t\t\t\t\t<span lang=\"en\">Select someone to talk and help you find your guide.</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Sala>\r\n\t\t\t\t{state.showConvo &&\r\n\t\t\t\t\t<Conversa\r\n\t\t\t\t\t\tonExited={() => { setState({ ...state, showConvo: false, tutorialStep: state.tutorialStep - 1 }) }}\r\n\t\t\t\t\t\tconvOptions={state.convOptions.reduce((acc, convOption) => {\r\n\t\t\t\t\t\t\tlet option = { ...convOption, answers: convOption.answer, question: convOption.question.question }\r\n\t\t\t\t\t\t\tdelete option.answer\r\n\t\t\t\t\t\t\treturn [...acc, option]\r\n\t\t\t\t\t\t}, [])}\r\n\t\t\t\t\t\tcurrentChar={state.currentChar}\r\n\t\t\t\t\t\tcharFeeling={state.characterFeeling}\r\n\t\t\t\t\t\tafterWriter={afterWriter}\r\n\t\t\t\t\t\tonConvoChoiceMade={onMenuButtonClick}\r\n\t\t\t\t\t/>\r\n\t\t\t\t}\r\n\t\t\t\t{id === 2 &&\r\n\t\t\t\t\t<div id=\"tutorial-popup-2-wrapper\">\r\n\t\t\t\t\t\t<div id=\"tutorial-popup-2-content\">\r\n\t\t\t\t\t\t\t<span lang=\"pt-br\"><strong>Lembre-se:</strong> As pessoas estão ocupadas em seus ambientes de trabalho, então tenha certeza de não gastar o tempo delas com perguntas fora de contexto!</span>\r\n\t\t\t\t\t\t\t<span lang=\"en\"><strong>Remember:</strong> People are busy in their workplaces, so be sure not to waste their times with question that are out of yout context!</span>\r\n\t\t\t\t\t\t\t<button className=\"btn btn-center\" id=\"btn-end-tutorial\" onClick={endTutorial}>Continuar</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n\r\n\tconst restart = () => {\r\n\t\tsetState({ ...initialState(), hasPlayed: true })\r\n\t\tdispatch(headerActions.setState(headerConstants.STATES.HIDDEN))\r\n\t}\r\n\r\n\tconsole.log(state)\r\n\r\n\treturn (\r\n\t\t<div id=\"game2-wrapper\">\r\n\t\t\t{loading ? <div>Loading...</div> : error ? <div>{error}</div> : mission &&\r\n\t\t\t\t<div id=\"game2-content\">\r\n\t\t\t\t\t<div id=\"input-tracker\">TrackInput: <input type=\"checkbox\" onChange={(e) => { setState({ ...state, tracking: e.target.checked }) }} /></div>\r\n\t\t\t\t\t{(function renderScene() {\r\n\t\t\t\t\t\t// eslint-disable-next-line default-case\r\n\t\t\t\t\t\tswitch (state.scene) {\r\n\t\t\t\t\t\t\tcase \"INIT\":\r\n\t\t\t\t\t\t\t\treturn <Init\r\n\t\t\t\t\t\t\t\t\ticon={iconInit}\r\n\t\t\t\t\t\t\t\t\tname={mission.name}\r\n\t\t\t\t\t\t\t\t\tdescription={mission.description}\r\n\t\t\t\t\t\t\t\t\tnameTranlate={mission.missionNameLanguages.find(name => { return name.language === lang }).name}\r\n\t\t\t\t\t\t\t\t\tdescriptionTranlate={mission.missionDescriptionLanguages.find(description => { return description.language === lang }).description}\r\n\t\t\t\t\t\t\t\t\tonStart={onStartGame}\r\n\t\t\t\t\t\t\t\t\tonBack={() => setState({ ...state, back: true })}\r\n\t\t\t\t\t\t\t\t\tonSeeTutorial={state.hasPlayed ? () => { state.seeTutorial = true; onStartGame() } : null}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\tcase \"TUTORIAL\":\r\n\t\t\t\t\t\t\t\treturn (tutorialScreen(state.tutorialStep))\r\n\t\t\t\t\t\t\tcase \"ROOM\":\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<div id=\"room-itself\">\r\n\t\t\t\t\t\t\t\t\t\t<RoomSelect\r\n\t\t\t\t\t\t\t\t\t\t\tbuttonList={state.locations.map((location, index) => index)}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={(num) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tsetState({ ...state, currentRoom: num })\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t{/* //? Pq sala recebe a location inteira? Se ela só precisa saber a imagem de fundo,\r\n\t\t\t\t\t\t\t\t\t\t//? pq passar tudo ao invés de só passar a string? Que aí poderia ser local ou na rede... */}\r\n\t\t\t\t\t\t\t\t\t\t<Sala roomData={state.locations[state.currentRoom].location} key={state.currentRoom}>\r\n\t\t\t\t\t\t\t\t\t\t\t{state.locations[state.currentRoom].missionCharacters.map((missionCharacter, index) =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Character key={index}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tzDepth={missionCharacter.zDepth}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcharacter={missionCharacter.character}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={setCurrentCharacter(missionCharacter.character)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t// showNameOnHover={true} descomentar linha se quiser que os nomes dos personagens apareça sob hover do mouse\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t</Sala>\r\n\t\t\t\t\t\t\t\t\t\t{state.showConvo &&\r\n\t\t\t\t\t\t\t\t\t\t\t<Conversa\r\n\t\t\t\t\t\t\t\t\t\t\t\tshouldExit={state.shouldCloseConvo}\r\n\t\t\t\t\t\t\t\t\t\t\t\tprevDialogHistory={[]}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClearDialogHistory={state.refreshDialog}\r\n\t\t\t\t\t\t\t\t\t\t\t\tcharPreSpeech={state.preSpeech}\r\n\t\t\t\t\t\t\t\t\t\t\t\tconvOptions={state.convOptions.reduce((acc, convOption) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlet option = { ...convOption, ...convOption.question, answers: convOption.answer }\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdelete option.answer\r\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn [...acc, option]\r\n\t\t\t\t\t\t\t\t\t\t\t\t}, [])}\r\n\t\t\t\t\t\t\t\t\t\t\t\tcurrentChar={state.currentChar}\r\n\t\t\t\t\t\t\t\t\t\t\t\tcharFeeling={state.characterFeeling}\r\n\t\t\t\t\t\t\t\t\t\t\t\tafterWriter={afterWriter}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonExited={closeDialog}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonConvoChoiceMade={onMenuButtonClick}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<AcusationLamp onClick={() => setState({ ...state, acusation: true })} />\r\n\t\t\t\t\t\t\t\t\t\t\t</Conversa>\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t</div>)\r\n\t\t\t\t\t\t\tcase \"ENDGAME\":\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<div id=\"endGame-screen\">\r\n\t\t\t\t\t\t\t\t\t\t{state.gameEndState ?\r\n\t\t\t\t\t\t\t\t\t\t\t<div id=\"end-panels\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div id=\"painel-icon\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<img src={state.tries === 0 ? iconVitoriaPrim : iconVitoriaPers} alt=\"\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div id=\"endgame-messages\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{state.tries === 0 ?\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"painel\" id=\"painel-1\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span lang=\"pt-br\">Muito bem! Você encontrou a pessoa na primeira tentativa. Vai arrasar na sua nova carreira!</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span lang=\"en\">Well done! You have found the right person on your first try. You're going to rock on your new career!</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<a href=\"#painel-2\" className=\"next-btn\">{'❯'}</a>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div> :\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"painel\" id=\"painel-1\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span lang=\"pt-br\">Você encontrou a pessoa certa! Parabéns!</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span lang=\"en\">You have found the right person! Congrats!</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<a href=\"#painel-2\" className=\"next-btn\">{'❯'}</a>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"painel\" id=\"painel-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"painel-2-wrapper\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"painel-2-content\" style={{ backgroundImage: \"url(\" + (state.tips.length === tipsCount ? blobAzul : blobVerde) + \")\" }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div><span>{state.tips.length ?? 0}</span>/<span>{tipsCount}</span></div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div>clues</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"painel-2-wrapper\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"painel-2-content\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p>After talking to {state.spokenCharacters.length} people, you found {state.tips.length} of the {tipsCount} existing clues.</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p>Regarding the questions you asked, {Object.keys(state.validQuestions).length} of them were useful.</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<a href=\"#painel-1\" className=\"prev-btn\">{'❮'}</a>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div id=\"endGame-action-btns\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Button onClick={restart}>Tentar novamente</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Button onClick={() => setState({ ...state, back: true })}>Sair do jogo</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</div> :\r\n\t\t\t\t\t\t\t\t\t\t\t<div id=\"endGame-wrong-wrapper\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"painel\" id=\"painel-1\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div id=\"painel-icon-derrota\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<img src={iconDerrota} alt=\"\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span lang=\"pt-br\">Você ainda não encontrou a pessoa certa. Como você vai entender o que deve ser feito em seu novo trabalho? Você ainda precisa descobrir algumas dicas.</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span lang=\"en\">You still haven't found the right person. How will you understand what has to be done in your new job? There are clues yet to be found.</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"painel\" id=\"painel-3\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"painel-2-wrapper\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"painel-2-content\" style={{ backgroundImage: \"url(\" + blobLaranja + \")\" }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div><span>{state.tips.length ?? 0}</span>/<span>{tipsCount}</span></div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div>clues</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"painel-2-wrapper\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"painel-2-content\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p>After talking to {state.spokenCharacters.length} people, you found {state.tips.length} of the {tipsCount} existing clues.</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p>Regarding the questions you asked, {Object.keys(state.validQuestions).length} of them were useful. Try asking more relevant questions!</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div id=\"endGame-action-btns\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Button onClick={restart}>Tentar novamente</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Button onClick={() => setState({ ...state, back: true })}>Sair do jogo</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t{state.gameEndState &&\r\n\t\t\t\t\t\t\t\t\t\t\t<DialogCharacter\r\n\t\t\t\t\t\t\t\t\t\t\t\tcharacter={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmission.missionCharacters.find((mc) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn mc.character.name === state.targetName\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}).character}\r\n\t\t\t\t\t\t\t\t\t\t\t\tfeeling={\"rightAccusation\"}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}())}\r\n\t\t\t\t\t{state.acusation &&\r\n\t\t\t\t\t\t<FullscreenOverlay\r\n\t\t\t\t\t\t\tshowCloseBtn={false}\r\n\t\t\t\t\t\t\tshouldExit={state.closeAcusation}\r\n\t\t\t\t\t\t\tonReadyToExit={() => { setState({ ...state, closeAcusation: false, acusation: false }) }}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<div id=\"dialog-accusation-wrapper\">\r\n\t\t\t\t\t\t\t\t<div id=\"dialog-accusation\">\r\n\t\t\t\t\t\t\t\t\t<div id=\"accusation-infos\">\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t<span lang=\"pt-br\">Tem certeza?</span>\r\n\t\t\t\t\t\t\t\t\t\t\t<span lang=\"en\">Are you sure it's them?<br />Check your tips.</span>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div id=\"tips-received\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div id=\"accusation-icon\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<img src={iconDicas} alt=\"\" />\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t{state.tips.length > 0 ?\r\n\t\t\t\t\t\t\t\t\t\t\t\tstate.tips.map((tip, index) => <div key={index}>{tip}</div>)\r\n\t\t\t\t\t\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div>Nenhuma dica recebida.</div>\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div id=\"accusation-btns\">\r\n\t\t\t\t\t\t\t\t\t\t<Button onClick={() => setState({ ...state, closeAcusation: true })}>Não</Button>\r\n\t\t\t\t\t\t\t\t\t\t<Button onClick={checkEnd}>Sim</Button>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</FullscreenOverlay>\r\n\t\t\t\t\t}\r\n\t\t\t\t</div>\r\n\t\t\t}\r\n\t\t\t{ state.back && <Redirect to='/userspace' />}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default Game2\r\n","import React from 'react'\r\n\r\nconst zeroFill = (s, size) => {\r\n  while(s.length < size){\r\n    s = '0' + s\r\n  }\r\n  return s\r\n}\r\nconst Timer = ({seconds, onEnd, onSecondPassed, run = true}) => {\r\n  const [state, setState] = React.useState({seconds: seconds, timeout: null})\r\n  const previousRef = React.useRef();\r\n\r\n  React.useEffect(() => {\r\n    if(state === previousRef.current && state.seconds !== seconds){\r\n      //console.log('external side effect update')***\r\n      return\r\n    }\r\n\r\n    if(!run) return state.timeout ? () => clearTimeout(state.timeout) : null\r\n\r\n    if(state.seconds === 0){\r\n      if(onEnd) onEnd()\r\n    }\r\n    else if(state.seconds > 0)\r\n    {\r\n      previousRef.current = state\r\n      let timeout = setTimeout(() =>\r\n      {\r\n        setState({seconds: state.seconds - 1, timeout: timeout})\r\n        if(onSecondPassed) onSecondPassed(state.seconds - 1)\r\n      }, 1000)\r\n\r\n      return () => clearTimeout(state.timeout)\r\n    }\r\n  }, [state, onEnd, onSecondPassed, run, seconds])\r\n\r\n  return(\r\n    <div>\r\n      {zeroFill(Math.floor(state.seconds / 60).toString(), 2)}:{zeroFill((state.seconds % 60).toString(), 2)}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Timer\r\n\r\n/***\r\n    Internal setState causes Timer component to update.\r\n    onSecondPassed may cause an external setState, leading to an update which could reupdate Timer component.\r\n\r\n    To prevent useEffect of entering the if statement responsable for setTimeout call, which leads to double that frame setTimeout callback,\r\n    previous state is compared to the new state.\r\n\r\n    In the first run, new state is in fact equal to current state.\r\n    In this case, the entering seconds value is verified.\r\n*/\r\n","const stub = {\r\n  name: 'Vamos as compras!',\r\n  description: 'Bora comprar as comidas ae',\r\n  ingredients: [\r\n    {name: 'maçã'},\r\n    {name: 'uva'},\r\n    {name: 'pera'},\r\n    {name: 'carne'},\r\n    {name: 'alho'}\r\n  ],\r\n  moneyTypes:[\r\n    {\r\n      url: '',\r\n      value: 25\r\n    },\r\n    {\r\n      url: '',\r\n      value: 0.5\r\n    },\r\n    {\r\n      url: '',\r\n      value: 1\r\n    },\r\n    {\r\n      url: '',\r\n      value: 2\r\n    },\r\n    {\r\n      url: '',\r\n      value: 5\r\n    },\r\n    {\r\n      url: '',\r\n      value: 10\r\n    },\r\n    {\r\n      url: '',\r\n      value: 20\r\n    },\r\n    {\r\n      url: '',\r\n      value: 50\r\n    },\r\n    {\r\n      url: '',\r\n      value: 100\r\n    },\r\n  ],\r\n  corridors:[\r\n    {\r\n      name: 'Frutas',\r\n      shelveProducts:[\r\n        {name: 'maçã'},\r\n        {name: 'uva'},\r\n        {name: 'pera'},\r\n        {name: 'banana'},\r\n        {name: 'melancia'}\r\n      ]\r\n    },\r\n    {\r\n      name: 'frios',\r\n      shelveProducts:[\r\n        {name: 'carne'},\r\n        {name: 'queijo'},\r\n        {name: 'presunto'},\r\n        {name: 'iogurte'},\r\n        {name: 'frango'}\r\n      ]\r\n    },\r\n    {\r\n      name: 'verduras e legumes',\r\n      shelveProducts:[\r\n        {name: 'batata'},\r\n        {name: 'rabanete'},\r\n        {name: 'beterraba'},\r\n        {name: 'espinafre'},\r\n        {name: 'alface'}\r\n      ]\r\n    },\r\n    {\r\n      name: 'temperos',\r\n      shelveProducts:[\r\n        {name: 'pimenta do reino'},\r\n        {name: 'sal'},\r\n        {name: 'alho'},\r\n        {name: 'cebolinha'}\r\n      ]\r\n    }\r\n  ]\r\n}\r\n\r\nexport default stub\r\n","const initialState = () => {\r\n  return {\r\n    scene: 'INIT',\r\n    cart: [],\r\n    currentAisle: 0,\r\n    checkout: false,\r\n    onPayment: false,\r\n    payment: [],\r\n    win: false,\r\n    change: null,\r\n    paymentAmount: null,\r\n    runTimer: true,\r\n    reaminingTime: 0\r\n  }\r\n}\r\n\r\nexport default initialState\r\n","import React from 'react'\r\nimport { Redirect, Link } from 'react-router-dom'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\n\r\nimport { apiActions } from '../../_actions'\r\n\r\nimport Button from '@material-ui/core/Button'\r\n\r\nimport Init from '../Game2/components/Init'\r\nimport Timer from './Timer'\r\nimport stub from './stub'\r\nimport initialState from './initialState'\r\n\r\nconst goRound = (value, max) => value >= 0 ? value % max : max - (Math.abs(value) % max)\r\n\r\nconst Game3 = (props) => {\r\n  const [state, setState] = React.useState({...initialState()})\r\n  const dispatch = useDispatch()\r\n  const mission = useSelector( state => state.game_3_missions.items.find( m => m.id === props.match.params.id) )\r\n  const onStartGame = () => {\r\n    setState({...state, scene: 'TUTORIAL'})\r\n  }\r\n\r\n  React.useEffect(() =>{\r\n    if(!mission && props.match.params.id){\r\n      dispatch(apiActions.game_3_missionsActions.getById(props.match.params.id))\r\n    }\r\n  }, [dispatch, mission, props.match.params.id])\r\n\r\n  const addProduct = (product) => () => setState({...state, cart: [...state.cart, product]})\r\n\r\n  const removeProduct = (index) => () => {\r\n    setState({...state,\r\n      cart: [\r\n        ...state.cart.slice(0, index),\r\n        ...state.cart.slice(index + 1)\r\n      ]\r\n    })\r\n  }\r\n\r\n  const toPreviousaisle = () => setState(\r\n    {...state,\r\n      currentAisle: goRound(state.currentAisle - 1, mission.aisles.length)\r\n    })\r\n\r\n\r\n  const toNextaisle = () => setState(\r\n    {...state,\r\n      currentAisle: goRound(state.currentAisle + 1, mission.aisles.length)\r\n    })\r\n\r\n  const haveAll = () => {\r\n    for(let i = 0; i < mission.ingredients.length; i++)\r\n        if(!state.cart.find( item => item.name === mission.ingredients[i].name))\r\n          return false\r\n    return true\r\n  }\r\n\r\n  const addToPayment = (money) => () => {\r\n    setState({...state, payment: [...state.payment, money]})\r\n  }\r\n\r\n  const removeFromPayment = (index) => () => {\r\n    setState({...state, payment: [...state.payment.slice(0, index), ...state.payment.slice(index+1)]})\r\n  }\r\n\r\n  const moveToPayment = () => {\r\n    setState({...state, onPayment: true, price: state.cart.reduce( (acc, product) => product.price + acc, 0)})\r\n  }\r\n\r\n  const doPayment = () => {\r\n    let updateData = {}\r\n    updateData.paymentAmount = state.payment.reduce( (acc, money) => money.value + acc, 0)\r\n    updateData.change = updateData.paymentAmount - state.price\r\n    setState({...state, ...updateData})\r\n  }\r\n\r\n  const receiveChange = () => {\r\n    let updateData = {}\r\n    updateData.scene = 'END_GAME'\r\n    updateData.win = true\r\n    setState({...state, ...updateData})\r\n\r\n  }\r\n\r\n  //const { mission } = state\r\n  //console.log('mission:', mission)\r\n  return(\r\n    <div>\r\n    { mission ?\r\n    //verificar se é possível generalizar esses gameX-wrapper\r\n    <div id=\"game2-wrapper\">\r\n      {(function renderScene(){\r\n        switch(state.scene){\r\n            case 'INIT':\r\n              return(\r\n                <Init name={mission.name} description={mission.description}\r\n  \t\t\t\t\t\t\tonStart={ onStartGame }\r\n  \t\t\t\t\t\t\tonBack={ () => setState({...state, back: true}) }\r\n                nameTranlate={'Tradução'}\r\n                descriptionTranlate={'Tradução'}\r\n                />\r\n              )\r\n            case 'TUTORIAL':\r\n              return(\r\n                <div>\r\n                  Tutorial\r\n                  <div>\r\n                    Apresentador\r\n                  </div>\r\n                  <div>\r\n                    Fala\r\n                    <div>\r\n                      Receita\r\n                      <div>\r\n                        {mission.ingredients.map( (ingredient, index) =>\r\n                          <div key={index}>\r\n                            {ingredient.name}\r\n                          </div>\r\n                        )}\r\n                      </div>\r\n                      <button onClick={()=> setState({...state, scene: 'MARKET'})}>\r\n                        Estou pronto\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              )\r\n            case 'MARKET':\r\n              return(\r\n                <div>\r\n                  <Timer\r\n                    run={state.runTimer} seconds={mission.seconds}\r\n                    onSecondPassed={(remaining) => setState({...state, remainingTime: remaining})}\r\n                    onEnd={() => setState({...state, scene: 'END_GAME', timeUp: true})} />\r\n\r\n                  <button onClick={() => setState({...state, shopList: !state.shopList})}>\r\n                    {state.shopList? 'Fechar' : 'Abrir'} lista de compras\r\n                  </button>\r\n                  {!state.checkout &&\r\n                    <div>\r\n                      <div className='Prateleira'>\r\n                        <div>Corredor: {mission.aisles[state.currentAisle].name}</div>\r\n                        {mission.aisles[state.currentAisle].products.map((product, index) =>\r\n                          <button key={index} onClick={addProduct(product)}>{product.name}</button>\r\n                        )}\r\n                      </div>\r\n\r\n                      <button className='Voltar' onClick={toPreviousaisle}>\r\n                        Voltar ao corredor {mission.aisles[goRound(state.currentAisle - 1, mission.aisles.length)].name}\r\n                      </button>\r\n\r\n                      <button className='Avançar' onClick={toNextaisle}>\r\n                        Ir ao corredor {mission.aisles[goRound(state.currentAisle + 1, mission.aisles.length)].name}\r\n                      </button>\r\n\r\n                      <button onClick={() => setState({...state, checkout: true, runTimer: false})}>\r\n                        Ir para o caixa\r\n                      </button>\r\n                    </div>\r\n                  }\r\n\r\n                  {state.checkout &&\r\n                    <div>\r\n                      Caixa\r\n                      {haveAll() ?\r\n                        <button onClick={moveToPayment}>\r\n                          Pagar\r\n                        </button>\r\n                        :\r\n                        <div>\r\n                          Está faltando coisa aí!\r\n                          <button onClick={() => setState({...state, checkout: false, runTimer: true})}>Voltar às compras</button>\r\n                        </div>\r\n                      }\r\n                      {state.onPayment &&\r\n                        <div>\r\n                          Hora de pagar! Sua compra deu {Number.parseFloat(state.price).toFixed(2)}\r\n                          <button onClick={doPayment}>\r\n                            Finalizar Compra\r\n                          </button>\r\n                          {state.paymentAmount && state.paymentAmount < state.price &&\r\n                            <div>Opa, pagament insuficiente.</div>\r\n                          }\r\n                          {state.change &&\r\n                            <div className='PopUp'>\r\n                              <div>Seu troco! {state.change}</div>\r\n                              <div>O troco está correto?</div>\r\n                              <button onClick={receiveChange}>Yes</button>\r\n                              <button onClick={receiveChange}>No</button>\r\n                            </div>\r\n                          }\r\n                          <div>\r\n                            {mission.moneyTypes.map( (money, index) =>\r\n                              <Button key={index} onClick={addToPayment(money)}>\r\n                                <img style={{width: 50}} src={money.image.url} alt='money'/>\r\n                              </Button>\r\n                            )}\r\n                          </div>\r\n\r\n                          <div>\r\n                          {state.payment.map((money, index) =>\r\n                            <div key={index}>\r\n                              <img style={{width: 50}} src={money.image.url} alt='money'/>\r\n                              <button onClick={removeFromPayment(index)}>Remover</button>\r\n                            </div>\r\n                          )}\r\n                          </div>\r\n                        </div>\r\n                      }\r\n                    </div>\r\n                  }\r\n\r\n                  <div className='carrinho'>\r\n                    {state.cart.map((product, index) =>\r\n                      <div key={index}>{product.name}\r\n                        { !state.checkout &&\r\n                          <button onClick={removeProduct(index)}>Remover</button>\r\n                        }\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n\r\n                  {state.shopList &&\r\n                    <div className='Lista de compras'>\r\n                        <div>\r\n                          {mission.ingredients.map( (ingredient, index) =>\r\n                            <div key={index}>{ingredient.name}</div>\r\n                          )}\r\n                        </div>\r\n                    </div>\r\n                  }\r\n                </div>\r\n              )\r\n            case 'END_GAME':\r\n              return(\r\n                <div>\r\n                  {state.timeUp &&\r\n                    <div>\r\n                      Seu tempo acabou!\r\n                    </div>\r\n                  }\r\n                  {state.win &&\r\n                    <div>\r\n                      Parabens!! isso e isso deu certo, mas isso e isso deu errado!\r\n                    </div>\r\n                  }\r\n                  <button onClick={()=>setState({...initialState, mission: stub})}>\r\n                    Jogar novamente\r\n                  </button>\r\n                  <Link to={'/userspace'}>\r\n                    Sair do jogo\r\n                  </Link>\r\n                </div>\r\n              )\r\n            default:\r\n              return(\r\n                <div>\r\n                  Erro\r\n                </div>\r\n              )\r\n      }})()}\r\n    {state.back && <Redirect to={'/userspace'} />}\r\n    </div>\r\n    :\r\n    <div>Loading..</div>\r\n    }\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Game3\r\n","const stub = {\r\n  name: 'Missão 4 mutcho louca',\r\n  description: 'Prepare-se pra uma missão do barulho com essa galerinha que vai agitar a sua tarde',\r\n  seconds: 180,\r\n  recipe: [\r\n    {name: 'tomate'},\r\n    {name: 'queijo'},\r\n    {name: 'pão'},\r\n    {name: 'presunto'},\r\n    {name: 'ovo'}\r\n  ],\r\n  ingredients:[\r\n    {name: 'tomate'},\r\n    {name: 'alho'},\r\n    {name: 'queijo'},\r\n    {name: 'pimentão'},\r\n    {name: 'requeijão'},\r\n    {name: 'pão'},\r\n    {name: 'feijão'},\r\n    {name: 'presunto'},\r\n    {name: 'ovo'},\r\n    {name: 'macarrão'}\r\n  ]\r\n}\r\n\r\nexport default stub\r\n","const initialState = (runTimer = true) => {\r\n  return {\r\n    scene: 'INIT',\r\n    selected: null,\r\n    runTimer: runTimer,\r\n    remainingTime: 0,\r\n    timeUp: false,\r\n    cook: false,\r\n    orderedLetters: [],\r\n    result: '',\r\n    shuffled: []\r\n  }\r\n}\r\n\r\nexport default initialState\r\n","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nimport Init from '../Game2/components/Init'\r\nimport Timer from '../Game3/Timer'\r\n\r\nimport stub from './stub'\r\nimport initialState from './initialState'\r\n\r\nconst shuffle = (word) => {\r\n  let copy = word.slice(0)\r\n  let shuffled = []\r\n  while(copy.length > 0){\r\n    let index = (Math.trunc(Math.random()*100)) % copy.length\r\n    shuffled.push(copy[ index ])\r\n    copy = copy.slice(0, index) + copy.slice(index+1)\r\n  }\r\n  return shuffled\r\n}\r\n\r\nconst Game4 = () => {\r\n  const [state, setState] = React.useState(initialState())\r\n  const mission = stub\r\n  const onStartGame = () => setState({...state, scene: 'TUTORIAL'})\r\n  const onSecondPassed = remaining => setState( state => { return {...state, remainingTime: remaining} })\r\n  const onTimeEnd = () => setState({...state, scene: 'END_GAME', timeUp: true})\r\n\r\n  return(\r\n    <div>\r\n      {(function renderScene(){\r\n        switch(state.scene){\r\n          case 'INIT':\r\n            return (\r\n              <Init\r\n                name={mission.name}\r\n                description={mission.description}\r\n                onStart={ onStartGame }\r\n                onBack={() => setState({...state, back: true})}\r\n                onSeeTutorial={ state.hasPlayed ? () => { setState({...state, seeTutorial: true}); onStartGame()} : null }\r\n              />\r\n            )\r\n          case 'TUTORIAL':\r\n            return(\r\n              <div>\r\n                Tutorial\r\n                <div>\r\n                  Apresentador\r\n                </div>\r\n                <div>\r\n                  Fala\r\n                  <div>\r\n                    Receita\r\n                    <div>\r\n                      {mission.recipe.map( (ingredient, index) =>\r\n                        <div key={index}>\r\n                          {ingredient.name}\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                    <button onClick={()=> setState({...state, scene: 'GAME'})}>\r\n                      Estou pronto\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )\r\n          case 'GAME':\r\n            return(\r\n              <div>\r\n                <Timer\r\n                  run={state.runTimer} seconds={mission.seconds}\r\n                  onSecondPassed={onSecondPassed}\r\n                  onEnd={onTimeEnd}\r\n                />\r\n                {state.cook?\r\n                  <div>\r\n                    <div>\r\n                      {state.shuffled.map((letter, index) =>\r\n                        <button key={index} onClick={() =>\r\n                          setState({...state,\r\n                            orderedLetters: [...state.orderedLetters, letter],\r\n                            shuffled: [...state.shuffled.slice(0, index), ...state.shuffled.slice(index+1)]\r\n                          })}>\r\n                            {letter}\r\n                        </button>\r\n                      )}\r\n                    </div>\r\n                    <div>\r\n                      {state.shuffled.length === 0  &&\r\n                        (state.orderedLetters.reduce( (acc, letter) => acc + letter, '') === state.selected.name ?\r\n                        <div>Acertou!</div>\r\n                        :<div>Errou! :(</div>)\r\n                      }\r\n                      <button onClick={()=> setState({...state, orderedLetters: [], shuffled: shuffle(state.selected.name)})}>\r\n                        Clear\r\n                      </button>\r\n                      {state.orderedLetters.map((letter, index) =>\r\n                        <span key={index}>-{letter}-</span>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                  :\r\n                  <div>\r\n                    {mission.ingredients.map( (item, index) =>\r\n                      <button key={index} onClick={ e => setState({...state, selected: item})}>{item.name}</button>\r\n                    )}\r\n                  </div>\r\n                }\r\n                  <div>\r\n                    Mesa\r\n                    <div>\r\n                      {state.selected &&\r\n                        (function showTable(){\r\n                          let item = mission.recipe.find( item => item.name === state.selected.name)\r\n                          if(item)\r\n                            return(\r\n                              <div>\r\n                                {item.name}\r\n                                {!state.cook &&\r\n                                  <button onClick={()=> setState({...state, cook: true, shuffled: shuffle(item.name)})}>Preparar</button>\r\n                                }\r\n                              </div>\r\n                            )\r\n                          else\r\n                            return(\r\n                              <div>\r\n                                {item.name}\r\n                                <div>Não faz parte da receita! :(</div>\r\n                                <button onClick={() => setState({...state, selected: null})}>Remover</button>\r\n                              </div>\r\n                            )\r\n                        })()\r\n                      }\r\n                    </div>\r\n                  </div>\r\n              </div>\r\n            )\r\n          case 'END_GAME':\r\n            return(\r\n              <div>Acabou o tempo!\r\n                <button onClick={() => setState(initialState())}>Jogar de novo</button>\r\n                <Link to={'/userspace'}>\r\n                  Sair do jogo\r\n                </Link>\r\n              </div>\r\n            )\r\n          default:\r\n            return (<div>Error</div>)\r\n        }\r\n      })()}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Game4\r\n","import React from 'react'\r\nimport { Route, Redirect } from 'react-router-dom'\r\n\r\nfunction PrivateRoute ({component: Component, roles, render, ...rest}){\r\n    return (\r\n        <Route {...rest}\r\n          render={ props => localStorage.getItem('user') ?\r\n                    Component ? <Component {...props} />\r\n                  : render && render(props)\r\n                  : <Redirect to={{ pathname: '/login', state: {from:props.location} }} />\r\n          }\r\n        />\r\n    )\r\n}\r\n\r\nexport { PrivateRoute }\r\n","import './index.scss'\r\n\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Button from '@material-ui/core/Button';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nimport React, { useState } from 'react'\r\nimport { Link, Redirect } from 'react-router-dom'\r\nimport { useDispatch, useSelector} from 'react-redux'\r\nimport { useAlert } from 'react-alert'\r\n\r\nimport { login } from '../../_actions'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n      height: '100vh',\r\n    },\r\n    image: {\r\n      backgroundImage: 'url(https://source.unsplash.com/random)',\r\n      backgroundRepeat: 'no-repeat',\r\n      backgroundColor:\r\n        theme.palette.type === 'light' ? theme.palette.grey[50] : theme.palette.grey[900],\r\n      backgroundSize: 'cover',\r\n      backgroundPosition: 'center',\r\n    },\r\n    paper: {\r\n      margin: theme.spacing(8, 4),\r\n      display: 'flex',\r\n      flexDirection: 'column',\r\n      alignItems: 'center',\r\n    },\r\n    avatar: {\r\n      margin: theme.spacing(1),\r\n      backgroundColor: theme.palette.secondary.main,\r\n    },\r\n    form: {\r\n      width: '100%', // Fix IE 11 issue.\r\n      marginTop: theme.spacing(1),\r\n    },\r\n    submit: {\r\n      margin: theme.spacing(3, 0, 2),\r\n    }\r\n  }));\r\n\r\nconst Login = () => {\r\n    const [inputs, setInputs] = useState({\r\n        email: '',\r\n        password: ''\r\n    })\r\n    const [submitted, setSubmitted ] = useState(false)\r\n    const { email, password } = inputs\r\n    const loggingIn = useSelector(state => state.authentication.loggingIn)\r\n    const user = useSelector(state => state.authentication.user)\r\n    const dispatch = useDispatch()\r\n    const classes = useStyles()\r\n    const alert = useAlert()\r\n\r\n    function handleChange(e) { \r\n        const {name, value} = e.target\r\n        setInputs(inputs => ({...inputs, [name]: value}))\r\n    }\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault()\r\n\r\n        setSubmitted(true)\r\n\r\n        if(email && password){\r\n            dispatch(login(email, password))\r\n              .catch(() => {\r\n                alert.error('Email and/or password invalid! Please, check your inputs and try again!')\r\n              })\r\n\r\n        } else {\r\n          alert.error('Email and/or password missing! Please, check your inputs and try again!')\r\n        }\r\n    }\r\n    \r\n    return (\r\n        <Grid container component=\"main\" className={classes.root}>\r\n          {user ? user.user ? <Redirect to='/userspace' /> : null : null}\r\n          <CssBaseline />\r\n          <Grid item xs={false} sm={4} md={7} className={classes.image} />\r\n          <Grid item xs={12} sm={8} md={5} component={Paper} elevation={6} square>\r\n            <div className={classes.paper}>\r\n              <Avatar className={classes.avatar}>\r\n                <LockOutlinedIcon />\r\n              </Avatar>\r\n              <Typography component=\"h1\" variant=\"h5\">\r\n                Sign in\r\n              </Typography>\r\n              <form onSubmit={handleSubmit} className={classes.form} noValidate>\r\n                <TextField\r\n                  variant=\"outlined\"\r\n                  margin=\"normal\"\r\n                  required\r\n                  fullWidth\r\n                  id=\"email\"\r\n                  label=\"E-mail\"\r\n                  name=\"email\"\r\n                  autoComplete=\"email\"\r\n                  autoFocus\r\n                  className={'form-control' + (submitted && !email ? ' is-invalid' : '')}\r\n                  onChange={handleChange}\r\n                />\r\n                <TextField\r\n                  variant=\"outlined\"\r\n                  margin=\"normal\"\r\n                  required\r\n                  fullWidth\r\n                  name=\"password\"\r\n                  label=\"Senha\"\r\n                  type=\"password\"\r\n                  id=\"password\"\r\n                  autoComplete=\"current-password\"\r\n                  className={'form-control' + (submitted && !password ? ' is-invalid' : '')}\r\n                  onChange={handleChange}\r\n                />\r\n                <Button\r\n                  type=\"submit\"\r\n                  fullWidth\r\n                  variant=\"contained\"\r\n                  color=\"primary\"\r\n                  className={classes.submit}\r\n                >\r\n                {loggingIn && <span className=\"spinner-border spinner-border-sm mr-1\"></span>}\r\n                  Sign in\r\n                </Button>\r\n                <Grid container justify=\"flex-end\">\r\n                  <Grid item>\r\n                    <Link to=\"/register\" variant=\"body2\">\r\n                    Don't have an account yet? Sign up!\r\n                    </Link>\r\n                  </Grid>\r\n                </Grid>\r\n              </form>\r\n            </div>\r\n          </Grid>\r\n        </Grid>\r\n      );\r\n\r\n\r\n}\r\n\r\nexport default Login \r\n","import './index.scss'\r\nimport React from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { Link } from 'react-router-dom'\r\nimport { apiActions } from '../../_actions'\r\n\r\nconst UserSpace = () => {\r\n\r\n\r\n  const user = useSelector(state => state.authentication.user.user)\r\n  const missions = useSelector( state => state.missions)\r\n  const game1missions = useSelector( state => state.game_1_missions)\r\n  const game3missions = useSelector( state => state.game_3_missions)\r\n  const dispatch = useDispatch()\r\n  const { missionsActions, game_1_missionsActions, game_3_missionsActions } = apiActions\r\n\r\n\r\n  React.useEffect(()=>{\r\n    dispatch(missionsActions.getAll())\r\n  }, [dispatch, missionsActions])\r\n\r\n  React.useEffect(()=>{\r\n    dispatch(game_1_missionsActions.getAll())\r\n  }, [dispatch, game_1_missionsActions])\r\n\r\n    React.useEffect(()=>{\r\n      dispatch(game_3_missionsActions.getAll())\r\n    }, [dispatch, game_3_missionsActions])\r\n\r\n  return(\r\n    <div id=\"userspace\">\r\n      <p>Oi {user.username}!</p>\r\n\r\n      <div id=\"area-criacao\">\r\n        Área de criação\r\n        <div>\r\n          <Link to='/missions'>Ver Missões</Link>\r\n        </div>\r\n\r\n        <div>\r\n          <Link to='/characters'>Personagens</Link>\r\n        </div>\r\n\r\n        <div>\r\n          <Link to='/questions'>Perguntas</Link>\r\n        </div>\r\n        <div>\r\n          <Link to='/questionnaires'>Questionnaires</Link>\r\n        </div>\r\n        <div>\r\n          <Link to='/playSessions'>Ver PlaySessions</Link>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"jogos\">\r\n        <p>Jogar jogo 1</p>\r\n        <p>Missões:</p>\r\n        <Link to={'/game1/0'}>Stub</Link>\r\n        <div id=\"missoes\">\r\n          {game1missions.loading ? <div id=\"loading\">Loading...</div> :\r\n            game1missions && game1missions.items.map( (mission, index) =>\r\n            <div key={index} className=\"missao\">\r\n              <Link to={`/game1/${mission.id}`}>\r\n                <div id=\"imagem\"></div>\r\n                <div id=\"card-text-wrapper\">\r\n                  <div id=\"nome-missao\">{mission.name}</div>\r\n                  <div id=\"descricao\">Descrição</div>\r\n                  <div id=\"recompensas\">Recompensas</div>\r\n                </div>\r\n              </Link>\r\n            </div>)\r\n          }\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"jogos\">\r\n        <p>Jogar jogo 2</p>\r\n        <p>Missões:</p>\r\n        <Link to={'/game2/0'}>Stub</Link>\r\n        <div id=\"missoes\">\r\n          {missions.loading ? <div>Loading...</div> :\r\n            missions && missions.items.map( (mission, index) =>\r\n            <div key={index} className=\"missao\">\r\n              <Link to={`/game2/${mission.id}`}>\r\n                <div id=\"imagem\"></div>\r\n                <div id=\"card-text-wrapper\">\r\n                  <div id=\"nome-missao\">{mission.name}</div>\r\n                  <div id=\"descricao\">Descrição</div>\r\n                  <div id=\"recompensas\">Recompensas</div>\r\n                </div>\r\n              </Link>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"jogos\">\r\n        <p>Jogar jogo 3</p>\r\n        <p>Missões:</p>\r\n        <Link to={'/game3/0'}>Stub</Link>\r\n        <div id=\"missoes\">\r\n          {game3missions.loading ? <div id=\"loading\">Loading...</div> :\r\n            game3missions && game3missions.items.map( (mission, index) =>\r\n            <div key={index} className=\"missao\">\r\n              <Link to={`/game3/${mission.id}`}>\r\n                <div id=\"imagem\"></div>\r\n                <div id=\"card-text-wrapper\">\r\n                  <div id=\"nome-missao\">{mission.name}</div>\r\n                  <div id=\"descricao\">Descrição</div>\r\n                  <div id=\"recompensas\">Recompensas</div>\r\n                </div>\r\n              </Link>\r\n            </div>)\r\n          }\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"jogos\">\r\n        <p>Jogar jogo 4</p>\r\n        <p>Missões:</p>\r\n        <Link to={'/game4/0'}>Stub</Link>\r\n        {/*\r\n        <div id=\"missoes\">\r\n          {game3missions.loading ? <div id=\"loading\">Loading...</div> :\r\n            game3missions && game3missions.items.map( (mission, index) =>\r\n            <div key={index} className=\"missao\">\r\n              <Link to={`/game3/${mission.id}`}>\r\n                <div id=\"imagem\"></div>\r\n                <div id=\"card-text-wrapper\">\r\n                  <div id=\"nome-missao\">{mission.name}</div>\r\n                  <div id=\"descricao\">Descrição</div>\r\n                  <div id=\"recompensas\">Recompensas</div>\r\n                </div>\r\n              </Link>\r\n            </div>)\r\n          }\r\n        </div>\r\n        */}\r\n      </div>\r\n\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default UserSpace\r\n","import React, { useState } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { apiActions, register } from '../../_actions'\r\nimport Avatar from '@material-ui/core/Avatar'\r\nimport Button from '@material-ui/core/Button'\r\nimport CssBaseline from '@material-ui/core/CssBaseline'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport Container from '@material-ui/core/Container'\r\nimport { useAlert } from 'react-alert'\r\nimport { Link, Redirect } from 'react-router-dom'\r\nimport { MenuItem } from '@material-ui/core'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  form: {\r\n    width: '100%', // Fix IE 11 issue.\r\n    marginTop: theme.spacing(3),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n}))\r\n\r\n\r\nconst Register = () => {\r\n  const classes = useStyles()\r\n  const alert = useAlert()\r\n\r\n  const { languagesActions } = apiActions\r\n\r\n  const [inputs, setInputs] = useState({\r\n      email: '',\r\n      password: '',\r\n      username: '',\r\n      firstName: '',\r\n      lastName: '',\r\n      language: ''\r\n  })\r\n  const languages = useSelector(state => state.languages.items)\r\n  const [submitted, setSubmitted ] = useState(false)\r\n  const [redirect, setRedirect] = useState(false)\r\n  const registering = useSelector(state => state.authentication.registering)\r\n  const dispatch = useDispatch()\r\n\r\n  function handleChange(e) {\r\n      const {name, value} = e.target\r\n      setInputs(inputs => ({...inputs, [name]: value}))\r\n  }\r\n\r\n  React.useEffect(()=>{\r\n\t\tdispatch(languagesActions.getAll())\r\n\t}, [dispatch, languagesActions])\r\n\r\n  function handleSubmit(e) {\r\n      e.preventDefault()\r\n      setSubmitted(true)\r\n\r\n      if(inputs.email && inputs.password && inputs.username){\r\n          dispatch(register(inputs))\r\n            .then(() => {\r\n              alert.success('User registred!')\r\n              setTimeout(()=>{\r\n                setRedirect(true)\r\n                //window.location.href = \"/userspace\"\r\n              }, 3000)\r\n            })\r\n            .catch(error => {\r\n              alert.error(error)\r\n            })\r\n      } else {\r\n        alert.error('Required fields missing! Please, check your inputs and try again!')\r\n      }\r\n  }\r\n\r\n  return (\r\n    <Container componexWidth=\"xs\">\r\n      {redirect && <Redirect to={'/userspace'} />}\r\n      <CssBaseline />\r\n      <div className={classes.paper}>\r\n        <Avatar className={classes.avatar}>\r\n          <LockOutlinedIcon />\r\n        </Avatar>\r\n        <Typography component=\"h1\" variant=\"h5\">\r\n          Register\r\n        </Typography>\r\n        <form onSubmit={handleSubmit} className={classes.form} noValidate>\r\n          <Grid container spacing={2}>\r\n            <Grid item xs={12} sm={6}>\r\n              <TextField\r\n                autoComplete=\"fname\"\r\n                name=\"firstName\"\r\n                variant=\"outlined\"\r\n                fullWidth\r\n                id=\"firstName\"\r\n                label=\"First Name\"\r\n                autoFocus\r\n                onChange={handleChange}\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12} sm={6}>\r\n              <TextField\r\n                variant=\"outlined\"\r\n                fullWidth\r\n                id=\"lastName\"\r\n                label=\"Last Name\"\r\n                name=\"lastName\"\r\n                autoComplete=\"lname\"\r\n                onChange={handleChange}\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <TextField\r\n                variant=\"outlined\"\r\n                required\r\n                fullWidth\r\n                id=\"username\"\r\n                label=\"Username\"\r\n                name=\"username\"\r\n                autoComplete=\"username\"\r\n                className={submitted && !inputs.username ? 'danger' : ''}\r\n                onChange={handleChange}\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <TextField\r\n                variant=\"outlined\"\r\n                required\r\n                fullWidth\r\n                id=\"email\"\r\n                label=\"Email Address\"\r\n                name=\"email\"\r\n                autoComplete=\"email\"\r\n                className={submitted && !inputs.email ? 'danger' : ''}\r\n                onChange={handleChange}\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <TextField\r\n                variant=\"outlined\"\r\n                required\r\n                fullWidth\r\n                name=\"password\"\r\n                label=\"Password\"\r\n                type=\"password\"\r\n                id=\"password\"\r\n                autoComplete=\"current-password\"\r\n                className={submitted && !inputs.password ? 'danger' : ''}\r\n                onChange={handleChange}\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <TextField\r\n                variant=\"outlined\"\r\n                required\r\n                fullWidth\r\n                name=\"language\"\r\n                label=\"Language\"\r\n                type=\"language\"\r\n                id=\"language\"\r\n                className={submitted && !inputs.language ? 'danger' : ''}\r\n                onChange={handleChange}\r\n                select\r\n              >\r\n                {languages.map(language =>\r\n                        <MenuItem value={language.id}>{language.lang}</MenuItem>\r\n                      )}\r\n              </TextField>\r\n            </Grid>\r\n          </Grid>\r\n\r\n          <Button\r\n            type=\"submit\"\r\n            fullWidth\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            className={classes.submit}\r\n          >\r\n          {registering && <span className=\"spinner-border spinner-border-sm mr-1\"></span>}\r\n           Sign Up\r\n          </Button>\r\n          <Grid container justify=\"flex-end\">\r\n            <Grid item>\r\n              <Link to=\"/login\" variant=\"body2\">\r\n              Already have an account? Sign in!\r\n              </Link>\r\n            </Grid>\r\n          </Grid>\r\n        </form>\r\n      </div>\r\n    </Container>\r\n  )\r\n}\r\n\r\nexport default Register\r\n","import React from 'react'\r\n\r\nconst UserInfo = ({user}) => {\r\n  return(\r\n    <div>\r\n      Username: {user.username}\r\n      Email: {user.email}\r\n      Provider: {user.provider}\r\n      Confirmed: <input type='checkbox' checked={user.confirmed} />\r\n      Blocked: <input type='checkbox' checked={user.blocked} />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default UserInfo\r\n","import React from 'react'\r\n\r\nimport { useDispatch, useSelector} from 'react-redux'\r\nimport { userActions } from '../../_actions'\r\nimport Register from '../Register'\r\nimport UserInfo from '../../_components/UserInfo'\r\n\r\nconst UsersCRUD = () => {\r\n  const dispatch = useDispatch()\r\n  const users = useSelector( state => state.users )\r\n\r\n  React.useEffect(()=>{\r\n    dispatch(userActions.getAll())\r\n  }, [dispatch])\r\n\r\n  console.log('users:', users)\r\n\r\n  return (\r\n    <div>\r\n      <div>\r\n        Create User:\r\n        <Register />\r\n      </div>\r\n      <div>\r\n        All Users:\r\n        {users && users.items ? users.items.map( (user, index) =>\r\n          <div key={index}>\r\n            <UserInfo user={user} />\r\n            <button onClick={()=>{}}>\r\n              UPDATE USER\r\n            </button>\r\n            <button onClick={()=>dispatch(userActions.delete(user.id))}>\r\n              DELETE USER\r\n            </button>\r\n          </div>\r\n        ): null}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default UsersCRUD\r\n","import React from 'react'\r\n\r\nconst Mission = ({mission}) => {\r\n\r\n  return(\r\n    <div>\r\n      <div>Nome: {mission.name}</div>\r\n      <div>\r\n        <div>Descrição:</div>\r\n        <div>{mission.description}</div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Mission\r\n","import React from 'react'\r\n\r\nconst Character = ({character}) => {\r\n  const getAnswer = (qId) => {\r\n    let a = character.answers.find( answer => answer.question && answer.question.id === qId)\r\n    return a ? a.answer : ''\r\n  }\r\n\r\n  return(\r\n    <div style={{borderStyle: 'groove', borderRadius: 5}}>\r\n      <div style={{borderStyle: 'groove', borderRadius: 5}}>\r\n        <div>Name: {character.name}</div>\r\n        <div style={{display: 'flex'}}>\r\n          {character.characterAssets && character.characterAssets.length > 0 ?\r\n            character.characterAssets.map((characterAsset, index) =>\r\n              <div key={index}>\r\n                <img style={{width: 50}} src={`${character.characterAssets[index].image[0].url}`} alt={characterAsset.name}/>\r\n              </div>\r\n            ):'nenhum'\r\n          }\r\n        </div>\r\n        {character.characterAssets && <div>Layers: {character.characterAssets.length}</div>}\r\n        <div>Job: {character.job}</div>\r\n        <div>Country: {character.country}</div>\r\n        <div>Civil state: {character.civilState}</div>\r\n      </div>\r\n      <div>\r\n        <div> JOGO 1 - Missões que participa: </div>\r\n        {character.game_1_missions && character.game_1_missions.map((mission, index)=>\r\n          <div key={index}>\r\n            <div>{index+1}: {mission.name}</div>\r\n            {mission.questions.map((question, qIndex) =>\r\n              <div key={qIndex}>\r\n                <div>Pergunta: {question.question}</div>\r\n                <div>Resposta: {getAnswer(question.id)}</div>\r\n              </div>\r\n            )}\r\n          </div>\r\n        )}\r\n      </div>\r\n      <div>\r\n        <div> JOGO 2 - Missões que participa: </div>\r\n        {character.missions && character.missions.map((mission, index)=>\r\n          <div key={index}>\r\n            <div>{index+1}: {mission.name}</div>\r\n            {mission.questions.map((question, qIndex) =>\r\n              <div key={qIndex}>\r\n                <div>Pergunta: {question.question}</div>\r\n                <div>Resposta: {getAnswer(question.id)}</div>\r\n              </div>\r\n            )}\r\n          </div>\r\n        )}\r\n        <div>Errou alguma: {character.wrongAnswer}</div>\r\n        <div>Acertou o suficiente: {character.rightAnswer}</div>\r\n        <div>Dica: {character.tip}</div>\r\n        <div>Resposta à acusação: {character.acusationAnswer}</div>\r\n        <div>Despedida: {character.endDialog}</div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Character\r\n","import React from 'react'\r\n\r\nconst Question = ({question}) => {\r\n  return(\r\n    <div style={{display: 'flex', flexDirection: 'row'}}>\r\n      <span>{question.question}</span> <span>{question.correct? 'true' : 'false'}</span>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Question\r\n","import React from 'react'\r\n\r\nimport { useSelector } from 'react-redux'\r\n\r\nimport Button from '@material-ui/core/Button'\r\nimport AddIcon from '@material-ui/icons/Add'\r\nimport RemoveIcon from '@material-ui/icons/Remove'\r\nimport DoneIcon from '@material-ui/icons/Done'\r\n\r\nimport Character from '../Character'\r\nimport Question from '../Question'\r\n\r\nconst EditMission = ({mission, onDone}) => {\r\n  const [state, setState] = React.useState(mission)\r\n\r\n  console.log(mission)\r\n\r\n  const [charList, setCharList] = React.useState(mission.missionCharacters)\r\n  const [locationList, setLocationList] = React.useState(mission.locations)\r\n  const [questionList, setQuestionList] = React.useState(mission.questions)\r\n  const characters = useSelector(state => state.characters)\r\n  const locations = useSelector(state => state.locations)\r\n  const questions = useSelector(state => state.questions)\r\n\r\n  const addToMission = (character) => () => {\r\n    setCharList([...charList, character])\r\n  }\r\n\r\n  const removeFromMission = (character) => () => {\r\n    setCharList(charList.filter( c => c.id !== character.id) )\r\n  }\r\n\r\n  const addLocationToMission = (location) => () => {\r\n    setLocationList([...locationList, location])\r\n  }\r\n\r\n  const removeLocationFromMission = (location) => () => {\r\n    setLocationList(locationList.filter( l => l.id !== location.id) )\r\n  }\r\n\r\n  const addQuestionToMission = (question) => () => {\r\n    setQuestionList([...questionList, question])\r\n  }\r\n\r\n  const removeQuestionFromMission = (question) => () => {\r\n    setQuestionList(questionList.filter(c => c.id !== question.id))\r\n  }\r\n\r\n  const onClick = () => {\r\n    let newState = {\r\n      id: state.id,\r\n      name: state.name,\r\n      description: state.description\r\n    }\r\n    newState.characters = charList.reduce((acc, character) => [...acc, character.id], [] )\r\n    newState.locations = locationList.reduce((acc, location) => [...acc, location.id], [] )\r\n    newState.questions = questionList.reduce((acc, question) => [...acc, question.id], [] )\r\n    onDone(newState)\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <div>\r\n        Nome: <input value={state.name} onChange={ e => setState({...state, name: e.target.value})} />\r\n      </div>\r\n      <div>\r\n        Descrição: <input value={state.description} onChange={ e => setState({...state, description: e.target.value})} />\r\n      </div>\r\n\r\n      <div>\r\n        <div>Personagens na missão:</div>\r\n        {charList.map((character, index) =>\r\n          <div key={index} style={{display: 'flex', flexDirection: 'row'}}>\r\n            <Button onClick={removeFromMission(character)}><RemoveIcon /></Button>\r\n            <Character character={character}/>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      <div>\r\n        <div>Personagens disponíveis</div>\r\n        {characters.items && characters.items.length > 0 && characters.items\r\n          .filter( character => !charList.find( c => c.id === character.id ) )\r\n          .map( (character, index) =>\r\n          <div key={index} style={{display: 'flex', flexDirection: 'row'}}>\r\n            <Button onClick={addToMission(character)}>\r\n              <AddIcon />\r\n            </Button>\r\n            <Character character={character}/>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      <div>\r\n        <div>Locais na missão:</div>\r\n        {locationList.map((location, index) =>\r\n          <div key={index} style={{display: 'flex', flexDirection: 'row'}}>\r\n            <Button onClick={removeLocationFromMission(location)}><RemoveIcon /></Button>\r\n            <div>{location.name}</div>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      <div>\r\n        <div>Locais disponíveis</div>\r\n        {locations.items && locations.items.length > 0 && locations.items\r\n          .filter( location => !locationList.find( l => l.id === location.id ) )\r\n          .map( (location, index) =>\r\n          <div key={index} style={{display: 'flex', flexDirection: 'row'}}>\r\n            <Button onClick={addLocationToMission(location)}>\r\n              <AddIcon />\r\n            </Button>\r\n            <div>{location.name}</div>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      <div>\r\n        <div>Questions:</div>\r\n        {questionList.map( ( question, index) =>\r\n          <div key={index} style={{display: 'flex', flexDirection: 'row'}}>\r\n            <Button onClick={removeQuestionFromMission(question)}><RemoveIcon /></Button>\r\n            <Question question={question}/>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      <div>\r\n        <div>Preset questions</div>\r\n        {questions.items && questions.items.length > 0 && questions.items\r\n          .filter( question => !questionList.find( c => c.id === question.id) )\r\n          .map( (question, index) =>\r\n          <div key={index} style={{display: 'flex', flexDirection: 'row'}}>\r\n            <Button onClick={addQuestionToMission(question)}>\r\n              <AddIcon />\r\n            </Button>\r\n            <Question question={question}/>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      <Button onClick={onClick}><DoneIcon/></Button>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default EditMission\r\n","import React from 'react'\r\nimport { Link, Redirect } from 'react-router-dom'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\n\r\nimport { apiActions } from '../../_actions'\r\n\r\nimport Button from '@material-ui/core/Button'\r\nimport DeleteIcon from '@material-ui/icons/Delete'\r\nimport EditIcon from '@material-ui/icons/Edit'\r\nimport CancelIcon from '@material-ui/icons/Cancel'\r\n\r\nimport Mission from '../Mission'\r\nimport EditMission from '../EditMission'\r\n\r\nconst Missions = () => {\r\n  const { missionsActions, game_1_missionsActions } = apiActions\r\n  const dispatch = useDispatch()\r\n  const missions = useSelector( state => state.missions)\r\n  const game1missions = useSelector( state => state.game_1_missions)\r\n  const [ createMission, setCreateMission ] = React.useState(false)\r\n  const [ edit, setEdit ] = React.useState(-1)\r\n\r\n  React.useEffect(()=> {\r\n    setEdit(-1)\r\n    setCreateMission(false)\r\n  }, [missions])\r\n\r\n  React.useEffect(() => {\r\n    dispatch(game_1_missionsActions.getAll())\r\n  }, [dispatch, game_1_missionsActions])\r\n\r\n  React.useEffect(() => {\r\n    dispatch(missionsActions.getAll())\r\n  }, [dispatch, missionsActions])\r\n\r\n  return(\r\n    <div>\r\n      <div>\r\n        <div>Missões jogo 1</div>\r\n        {game1missions.items && game1missions.items.length > 0 && game1missions.items.map((mission, index) =>\r\n          <div key={index} style={{display: 'flex', flexDirection: 'row'}}>\r\n            {edit !== index ?\r\n              <Mission key={index} mission={mission} />\r\n              : <EditMission mission={mission} onDone={(newState) => {\r\n                  setEdit(-1)\r\n                  dispatch(game_1_missionsActions.update(newState))\r\n                }} /> }\r\n\r\n            {edit !== index ?\r\n              <Button><Link to={`missions/edit/game_1_missions/${mission.id}`}><EditIcon/></Link></Button>\r\n              : <Button onClick={() => setEdit(-1) }><CancelIcon/></Button>\r\n             }\r\n\r\n            <Button onClick={() => dispatch(game_1_missionsActions.delete(mission.id))}><DeleteIcon/></Button>\r\n          </div>\r\n        )}\r\n        <Button onClick={() => setCreateMission(!createMission)}>\r\n          {createMission? 'Cancelar' : 'Criar Missão'}\r\n        </Button>\r\n        {createMission &&  <Redirect to='missions/create'/>}\r\n      </div>\r\n      <div>\r\n        <div>Missões jogo 2</div>\r\n        {missions.items && missions.items.length > 0 && missions.items.map((mission, index) =>\r\n          <div key={index} style={{display: 'flex', flexDirection: 'row'}}>\r\n            {edit !== index ?\r\n              <Mission key={index} mission={mission} />\r\n              : <EditMission mission={mission} onDone={(newState) => {\r\n                  setEdit(-1)\r\n                  dispatch(missionsActions.update(newState))\r\n                }} /> }\r\n\r\n            {edit !== index ?\r\n              <Button><Link to={`missions/edit/${mission.id}`}><EditIcon/></Link></Button>\r\n              : <Button onClick={() => setEdit(-1) }><CancelIcon/></Button>\r\n             }\r\n\r\n            <Button onClick={() => dispatch(missionsActions.delete(mission.id))}><DeleteIcon/></Button>\r\n          </div>\r\n        )}\r\n        <Button onClick={() => setCreateMission(!createMission)}>\r\n          {createMission? 'Cancelar' : 'Criar Missão'}\r\n        </Button>\r\n        {createMission &&  <Redirect to='missions/create'/>}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Missions\r\n","import React from 'react'\r\nimport Radio from '@material-ui/core/Radio'\r\nimport { useDispatch } from 'react-redux'\r\nimport { apiActions } from '../../_actions'\r\nimport { useAlert } from 'react-alert'\r\n\r\nconst CreateCharacter = () => {\r\n  const { charactersActions } = apiActions\r\n  const [name, setName] = React.useState('')\r\n  const [job, setJob] = React.useState('')\r\n  const [civilState, setCivilState] = React.useState('single')\r\n  const civilStates = ['single', 'married', 'divorced', 'widowed']\r\n  const estadosCivis = ['solteir@', 'casad@', 'divorciad@', 'viúv@']\r\n  const dispatch = useDispatch()\r\n  const alert = useAlert()\r\n\r\n  const create = () => {\r\n    console.log('called')\r\n    dispatch(charactersActions.create({name: name, job: job, civilState: civilState})).then(() => {\r\n        alert.success('Character created!')\r\n    })\r\n    .catch(error => {\r\n        alert.error(error)\r\n    })\r\n    setName('')\r\n    setJob('')\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <div>Criador de personagens:</div>\r\n      <div>Nome: <input type='text' value={name} onChange={ e => setName(e.target.value)} /> </div>\r\n      <div>Trabalho: <input type='text' value={job} onChange={ e => setJob(e.target.value)} /> </div>\r\n      <div>Estado civil:\r\n        {civilStates.map((cs, index) =>\r\n          <div key={index}>\r\n            <Radio checked={civilState === civilStates[index]} value={civilStates[index]} onChange={ e => setCivilState(e.target.value)}/>\r\n            {estadosCivis[index]}\r\n          </div>\r\n        )}\r\n      </div>\r\n      <button onClick={create}>Criar</button>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default CreateCharacter\r\n","import React from 'react'\r\nimport { useDispatch } from 'react-redux'\r\nimport { apiActions } from '../../_actions'\r\n\r\nimport Button from '@material-ui/core/Button'\r\n\r\nconst CreateLocation = () => {\r\n  const [state, setState] = React.useState({name: ''})\r\n  const dispatch = useDispatch()\r\n  const { locationsActions } = apiActions\r\n\r\n  const create = () => {\r\n    dispatch(locationsActions.create(state))\r\n    setState({name: ''})\r\n  }\r\n  return (\r\n    <div>\r\n      Nome: <input value={state.name} onChange={ e => setState({...state, name:e.target.value})} placeholder='Sala de estar' />\r\n      <Button onClick={create}>Salvar</Button>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default CreateLocation\r\n","import { React, useState } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { apiActions } from '../../_actions'\r\nimport Button from '@material-ui/core/Button'\r\nimport CssBaseline from '@material-ui/core/CssBaseline'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport Container from '@material-ui/core/Container'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { FormControlLabel, FormLabel, Radio, RadioGroup } from '@material-ui/core'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  form: {\r\n    width: '100%', // Fix IE 11 issue.\r\n    marginTop: theme.spacing(3),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n}))\r\n\r\nconst CreateQuestion = () => {\r\n    const { questionsActions }= apiActions\r\n    const dispatch = useDispatch()\r\n    const [inputs, setInputs] = useState({\r\n        question: '',\r\n        group: 0,\r\n        correct: true\r\n    })\r\n    const submitted = false\r\n    const classes = useStyles()\r\n    const creating = useSelector(state => state.authentication.registering)\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault()\r\n        console.log('inputs', inputs)\r\n        dispatch(questionsActions.create(inputs))\r\n    }\r\n\r\n    return (\r\n        <Container component=\"main\" maxWidth=\"sm\">\r\n            <CssBaseline />\r\n            <div className={classes.paper}>\r\n                <Typography component=\"h1\" variant=\"h5\">\r\n                Create Question\r\n                </Typography>\r\n                <form id=\"create-question-form\" onSubmit={handleSubmit} className={classes.form} noValidate>\r\n                    <Grid container spacing={2}>\r\n                        <Grid item xs={12}>\r\n                            <TextField\r\n                            type=\"textArea\"\r\n                            name=\"question\"\r\n                            variant=\"outlined\"\r\n                            id=\"question\"\r\n                            label=\"Question\"\r\n                            fullWidth\r\n                            required\r\n                            className={submitted && (inputs.question === \"\") ? 'danger' : ''}\r\n                            onChange={e => {setInputs(inputs => ({...inputs, question: e.target.value}))}}\r\n                            />\r\n                        </Grid>\r\n                        <Grid item xs={12} sm={6}>\r\n                            <TextField\r\n                            type=\"number\"\r\n                            variant=\"outlined\"\r\n                            fullWidth\r\n                            id=\"group\"\r\n                            label=\"Group\"\r\n                            name=\"group\"\r\n                            required\r\n                            aria-describedby=\"my-helper-text\"\r\n                            className={submitted && !inputs.group ? 'danger' : ''}\r\n                            onChange={e => {setInputs(inputs => ({...inputs,  group: parseInt(e.target.value)}))}}\r\n                            />\r\n                            <span id=\"my-helper-text\">Group is a integer that defines the which questions to show in every step. For example, if a question is group 1, it will be displayed on the first user interaction with a character.</span>\r\n                        </Grid>\r\n                        <Grid item xs={12} sm={6} justify=\"center\">\r\n                            <FormLabel component=\"legend\">Is question correct?</FormLabel>\r\n\r\n                            <RadioGroup\r\n                            aria-label=\"correct\"\r\n                            id=\"correct\"\r\n                            name=\"correct\"\r\n                            value={inputs.correct.toString()}\r\n                            required\r\n                            onChange={e => {setInputs(inputs => ({...inputs, correct: e.target.value === \"true\" ? true : false}))}}\r\n                            >\r\n                                <FormControlLabel value=\"true\" control={<Radio />} label=\"Correct\"/>\r\n                                <FormControlLabel value=\"false\" control={<Radio />} label=\"Incorrect\"/>\r\n                            </RadioGroup>\r\n                        </Grid>\r\n                    </Grid>\r\n\r\n                    <Button\r\n                    type=\"submit\"\r\n                    fullWidth\r\n                    variant=\"contained\"\r\n                    color=\"primary\"\r\n                    className={classes.submit}\r\n                    >\r\n                    {creating && <span className=\"spinner-border spinner-border-sm mr-1\"></span>}\r\n                    Create\r\n                    </Button>\r\n                </form>\r\n            </div>\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default CreateQuestion\r\n","import React from 'react'\r\nimport _ from 'lodash'\r\n\r\nconst EditMissionCharacter = ({missionCharacter, onDone, questions, cancel}) => {\r\n\r\n  const [state, setState] = React.useState({\r\n    answers: missionCharacter.answers ? [...missionCharacter.answers] : []\r\n  })\r\n\r\n  const editAnswer = (question, index) => e => {\r\n    console.log('question:', question)\r\n    let aQ = _.cloneDeep(missionCharacter.answers.find( answer => answer.question && answer.question.id === question.id))\r\n\r\n    let changedIndex = {...state.answers[index], answer: e.target.value}\r\n    if(!aQ) changedIndex.question = question.id\r\n\r\n    setState({\r\n      ...state,\r\n      answers: [\r\n        ...state.answers.slice(0, index),\r\n        changedIndex,\r\n        ...state.answers.slice(index+1)\r\n      ]\r\n    })\r\n  }\r\n  const getAnswer = (qId) => {\r\n    let a = state.answers.find( answer => answer.question && answer.question.id ? answer.question.id === qId : answer.question === qId)\r\n    console.log('a:', a)\r\n    return a ? a.answer : ''\r\n  }\r\n\r\n  return(\r\n    <div>\r\n      <div>\r\n        <div>\r\n          <div>Answers:</div>\r\n            {questions.map( (question, qIndex) =>\r\n              <div key={qIndex}>\r\n                <div>{question.question}</div>\r\n                <input type='text' value={getAnswer(question.id)}\r\n                  onChange={editAnswer(question, qIndex)} placeholder='Resposta'/>\r\n              </div>\r\n            )}  \r\n          <div>\r\n            <div>\r\n              Errou alguma opção:\r\n            </div>\r\n            <input type='text' value={missionCharacter.wrongAnswer} onChange={e => setState({...state, wrongAnswer: e.target.value})} placeholder='Errou alguma'/>\r\n          </div>\r\n          <div>\r\n            <div>\r\n              Acertou o suficiente:\r\n            </div>\r\n            <input type='text' value={missionCharacter.rightAnswer} onChange={e => setState({...state, rightAnswer: e.target.value})} placeholder='Acertou o suficiente'/>\r\n          </div>\r\n          <div>\r\n            <div>\r\n              Dica:\r\n            </div>\r\n            <input type='text' value={missionCharacter.tip} onChange={e => setState({...state, tip: e.target.value})} placeholder='Dica'/>\r\n          </div>\r\n          <div>\r\n            <div>\r\n              Resposta da acusação certa:\r\n            </div>\r\n            <input type='text' value={missionCharacter.rightAcusationAnswer} onChange={e => setState({...state, rightAcusationAnswer: e.target.value})} placeholder='Resposta à acusação'/>\r\n          </div>\r\n          <div>\r\n            <div>\r\n              Resposta da acusação errada:\r\n            </div>\r\n            <input type='text' value={missionCharacter.wrongAcusationAnswer} onChange={e => setState({...state, wrongAcusationAnswer: e.target.value})} placeholder='Resposta à acusação'/>\r\n          </div>\r\n          <div>\r\n            <div>\r\n              Despedida:\r\n            </div>\r\n            <input type='text' value={missionCharacter.endDialog} onChange={e => setState({...state, endDialog: e.target.value})} placeholder='Despedida'/>\r\n          </div>\r\n        </div>\r\n        <button onClick={onDone(state)}>Salvar</button>\r\n        <button onClick={cancel()}>Cancel</button>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\nexport default EditMissionCharacter","import React from 'react'\r\nimport _ from 'lodash'\r\n\r\nconst EditNewMissionCharacter = ({character, onDone, questions, cancel}) => {\r\n  console.log(character)\r\n\r\n  const [missionCharacter, setmissionCharacter] = React.useState({...character})\r\n\r\n  const editAnswer = (question, index) => e => {\r\n    console.log('question:', question)\r\n    let aQ = _.cloneDeep(missionCharacter.answers.find( answer => answer.question && answer.question.id === question.id))\r\n\r\n    let changedIndex = {...missionCharacter.answers[index], answer: e.target.value}\r\n    if(!aQ) changedIndex.question = question.id\r\n\r\n    setmissionCharacter({\r\n      ...missionCharacter,\r\n      answers: [\r\n        ...missionCharacter.answers.slice(0, index),\r\n        changedIndex,\r\n        ...missionCharacter.answers.slice(index+1)\r\n      ]\r\n    })\r\n  }\r\n\r\n  const getAnswer = (qId) => {\r\n    let a = missionCharacter.answers.find( answer => answer.question && answer.question.id ? answer.question.id === qId : answer.question === qId)\r\n    console.log('a:', a)\r\n    return a ? a.answer : ''\r\n  }\r\n\r\n  return(\r\n    <div>\r\n      <div>\r\n        <div>\r\n          <div>Answers:</div>\r\n            {questions.map( (question, qIndex) =>\r\n              <div key={qIndex}>\r\n                <div>{question.question}</div>\r\n                <input type='text' value={getAnswer(question.id)}\r\n                  onChange={editAnswer(question, qIndex)} placeholder='Resposta'/>\r\n              </div>\r\n            )}  \r\n          <div>\r\n            <div>\r\n              Errou alguma opção:\r\n            </div>\r\n            <input type='text' value={missionCharacter.wrongAnswer} onChange={e => setmissionCharacter({...missionCharacter, wrongAnswer: e.target.value})} placeholder='Errou alguma'/>\r\n          </div>\r\n          <div>\r\n            <div>\r\n              Acertou o suficiente:\r\n            </div>\r\n            <input type='text' value={missionCharacter.rightAnswer} onChange={e => setmissionCharacter({...missionCharacter, rightAnswer: e.target.value})} placeholder='Acertou o suficiente'/>\r\n          </div>\r\n          <div>\r\n            <div>\r\n              Dica:\r\n            </div>\r\n            <input type='text' value={missionCharacter.tip} onChange={e => setmissionCharacter({...missionCharacter, tip: e.target.value})} placeholder='Dica'/>\r\n          </div>\r\n          <div>\r\n            <div>\r\n              Resposta da acusação certa:\r\n            </div>\r\n            <input type='text' value={missionCharacter.rightAcusationAnswer} onChange={e => setmissionCharacter({...missionCharacter, rightAcusationAnswer: e.target.value})} placeholder='Resposta à acusação'/>\r\n          </div>\r\n          <div>\r\n            <div>\r\n              Resposta da acusação errada:\r\n            </div>\r\n            <input type='text' value={missionCharacter.wrongAcusationAnswer} onChange={e => setmissionCharacter({...missionCharacter, wrongAcusationAnswer: e.target.value})} placeholder='Resposta à acusação'/>\r\n          </div>\r\n          <div>\r\n            <div>\r\n              Despedida:\r\n            </div>\r\n            <input type='text' value={missionCharacter.endDialog} onChange={e => setmissionCharacter({...missionCharacter, endDialog: e.target.value})} placeholder='Despedida'/>\r\n          </div>\r\n        </div>\r\n        <button onClick={onDone(missionCharacter)}>Salvar</button>\r\n        <button onClick={cancel()}>Cancel</button>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\nexport default EditNewMissionCharacter\r\n","// eslint-disable-next-line import/no-anonymous-default-export\r\nconst missionCharacterInitialState = (character) => ({\r\n  character: character,\r\n  answers: [],\r\n  tip: '',\r\n  endDialog: '',\r\n  wrongAnswer: '',\r\n  rightAnswer: '',\r\n  wrongAcusationAnswer: '',\r\n  rightAcusationAnswer: '',\r\n  targetCharacter: false,\r\n})\r\n  \r\nexport default missionCharacterInitialState\r\n  \r\n","import React from 'react'\r\nimport { useDispatch } from 'react-redux'\r\nimport { apiActions } from '../../../_actions'\r\nimport Checkbox from '@material-ui/core/Checkbox'\r\n\r\nconst CreateGame1Data = ({data, characters}) => {\r\n\r\n  const dispatch = useDispatch()\r\n\r\n  const onCheckChange = (id, type) => e => {\r\n\r\n    let payload = {id: id, [type]: e.target.checked}\r\n    dispatch(apiActions.game_1_mission_charactersActions.update(payload))\r\n  }\r\n\r\n  return(\r\n    <div>\r\n      Dados do Game1:\r\n      {data && data.map((d, index) =>\r\n        <div>\r\n          <div>{characters.find(character => d.character === character.id).name}</div>\r\n          <div>\r\n            <Checkbox checked={d.showJob} onChange={onCheckChange(d.id, 'showJob')}/>\r\n            Show Job\r\n          </div>\r\n          <div>\r\n            <Checkbox checked={d.showCountry} label='ShowCountry' onChange={onCheckChange(d.id, 'showCountry')}/>\r\n            Show Country\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default CreateGame1Data\r\n","import React from 'react'\r\n\r\nconst Game2Data = () => {\r\n  return (\r\n    <div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Game2Data\r\n","import React from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\n\r\nimport AddIcon from '@material-ui/icons/Add'\r\nimport RemoveIcon from '@material-ui/icons/Remove'\r\nimport Button from '@material-ui/core/Button'\r\n\r\nimport CreateCharacter from '../CreateCharacter'\r\nimport CreateLocation from '../CreateLocation'\r\nimport Question from '../Question'\r\nimport CreateQuestion from '../CreateQuestion'\r\nimport EditMissionCharacter from './components/EditMissionCharacter'\r\nimport EditNewMissionCharacter from './components/EditNewMissionCharacter'\r\nimport missionCharacterInitialState from './missionCharacterInitialState'\r\n\r\n// import { useAlert } from 'react-alert'\r\n\r\nimport CreateGame1Data from './Game1Data'\r\nimport Game2Data from './Game2Data'\r\n\r\nimport { apiActions } from '../../_actions'\r\n\r\n//used for game 1 and 2 coincident data\r\nconst CreateMissionGame1 = (props) => {\r\n  const dispatch = useDispatch()\r\n  // const alert = useAlert()\r\n\r\n  //for edit\r\n  const game = props && props.match? props.match.params.game : null\r\n  const id = props && props.match ? props.match.params.id : null\r\n  const originalMission = useSelector( state => id && state[game].items.length > 0 ? state[game].items.filter(m => m.id === id)[0] : null )\r\n\r\n  const characters = useSelector( state => state.characters)\r\n  const locations = useSelector( state => state.locations)\r\n  const questions = useSelector( state => state.questions)\r\n\r\n  const [state, setState] = React.useState({\r\n    mission: {\r\n      name: '',\r\n      description: '',\r\n      missionCharacters: [],\r\n      locations: [],\r\n      questions:[]\r\n    },\r\n    charactersList: [],\r\n    charactersConfigList: [],\r\n    characterConfig: null,\r\n    newCharacterConfig: null,\r\n  })\r\n\r\n  //for edit\r\n  if(originalMission && !state.mission.id)\r\n    setState({...state, mission: {...originalMission}})\r\n\r\n  //refrashed route\r\n  React.useEffect(() => {\r\n    if(id && !originalMission)\r\n      dispatch(apiActions[game+\"Actions\"].getById(id))\r\n    if(characters.items.length === 0)\r\n      dispatch(apiActions.charactersActions.getAll())\r\n    if(locations.items.length === 0)\r\n      dispatch(apiActions.locationsActions.getAll())\r\n    if(questions.items.length === 0)\r\n      dispatch(apiActions.questionsActions.getAll())\r\n  }, [dispatch, id, originalMission, questions.items.length, locations.items.length, characters.items.length, game])\r\n\r\n  const [createCharacter, setCreateCharacter] = React.useState(false)\r\n  const [createLocation, setCreateLocation] = React.useState(false)\r\n  const [createQuestion, setCreateQuestion] = React.useState(false)\r\n\r\n  const createMission = () => {\r\n/*\r\n    let data = {...state.mission,\r\n      missionCharacters: state.mission.missionCharacters.map(missionCharacter => {\r\n        return missionCharacter.id\r\n      }),\r\n      missionCharactersCreate: [...state.charactersConfigList, ...state.charactersList]\r\n    }\r\n\r\n//  algo muito errado aqui\r\n\r\n//\r\n    state.charactersConfigList = []\r\n    state.charactersList = []\r\n\r\n    dispatch(apiActions.missionsActions.create(data))\r\n\r\n    data = {...state.mission}\r\n\r\n    let data = {...state.mission}\r\n    dispatch(apiActions[game+\"Actions\"].create(data))\r\n  */\r\n  }\r\n\r\n  const editMission = () => {\r\n    // state.mission.missionCharacters = [...state.mission.missionCharacters]\r\n    // state.charactersConfigList = []\r\n    // state.charactersList = []\r\n    let data = {...state.mission,\r\n      missionCharacters: state.mission.missionCharacters.map(missionCharacter => {\r\n        return missionCharacter.id\r\n      }),\r\n      missionCharactersCreate: [...state.charactersConfigList, ...state.charactersList]\r\n    }\r\n\r\n\r\n//  algo errado aqui\r\n//\r\n    state.charactersConfigList = []\r\n    state.charactersList = []\r\n\r\n    dispatch(apiActions.missionsActions.update(data))\r\n\r\n    // data = {...state.mission}\r\n    // dispatch(apiActions[game+\"Actions\"].update(data))\r\n\r\n    data = {...state.mission}\r\n    dispatch(apiActions[game+\"Actions\"].update(data))\r\n  }\r\n\r\n  const addToMission = (type, data) => () => {\r\n    setState({...state, mission: {...state.mission, [type]:[...state.mission[type], data]}})\r\n  }\r\n\r\n  const removeFromMission = (type, data) => () => {\r\n      setState({...state, mission: {...state.mission, [type]: state.mission[type].filter(d => d.id !== data.id)}})\r\n  }\r\n\r\n  const editCharacterConfig = (character) => () => {\r\n    setState({...state, characterConfig: character})\r\n  }\r\n\r\n  const createCharacterConfig = (character) => () => {\r\n    setState({...state, newCharacterConfig: character})\r\n  }\r\n\r\n  const cancelCharacterConfig = () => () => {\r\n    setState({...state, characterConfig: null, newCharacterConfig: null})\r\n  }\r\n\r\n  const addCharacterToList = (character) => () => {\r\n    setState({...state, charactersList: [...state.charactersList, missionCharacterInitialState(character)]})\r\n  }\r\n\r\n  const removeCharacterFromList = (character) => () => {\r\n    setState({...state, charactersList: state.charactersList.filter(d => d.character.id !== character.character.id)})\r\n  }\r\n\r\n  const removeCharacterFromConfigList = (character) => () => {\r\n    setState({...state, charactersConfigList: state.charactersList.filter(d => d.character.id !== character.character.id)})\r\n  }\r\n\r\n  const updateCharacterConfig = (character) => () => {\r\n    dispatch(apiActions.mission_charactersActions.update(character))\r\n    setState({...state, characterConfig: null})\r\n  }\r\n\r\n  const addCharacterConfig = (missionCharacter) => () => {\r\n    setState({...state, charactersConfigList: [...state.charactersConfigList, missionCharacter], charactersList: state.charactersList.filter(d => d.character.id !== missionCharacter.character.id), newCharacterConfig: null})\r\n  }\r\n\r\n  console.log(state)\r\n\r\n  return(\r\n    <div>\r\n      <div style={{\r\n          display: 'flex', flexGrow: 1,\r\n          flexShrink: 1,\r\n          flexBasis: 0,\r\n          flexDirection: 'row'}}>\r\n        <div>\r\n          <div>\r\n            <div>Nome:</div>\r\n            <div>\r\n              <input type='text' value={state.mission.name} onChange={e => setState({...state, mission: {...state.mission, name: e.target.value}})} placeholder='Missão maneira'/>\r\n            </div>\r\n          </div>\r\n\r\n          <div>Texto da missão:</div>\r\n          <textarea value={state.mission.description} onChange={e => setState({...state, mission: {...state.mission, description: e.target.value}})} />\r\n          <div>\r\n            {id ?\r\n              <Button onClick={editMission}>{'Salvar Missão'}</Button>\r\n              :<Button onClick={createMission}>{'Criar Missão'}</Button>\r\n            }\r\n          </div>\r\n\r\n          <div>\r\n            <div>Personagens na missão:</div>\r\n            {state.mission.missionCharacters.map( ( missionCharacter, index) =>\r\n              <div key={index} style={{display: 'flex', flexDirection: 'row'}}>\r\n                <Button onClick={removeFromMission('missionCharacters', missionCharacter)}><RemoveIcon /></Button>\r\n                <Button onClick={editCharacterConfig(missionCharacter)}>\r\n                  {missionCharacter.character.name}\r\n                </Button>\r\n              </div>\r\n            )}\r\n            {state.charactersConfigList.map( ( missionCharacter, index) =>\r\n              <div key={index} style={{display: 'flex', flexDirection: 'row'}}>\r\n                <Button onClick={removeCharacterFromConfigList('missionCharacters', missionCharacter)}><RemoveIcon /></Button>\r\n                <Button onClick={editCharacterConfig(missionCharacter)}>\r\n                  {missionCharacter.character.name}\r\n                </Button>\r\n              </div>\r\n            )}\r\n            {state.charactersList.map( ( character, index) =>\r\n              <div key={index} style={{display: 'flex', flexDirection: 'row'}}>\r\n                <Button onClick={removeCharacterFromList(character)}><RemoveIcon /></Button>\r\n                <Button onClick={createCharacterConfig(character)}>\r\n                  {character.character.name}\r\n                </Button>\r\n                {state.charactersList.indexOf(character) !== -1 ? <div >!\r\n                  <span>This character has no config!</span>\r\n                </div> : null}\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          <div>\r\n            <div>Locais na missão:</div>\r\n            {state.mission.locations.map((location, index) =>\r\n              <div key={index} style={{display: 'flex', flexDirection: 'row'}}>\r\n                <Button onClick={removeFromMission('locations', location)}><RemoveIcon /></Button>\r\n                <div>{location.name}</div>\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          <div>\r\n            <div>Questions:</div>\r\n            {state.mission.questions.map((question, index) =>\r\n              <div key={index} style={{display: 'flex', flexDirection: 'row'}}>\r\n                <Button onClick={removeFromMission('questions', question)}><RemoveIcon /></Button>\r\n                <Question question={question}/>\r\n              </div>\r\n            )}\r\n          </div>\r\n            {game === 'game_1_missions' &&\r\n              <CreateGame1Data data={state.mission.game_1_mission_characters} characters={state.mission.characters}\r\n                onChangeCharacter={()=>{}} onJobCheckChange={()=>{}} onCountryCheckChange={()=>{}}/>\r\n            }\r\n            {game === 'game2' &&\r\n              <Game2Data />\r\n            }\r\n        </div>\r\n\r\n        <div>\r\n          <div>\r\n            <div>Personagens disponíveis</div>\r\n            {characters.items && characters.items.length > 0 && characters.items\r\n              .filter( character => !state.mission.missionCharacters.find( c => c.character.id === character.id) && !state.charactersList.find( c => c.character.id === character.id) && !state.charactersConfigList.find( c => c.character.id === character.id))\r\n              .map( (character, index) =>\r\n              <div key={index} style={{display: 'flex', flexDirection: 'row'}}>\r\n                <Button onClick={addCharacterToList(character)}>\r\n                  <AddIcon />\r\n                </Button>\r\n                <Button onClick={editCharacterConfig(character)}>\r\n                  {character.name}\r\n                </Button>\r\n              </div>\r\n            )}\r\n            <Button onClick={() => setCreateCharacter(!createCharacter)}>\r\n              {createCharacter ? \"Cancelar\" : \"Criar personagem\"}\r\n            </Button>\r\n            {createCharacter && <CreateCharacter /> }\r\n          </div>\r\n\r\n          <div>\r\n            <div>Locais disponíveis</div>\r\n            {locations.items && locations.items.length > 0 && locations.items\r\n              .filter( location => !state.mission.locations.find( l => l.id === location.id) )\r\n              .map( (location, index) =>\r\n              <div key={index} style={{display: 'flex', flexDirection: 'row'}}>\r\n                <Button onClick={addToMission('locations', location)}>\r\n                  <AddIcon />\r\n                </Button>\r\n                <div>{location.name}</div>\r\n              </div>\r\n            )}\r\n            <Button onClick={() => setCreateLocation(!createLocation)}>\r\n            {createLocation ? \"Cancelar\" : \"Criar local\"}\r\n            </Button>\r\n            {createLocation && <CreateLocation />}\r\n          </div>\r\n\r\n          <div>\r\n            <div>Preset questions</div>\r\n            {questions.items && questions.items.length > 0 && questions.items\r\n              .filter( question => !state.mission.questions.find( c => c.id === question.id) )\r\n              .map( (question, index) =>\r\n              <div key={index} style={{display: 'flex', flexDirection: 'row'}}>\r\n                <Button onClick={addToMission('questions', question)}>\r\n                  <AddIcon />\r\n                </Button>\r\n                <Question question={question}/>\r\n              </div>\r\n            )}\r\n            <Button onClick={() => setCreateQuestion(!createQuestion)}>\r\n              {createQuestion ? \"Cancel\" : \"Create question\"}\r\n            </Button>\r\n            {createQuestion && <CreateQuestion /> }\r\n          </div>\r\n        </div>\r\n\r\n        <div>\r\n          <h5>Detalhes do personagem:</h5>\r\n          {state.characterConfig && <EditMissionCharacter missionCharacter={state.characterConfig} onDone={updateCharacterConfig} questions={state.mission.questions} cancel={cancelCharacterConfig}/>}\r\n          {state.newCharacterConfig && <EditNewMissionCharacter character={state.newCharacterConfig} onDone={addCharacterConfig} questions={state.mission.questions} cancel={cancelCharacterConfig}/>}\r\n        </div>\r\n\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default CreateMissionGame1\r\n","import React from 'react'\r\nimport _ from 'lodash'\r\n\r\nconst EditCharacter = ({character, onDone}) => {\r\n  const [state, setState] = React.useState({\r\n    name: character.name,\r\n    job: character.job ? character.job : '',\r\n    id: character.id,\r\n    answers: character.answers ? [...character.answers] : []\r\n  })\r\n\r\n  const editAnswer = (question, index) => e => {\r\n    console.log('question:', question)\r\n    let aQ = _.cloneDeep(character.answers.find( answer => answer.question && answer.question.id === question.id))\r\n\r\n    let changedIndex = {...state.answers[index], answer: e.target.value}\r\n    if(!aQ) changedIndex.question = question.id\r\n\r\n    setState({\r\n      ...state,\r\n      answers: [\r\n        ...state.answers.slice(0, index),\r\n        changedIndex,\r\n        ...state.answers.slice(index+1)\r\n      ]\r\n    })\r\n  }\r\n  const getAnswer = (qId) => {\r\n    let a = state.answers.find( answer => answer.question && answer.question.id ? answer.question.id === qId : answer.question === qId)\r\n    console.log('a:', a)\r\n    return a ? a.answer : ''\r\n  }\r\n\r\n  return(\r\n    <div>\r\n      <div>\r\n        <div>\r\n          Name:<input type='text' value={state.name} onChange={ e => setState({...state, name: e.target.value}) }/>\r\n        </div>\r\n        <div>\r\n          Job:<input type='text' value={state.job} onChange={ e => setState({...state, job: e.target.value}) } />\r\n        </div>\r\n        <div>\r\n          Country:<input type='text' value={state.country} onChange={ e => setState({...state, country: e.target.value}) } />\r\n        </div>\r\n        <div>{character.civilState}</div>\r\n        <div>\r\n          <div>JOGO 1 - Missões que participa:</div>\r\n          {character.game_1_missions.map((mission, mIndex) =>\r\n            <div key={mIndex}>\r\n              <div>{mIndex+1}: {mission.name}</div>\r\n              <div>\r\n                {mission.questions.map( (question, qIndex) =>\r\n                  <div key={qIndex}>\r\n                    <div>{question.question}</div>\r\n                    <input type='text' value={getAnswer(question.id)}\r\n                      onChange={editAnswer(question, qIndex)} placeholder='Resposta'/>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n        <div>\r\n          <div>JOGO 2 - Missões que participa:</div>\r\n          {character.missions.map((mission, mIndex) =>\r\n            <div key={mIndex}>\r\n              <div>{mIndex+1}: {mission.name}</div>\r\n              <div>\r\n                {mission.questions.map( (question, qIndex) =>\r\n                  <div key={qIndex}>\r\n                    <div>{question.question}</div>\r\n                    <input type='text' value={getAnswer(question.id)}\r\n                      onChange={editAnswer(question, qIndex)} placeholder='Resposta'/>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n          )}\r\n          <div>\r\n            <div>\r\n              Errou alguma opção:\r\n            </div>\r\n            <input type='text' value={character.wrongAnswer} onChange={e => setState({...state, wrongAnswer: e.target.value})} placeholder='Errou alguma'/>\r\n          </div>\r\n          <div>\r\n            <div>\r\n              Acertou o suficiente:\r\n            </div>\r\n            <input type='text' value={character.rightAnswer} onChange={e => setState({...state, rightAnswer: e.target.value})} placeholder='Acertou o suficiente'/>\r\n          </div>\r\n          <div>\r\n            <div>\r\n              Dica:\r\n            </div>\r\n            <input type='text' value={character.tip} onChange={e => setState({...state, tip: e.target.value})} placeholder='Dica'/>\r\n          </div>\r\n          <div>\r\n            <div>\r\n              Resposta da acusação:\r\n            </div>\r\n            <input type='text' value={character.acusationAnswer} onChange={e => setState({...state, acusationAnswer: e.target.value})} placeholder='Resposta à acusação'/>\r\n          </div>\r\n          <div>\r\n            <div>\r\n              Despedida:\r\n            </div>\r\n            <input type='text' value={character.endDialog} onChange={e => setState({...state, endDialog: e.target.value})} placeholder='Despedida'/>\r\n          </div>\r\n        </div>\r\n        <button onClick={onDone(state)}>Salvar</button>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\nexport default EditCharacter\r\n","import React from 'react'\r\n\r\nimport { useDispatch, useSelector} from 'react-redux'\r\nimport { apiActions } from '../../_actions'\r\n\r\nimport EditIcon from '@material-ui/icons/Edit'\r\nimport CancelIcon from '@material-ui/icons/Cancel'\r\nimport Button from '@material-ui/core/Button'\r\n\r\nimport Character from '../Character'\r\nimport CreateCharacter from '../CreateCharacter'\r\nimport EditCharacter from '../EditCharacter'\r\n\r\nconst Characters = ({onAdd}) => {\r\n  const { charactersActions } = apiActions\r\n  const [createCharacter, setCreateCharacter] = React.useState(false)\r\n  const [edit, setEdit] = React.useState(-1)\r\n  const dispatch = useDispatch()\r\n  const characters = useSelector( state => state.characters)\r\n\r\n  React.useEffect(()=>{\r\n      dispatch(charactersActions.getAll())\r\n  }, [dispatch, charactersActions])\r\n\r\n  React.useEffect(()=>{\r\n    setEdit(-1)\r\n  }, [characters])\r\n\r\n  return (\r\n    <div>\r\n      <div>Área de personagens</div>\r\n      <button onClick={() => setCreateCharacter(!createCharacter)}>{createCharacter? 'Cancelar' : 'Criar personagem'} </button>\r\n      { createCharacter && <CreateCharacter /> }\r\n      <div>\r\n        <div>All Characters:</div>\r\n        { characters.loading && <div>Loading...</div> }\r\n        <div>\r\n          <span>Nome</span> <span>Estado civil</span> <span>Trabalho</span>\r\n        </div>\r\n        <div>\r\n          {characters.items.map((character, index) =>\r\n            <React.Fragment key={index}>\r\n              {edit === index ?\r\n                <div>\r\n                  <EditCharacter character={character} onDone={ state => () => dispatch(charactersActions.update(state))}/>\r\n                  <Button onClick={ () => setEdit(-1) }><CancelIcon /></Button>\r\n                </div>\r\n                : <div style={{display: 'flex', flexDirection: 'row'}}>\r\n                    <Character character={character}/>\r\n                    <Button onClick={ () => setEdit(index) }><EditIcon /></Button>\r\n                  </div>\r\n              }\r\n              <br/>\r\n            </React.Fragment>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Characters\r\n","import React from 'react'\r\n\r\nimport { useDispatch, useSelector} from 'react-redux'\r\nimport { apiActions } from '../../_actions'\r\n\r\nimport Question from '../Question'\r\nimport CreateQuestion from '../CreateQuestion'\r\n\r\nimport Button from '@material-ui/core/Button'\r\nimport EditIcon from '@material-ui/icons/Edit'\r\nimport DeleteIcon from '@material-ui/icons/Delete'\r\n\r\n\r\nconst Questions = ({onAdd}) => {\r\n  const { questionsActions } = apiActions\r\n  const [createQuestion, setCreateQuestion] = React.useState(false)\r\n  const dispatch = useDispatch()\r\n  const questions = useSelector( state => state.questions)\r\n\r\n  React.useEffect(()=>{\r\n    if(questions.items.length === 0)\r\n      dispatch(questionsActions.getAll())\r\n  }, [dispatch, questionsActions, questions.items.length])\r\n\r\n  const editQuestion = (question) => () => {\r\n\r\n  }\r\n\r\n  const deleteQuestion = (question) => () => dispatch(questionsActions.delete(question.id))\r\n\r\n  return (\r\n    <div>\r\n      <div>Questions</div>\r\n      <button onClick={() => setCreateQuestion(!createQuestion)}>{createQuestion? 'Cancelar' : 'Criar pergunta'} </button>\r\n      { createQuestion && <CreateQuestion /> }\r\n      <div>\r\n        <div>All questions:</div>\r\n        <div>\r\n          <span>Question</span> <span>Correct</span>\r\n        </div>\r\n        <div>\r\n          {questions.items.map((question, index) =>\r\n            <div key={index}>\r\n              <Question question={question}/>\r\n              <Button onClick={editQuestion(question)}><EditIcon/></Button>\r\n              <Button onClick={deleteQuestion(question)}><DeleteIcon/></Button>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Questions\r\n","import React from 'react'\r\n\r\nimport { useDispatch, useSelector} from 'react-redux'\r\nimport { apiActions } from '../../_actions'\r\n\r\nimport Questionnaire from '../Questionnaire'\r\n// import CreateQuestionnaire from '../CreateQuestionnaire'\r\n\r\nimport Button from '@material-ui/core/Button'\r\nimport EditIcon from '@material-ui/icons/Edit'\r\nimport DeleteIcon from '@material-ui/icons/Delete'\r\n\r\n\r\nconst Questionnaires = ({onAdd}) => {\r\n  const { questionnairesActions } = apiActions\r\n  const dispatch = useDispatch()\r\n  const questionnaires = useSelector( state => state.questionnaires)\r\n\r\n  React.useEffect(()=>{\r\n    if(questionnaires.items.length === 0)\r\n      dispatch(questionnairesActions.getAll())\r\n  }, [dispatch, questionnairesActions, questionnaires.items.length])\r\n\r\n  const editQuestionnaire = (questionnaire) => () => {\r\n\r\n  }\r\n\r\n  const deleteQuestionnaire = (questionnaire) => () => dispatch(questionnairesActions.delete(questionnaire.id))\r\n\r\n  return (\r\n    <div>\r\n      <div>Questionnaires</div>\r\n      {/* <button onClick={() => setCreateQuestionnaire(!createQuestionnaire)}>{createQuestionnaire? 'Cancel' : 'Create Questionnaire'} </button>\r\n      { createQuestionnaire && <CreateQuestionnaire /> } */}\r\n      <div>\r\n        <div>All questionnaires:</div>\r\n        <div>\r\n          <span>Questionnaire</span>\r\n        </div>\r\n        <div>\r\n          {questionnaires.items.map((questionnaire, index) =>\r\n            <div key={index}>\r\n              <Questionnaire questionnaire={questionnaire}/>\r\n              <Button onClick={editQuestionnaire(questionnaire)}><EditIcon/></Button>\r\n              <Button onClick={deleteQuestionnaire(questionnaire)}><DeleteIcon/></Button>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Questionnaires\r\n","import React from 'react'\r\nimport { apiActions } from '../../_actions'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\n\r\nconst PlaySessions = () => {\r\n  const dispatch = useDispatch()\r\n  const playSessions = useSelector( state => state.play_sessions.items)\r\n  const { play_sessionsActions } = apiActions\r\n\r\n  React.useEffect(() => {\r\n    dispatch(play_sessionsActions.getAll())\r\n  }, [dispatch, play_sessionsActions])\r\n\r\n  return(\r\n    <div>\r\n      <div>PlaySessions:</div>\r\n      {playSessions.length > 0 && playSessions.map((playSession, index) =>\r\n        <div key={index}>\r\n          <div>User: {playSession.usersPermissionsUser.firstName} {playSession.usersPermissionsUser.lastName}</div>\r\n          <div>Missão: {playSession.mission.name}</div>\r\n          <div>\r\n          <div>PlayerActions:</div>\r\n          {playSession.player_actions.map((playerAction, index) =>\r\n            <div key={index}>TAG:{playerAction.data.tag}</div>\r\n          )}\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default PlaySessions\r\n","import React from 'react'\r\nimport './index.scss'\r\n\r\nconst Config = (props) => {\r\n  return(\r\n    <div id=\"config-dialog\">\r\n      {props.children}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Config\r\n","import React from 'react'\r\nimport Config from '../Config'\r\n\r\nconst ConfigWindow = ({onConfig, onStatistics, onLeave, onClose}) => {\r\n  return(\r\n    <Config>\r\n      <div className=\"config-option\" onClick={onConfig}>\r\n        <span lang=\"pt-br\">Configurações de jogo</span>\r\n        <div className=\"divider\"></div>\r\n        <span lang=\"en\">Game settings</span>\r\n      </div>\r\n      <div className=\"config-option\" onClick={onStatistics}>\r\n        <span lang=\"pt-br\">Estatísticas</span>\r\n        <div className=\"divider\"></div>\r\n        <span lang=\"en\">Statistics</span>\r\n      </div>\r\n      <div className=\"config-option\" onClick={onLeave}>\r\n        <span lang=\"pt-br\">Sair do jogo</span>\r\n        <div className=\"divider\"></div>\r\n        <span lang=\"en\">Leave game</span>\r\n      </div>\r\n      <div id=\"config-fechar\" onClick={onClose}>×</div>\r\n    </Config>\r\n  )\r\n}\r\n\r\nexport default ConfigWindow\r\n","import React from 'react'\r\nimport Config from '../Config'\r\nimport Button from '@material-ui/core/Button'\r\nimport VolumeMute from '@material-ui/icons/VolumeMute'\r\nimport VolumeUp from '@material-ui/icons/VolumeUp'\r\nimport Slider from '@material-ui/core/Slider'\r\nimport Checkbox from '@material-ui/core/Checkbox'\r\n\r\n\r\nconst GameConfig = (\r\n  {\r\n    onVolumeMute, onVolumeUp, volume, onVolumeChange,\r\n    fontSize, onFontSizeChange, assistMode, onAssistModeChange,\r\n    onAccessibilityLeft, onAccessibilityRight,\r\n    onBack, onClose\r\n  }) => {\r\n  return(\r\n    <Config>\r\n      <div id=\"title\">\r\n        <span lang=\"pt-br\">Configurações de jogo</span>\r\n        <div className=\"divider\"></div>\r\n        <span lang=\"en\">Game settings</span>\r\n      </div>\r\n      <table id=\"game-options\">\r\n        <tbody>\r\n          <tr>\r\n            <td>\r\n              <span lang=\"pt-br\">Volume</span>\r\n              <span lang=\"en\">Volume</span>\r\n            </td>\r\n            <td>\r\n              <Button onClick={onVolumeMute}>\r\n                <VolumeMute />\r\n              </Button>\r\n                <Slider value={volume} onChange={onVolumeChange}/>\r\n              <Button onClick={onVolumeUp}>\r\n                <VolumeUp />\r\n              </Button>\r\n            </td>\r\n          </tr>\r\n          <tr>\r\n            <td>\r\n              <span lang=\"pt-br\">Tamanho da fonte</span>\r\n              <span lang=\"en\">Font size</span>\r\n            </td>\r\n            <td id=\"tamanho-fonte\">\r\n              <span className=\"label-pequeno\">Aa</span>\r\n              <Slider value={fontSize} onChange={onFontSizeChange}/>\r\n              <span className=\"label-grande\">Aa</span>\r\n            </td>\r\n          </tr>\r\n          <tr>\r\n            <td>\r\n              <span lang=\"pt-br\">Modo assistência</span>\r\n              <span lang=\"en\">Assist mode</span>\r\n            </td>\r\n            <td>\r\n              <Checkbox checked={assistMode} onChange={onAssistModeChange}/>\r\n            </td>\r\n          </tr>\r\n          <tr>\r\n            <td>\r\n              <span lang=\"pt-br\">Acessibilidade</span>\r\n              <span lang=\"en\">Accessibility</span>\r\n            </td>\r\n            <td id=\"tipo-acessibilidade\">\r\n              <Button onClick={onAccessibilityLeft}> {'❮'} </Button>\r\n              <div>\r\n                <span lang=\"pt-br\">Nenhum</span>\r\n                <span lang=\"en\">None</span>\r\n              </div>\r\n              <Button onClick={onAccessibilityRight}> {'❯'} </Button>\r\n            </td>\r\n          </tr>\r\n          <tr>\r\n            <td id=\"voltar-cell\" colSpan=\"2\">\r\n              <Button onClick={onBack}>Voltar</Button>\r\n            </td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n      <div id=\"config-fechar\" onClick={onClose}>×</div>\r\n    </Config>\r\n  )\r\n}\r\n\r\nexport default GameConfig\r\n","import React from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { Redirect } from 'react-router-dom'\r\nimport { headerActions } from '../../_actions'\r\nimport ConfigWindow from '../../_components/ConfigWindow'\r\nimport GameConfig from '../../_components/GameConfig'\r\nimport ReactAudioPlayer from 'react-audio-player'\r\nimport config from '../../img/i-settings.svg'\r\nimport './index.scss'\r\nimport { headerConstants } from '../../_constants'\r\n\r\nconst GameContext = (props) => {\r\n  const [state, setState] = React.useState({\r\n    volume: 15,\r\n    fontSize: 12,\r\n    assistMode: false,\r\n    accessibility: 'NONE',\r\n    gameConfig: false,\r\n    back: false,\r\n    config: false,\r\n  })\r\n\r\n  const dispatch = useDispatch()\r\n  const music = useSelector(state => state.music)\r\n  let headerInfo = useSelector(state => state.header)\r\n\r\n  let { children } = props\r\n  children = {...children, props: {...props} }\r\n\r\n\tReact.useEffect(() => {\r\n\t\tdispatch(headerActions.setState(headerConstants.STATES.HIDDEN))\r\n\t\treturn () => {\r\n      dispatch(headerActions.clearAll())\r\n      dispatch(headerActions.setState(headerConstants.STATES.NORMAL))\r\n    }\r\n\t}, [dispatch])\r\n\r\n  return(\r\n    <div id=\"game-context\">\r\n      { (headerInfo.state === headerConstants.STATES.HIDDEN) &&\r\n        <div id=\"floating-config-btn\" onClick={() => setState({...state, config: true}) }>\r\n          <img src={config} alt='config' />\r\n        </div>\r\n      }\r\n      <ReactAudioPlayer\r\n\t\t\t\tsrc={music.url}\r\n\t\t\t\tautoPlay volume={state.volume/100}\r\n        loop={true}\r\n\t\t\t/>\r\n      { state.config &&\r\n        <ConfigWindow\r\n          onConfig={()=>setState({...state, config: false, gameConfig: true})}\r\n          onStatistics={()=>{}}\r\n          onLeave={()=>setState({...state, back: true})}\r\n          onClose={()=>setState({...state, config: false})}\r\n        />\r\n      }\r\n      {\r\n        state.gameConfig &&\r\n        <GameConfig\r\n          volume={state.volume}\r\n          onVolumeMute={()=> setState({...state, volume: 0})}\r\n          onVolumeUp={()=> setState({...state, volume: 100})}\r\n          onVolumeChange={(e, newValue)=> setState({...state, volume: newValue})}\r\n          fontSize={state.fontSize} onFontSizeChange={(e, newValue) => setState({...state, fontSize: newValue})}\r\n          assistMode={state.assistMode} onAssistModeChange={(e)=>setState({...state, assistMode: e.target.checked})}\r\n          onAccessibilityLeft={()=>{}} onAccessibilityRight={()=>{}}\r\n          onBack={()=>setState({...state, gameConfig: false, config: true})}\r\n          onClose={()=>setState({...state, gameConfig: false})}\r\n        />\r\n      }\r\n      {children}\r\n      { state.back && <Redirect to='/userspace' />}\r\n    </div>\r\n  )\r\n}\r\nexport default GameContext\r\n","import React from 'react'\r\nimport { useDispatch } from 'react-redux'\r\nimport Conversa from './pages/Game2/components/Conversa'\r\nimport { headerActions } from './_actions'\r\nimport { headerConstants } from './_constants'\r\n\r\nconst TestPage = () => {\r\n\tconst dispatch = useDispatch()\r\n\tReact.useEffect( () => {\r\n\t\tdispatch(headerActions.setState(headerConstants.STATES.HIDDEN))\r\n\t\treturn () => {dispatch(headerActions.setState(headerConstants.STATES.NORMAL))}\r\n\t}, [dispatch] )\r\n\t\r\n\tconst divStyle = {position:\"absolute\", top: 0, right: 0, bottom:0, left:0}\r\n\r\n\t// -------------------------------------------\r\n\t// MODIFICAR SOMENTE DAQUI PARA BAIXO\r\n\t// -------------------------------------------\r\n\r\n\r\n\r\n\treturn (\r\n\t\t<div style={divStyle}> {/* NÃO MODIFICAR ESSA LINHA */}\r\n\t\t\t<Conversa convOptions={[\r\n\t\t\t\t{question: \"Pergunta 1\", answers: [\"Resposta 1.1\", \"Resposta 1.2\"]},\r\n\t\t\t\t{question: \"Pergunta 2\", answers: [\"Resposta 2.1\"]},\r\n\t\t\t\t{question: \"Pergunta 3\", answers: [\"Resposta 3.1\"]},\r\n\t\t\t\t{question: \"Pergunta 4\", answers: [\"Resposta 4.1\"]},\r\n\t\t\t]}/>\r\n\t\t</div> /* NÃO MODIFICAR ESSA LINHA */\r\n\t)\r\n\r\n\t// -------------------------------------------\r\n\t// MODIFICAR SOMENTE ATÉ AQUI\r\n\t// -------------------------------------------\r\n}\r\n\r\nexport default TestPage\r\n","\r\nconst rootUrl = process.env.NODE_ENV === 'development'? ''\r\n              : process.env.NODE_ENV === 'production'? process.env.PUBLIC_URL\r\n              : ''\r\n\r\nexport default rootUrl\r\n","import './App.scss'\r\nimport AppHeader from './_components/AppHeader'\r\nimport Home from './pages/Home'\r\nimport Game1 from './pages/Game1'\r\nimport Game2 from './pages/Game2'\r\nimport Game3 from './pages/Game3'\r\nimport Game4 from './pages/Game4'\r\n\r\nimport {\r\n  BrowserRouter as Router,\r\n  Switch,\r\n  Route\r\n} from \"react-router-dom\"\r\n\r\nimport React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport { PrivateRoute } from './_components/PrivateRoute'\r\n// import { history } from './_helpers'\r\nimport Login from './pages/Login'\r\nimport UserSpace from './pages/UserSpace'\r\nimport UsersCRUD from './pages/UsersCRUD'\r\nimport Missions from './pages/Missions'\r\nimport CreateMission from './pages/CreateMission'\r\nimport Characters from './pages/Characters'\r\nimport Questions from './pages/Questions'\r\nimport Register from './pages/Register'\r\nimport Questionnaires from './pages/Questionnaires'\r\nimport PlaySessions from './pages/PlaySessions'\r\nimport GameContext from './pages/GameContext'\r\nimport { headerConstants } from './_constants'\r\nimport TestPage from './TestPage'\r\nimport rootUrl from './rootUrl'\r\n\r\nconst App = () => {\r\n\r\n  let palette = \"palette01\"\r\n  document.getElementsByTagName('html')[0].className = palette\r\n\r\n  let gameMode = useSelector( state => state.header.state ) !== headerConstants.STATES.NORMAL;\r\n  console.log('env:', process.env.NODE_ENV)\r\n  console.log('rootUrl:', rootUrl)\r\n  return (\r\n    <div className={ \"App\" + (gameMode? \" game-mode\" : \"\")}>\r\n      <Router basename={rootUrl}>\r\n        <AppHeader props={{isLogged: useSelector(state => state.authentication.loggedIn)}} />\r\n        <Switch>\r\n          <Route exact path={'/'} component={Home} />\r\n          <Route path={`/login`} component={Login} />\r\n          <Route path={`/register`} component={Register} />\r\n          <PrivateRoute exact path={`/game1/:id`} render={(props) => <GameContext {...props}><Game1 /></GameContext>} />\r\n          <PrivateRoute exact path={`/game2/:id`} render={(props) => <GameContext {...props}><Game2 /></GameContext>} />\r\n          <PrivateRoute exact path={`/game3/:id`} render={(props) => <GameContext {...props}><Game3 /></GameContext>} />\r\n          <PrivateRoute exact path={`/game4/:id`} render={(props) => <GameContext {...props}><Game4 /></GameContext>} />\r\n          <PrivateRoute exact path={`/test`} component={TestPage} />\r\n          <PrivateRoute exact path={`/userspace`} component={UserSpace} />\r\n          <PrivateRoute exact path={`/missions`} component={Missions} />\r\n          <PrivateRoute exact path={`/questions`} component={Questions} />\r\n          <PrivateRoute exact path={`/questionnaires`} component={Questionnaires} />\r\n          <PrivateRoute exact path={`/missions/create`} component={CreateMission} />\r\n          <PrivateRoute exact path={`/missions/edit/:game/:id`} component={CreateMission} />\r\n          <PrivateRoute exact path={`/characters`} component={Characters} />\r\n          <PrivateRoute exact path={`/users`} component={UsersCRUD} />\r\n          <PrivateRoute exact path={`/playSessions`} component={PlaySessions}/>\r\n        </Switch>\r\n      </Router>\r\n\r\n    </div>\r\n  );\r\n}\r\nexport default App;\r\n\r\n/*\r\nreturn (\r\n  <div>\r\n    {/* { alert.message &&\r\n      <div className={`alert ${alert.type}`}>{alert.message}</div>\r\n    })\r\n*/\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.scss';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport { Provider } from 'react-redux';\r\nimport {positions, Provider as AlertProvider} from 'react-alert'\r\nimport AlertTemplate from 'react-alert-template-basic'\r\nimport { store } from './_helpers'\r\n\r\nconst options = {\r\n  timeout: 5000,\r\n  position: positions.TOP_RIGHT\r\n}\r\n\r\nReactDOM.render(\r\n    <Provider store={store}>\r\n      <AlertProvider template={AlertTemplate} {...options}>\r\n        <App />\r\n      </AlertProvider>\r\n    </Provider>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}