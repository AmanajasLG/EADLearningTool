(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{102:function(e,t){},118:function(e,t,n){},119:function(e,t,n){},120:function(e,t,n){},121:function(e,t,n){},146:function(e,t,n){},148:function(e,t,n){},149:function(e,t,n){},150:function(e,t,n){},151:function(e,t,n){},152:function(e,t,n){},153:function(e,t,n){},154:function(e,t,n){},156:function(e,t,n){},158:function(e,t,n){"use strict";n.r(t);var c=n(3),i=n(1),r=n(0),s=n.n(r),a=n(14),o=n.n(a),j=(n(118),n(119),n(120),n(9)),u=(n(121),n.p+"static/media/avatar1.48f082ac.svg"),l=n.p+"static/media/i-home.fdfacf95.svg",d=n.p+"static/media/i-notification.3ced7286.svg",b=n.p+"static/media/i-settings.b457df7a.svg",O="ALERT_SUCCESS",h="ALERT_ERROR",m="ALERT_CLEAR",x="USER_REGISTER_REQUEST",f="USER_REGISTER_SUCCESS",p="USER_REGISTER_FAILURE",g="USER_LOGIN_REQUEST",v="USER_LOGIN_SUCCESS",E="USER_LOGIN_FAILURE",S="USER_UPDATE_REQUEST",C="USER_UPDATE_SUCCESS",y="USER_UPDATE_FAILURE",A="USERS_LOGOUT",T="USER_GETALL_REQUEST",w="USER_GETALL_SUCCESS",_="USER_GETALL_FAILURE",k="USER_GETBYID_REQUEST",L="USER_GETBYID_SUCCESS",U="USER_GETBYID_FAILURE",R="USER_DELETE_REQUEST",N="USER_DELETE_SUCCESS",q="USER_DELETE_FAILURE",D="CHANGE_TITLE",I="CHANGE_SUBTITLE",P="CHANGE_ALL",G="CLEAR_TITLE",Q="CLEAR_SUBTITLE",B=["CHARACTERS","MISSIONS","LOCATIONS","QUESTIONS","BACKGROUND_ASSETS","QUESTIONNAIRES","QUESTIONNAIRE_QUESTIONS","GAMES","PLAY_SESSIONS","PLAYER_ACTIONS"],M={};B.map((function(e){return M[e]={UPDATE_REQUEST:"".concat(t=e,"_UPDATE_REQUEST"),UPDATE_SUCCESS:"".concat(t,"_UPDATE_SUCCESS"),UPDATE_FAILURE:"".concat(t,"_UPDATE_FAILURE"),CREATE_REQUEST:"".concat(t,"_CREATE_REQUEST"),CREATE_SUCCESS:"".concat(t,"_CREATE_SUCCESS"),CREATE_FAILURE:"".concat(t,"_CREATE_FAILURE"),GETALL_REQUEST:"".concat(t,"_GETALL_REQUEST"),GETALL_SUCCESS:"".concat(t,"_GETALL_SUCCESS"),GETALL_FAILURE:"".concat(t,"_GETALL_FAILURE"),GETBYID_REQUEST:"".concat(t,"_GETBYID_REQUEST"),GETBYID_SUCCESS:"".concat(t,"_GETBYID_SUCCESS"),GETBYID_FAILURE:"".concat(t,"_GETBYID_FAILURE"),DELETE_REQUEST:"".concat(t,"_DELETE_REQUEST"),DELETE_SUCCESS:"".concat(t,"_DELETE_SUCCESS"),DELETE_FAILURE:"".concat(t,"_DELETE_FAILURE")};var t}));var F={success:function(e){return{type:O,message:e}},error:function(e){return{type:h,message:e}},clear:function(){return{type:m}}};var H=n(92),Y=(Object(H.a)(),n(36)),V=n(93),W=n(94),J=JSON.parse(localStorage.getItem("user")),z=J?{loggedIn:!0,user:J}:{};var X=n(4);var K=n(12),Z={loading:!1,items:[]},$={};Object.keys(M).map((function(e){var t;$[e.toLowerCase()]=(t=M[e],function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case t.CREATE_REQUEST:return Object(c.a)(Object(c.a)({},e),{},{error:null,creating:!0});case t.CREATE_SUCCESS:return Object(c.a)(Object(c.a)({},e),{},{creating:!1,items:[].concat(Object(K.a)(e.items),[n.data])});case t.CREATE_FAILURE:return{error:n.error};case t.UPDATE_REQUEST:return Object(c.a)(Object(c.a)({},e),{},{error:null,updating:!0});case t.UPDATE_SUCCESS:var i=e.items.findIndex((function(e){return e.id===n.data.id})),r=[].concat(Object(K.a)(e.items.slice(0,i)),[n.data],Object(K.a)(e.items.slice(i+1)));return Object(c.a)(Object(c.a)({},e),{},{updating:!1,items:r});case t.UPDATE_FAILURE:return Object(c.a)(Object(c.a)({},e),{},{updating:!1});case t.GETALL_REQUEST:return Object(c.a)(Object(c.a)({},e),{},{error:null,loading:!0});case t.GETALL_SUCCESS:return Object(c.a)(Object(c.a)({},e),{},{loading:!1,items:n.data});case t.GETALL_FAILURE:return Object(c.a)(Object(c.a)({},e),{},{loading:!1,error:n.error});case t.GETBYID_REQUEST:return Object(c.a)(Object(c.a)({},e),{},{error:null,loading:!0});case t.GETBYID_SUCCESS:return Object(c.a)(Object(c.a)({},e),{},{items:[].concat(Object(K.a)(e.items),[n.data]),loading:!1});case t.GETBYID_FAILURE:return Object(c.a)(Object(c.a)({},e),{},{loading:!1,error:n.error});case t.DELETE_REQUEST:return Object(c.a)(Object(c.a)({},e),{},{items:e.items.map((function(e){return e.id===n.id?Object(c.a)(Object(c.a)({},e),{},{deleting:!0}):e}))});case t.DELETE_SUCCESS:return Object(c.a)(Object(c.a)({},e),{},{items:e.items.filter((function(e){return e.id!==n.id}))});case t.DELETE_FAILURE:return Object(c.a)(Object(c.a)({},e),{},{items:e.items.map((function(e){if(e.id===n.id){e.deleting;var t=Object(X.a)(e,["deleting"]);return Object(c.a)(Object(c.a)({},t),{},{deleteError:n.error})}return e}))});default:return e}})}));var ee=Object(c.a)({},$),te=Object(Y.c)(Object(c.a)({authentication:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return{loggingIn:!0,user:t.user};case v:return{loggedIn:!0,user:t.user};case E:return{logginFailure:!0};case A:return{};default:return e}},registration:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x:return{registering:!0};case f:case p:return{};default:return e}},users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S:return{updating:!0};case C:case y:return{};case T:return Object(c.a)(Object(c.a)({},e),{},{loading:!0});case w:return Object(c.a)(Object(c.a)({},e),{},{items:t.users});case _:return Object(c.a)(Object(c.a)({},e),{},{error:t.error});case k:return Object(c.a)(Object(c.a)({},e),{},{loading:!0});case L:return Object(c.a)(Object(c.a)({},e),{},{items:t.user});case U:return Object(c.a)(Object(c.a)({},e),{},{error:t.error});case R:return Object(c.a)(Object(c.a)({},e),{},{items:e.items.map((function(e){return e.id===t.id?Object(c.a)(Object(c.a)({},e),{},{deleting:!0}):e}))});case N:return Object(c.a)(Object(c.a)({},e),{},{items:e.items.filter((function(e){return e.id!==t.id}))});case q:return Object(c.a)(Object(c.a)({},e),{},{items:e.items.map((function(e){if(e.id===t.id){e.deleting;var n=Object(X.a)(e,["deleting"]);return Object(c.a)(Object(c.a)({},n),{},{deleteError:t.error})}return e}))});default:return e}},alert:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return{type:"alert-succes",message:t.message};case h:return{type:"alert-danger",message:t.message};case m:return{};default:return e}},header:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{title:"",subtitle:""},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case D:return Object(c.a)(Object(c.a)({},e),{},{title:t.newTitle});case I:return Object(c.a)(Object(c.a)({},e),{},{subtitle:t.newSubtitle});case P:return Object(c.a)(Object(c.a)({},e),{},{title:t.newTitle,subtitle:t.newSubtitle});case G:return Object(c.a)(Object(c.a)({},e),{},{title:""});case Q:return Object(c.a)(Object(c.a)({},e),{},{subtitle:""});case Q:return Object(c.a)(Object(c.a)({},e),{},{title:"",subtitle:""});default:return e}}},ee)),ne=Object(W.createLogger)(),ce=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Y.d,ie=Object(Y.e)(te,ce(Object(Y.a)(V.a,ne)));function re(){var e=JSON.parse(localStorage.getItem("user"));return e&&e.jwt?{Authorization:"Bearer "+e.jwt}:{}}var se=n(97),ae=n.n(se).a.create({baseURL:"https://learning-tool-backend.herokuapp.com"}),oe=function(e){return function(t){return ae({method:"get",url:"/".concat(e.toLowerCase().replace("_","-"),"/").concat(t),headers:re()}).then(de)}},je=function(e){return function(t){return ae({method:"post",url:"/".concat(e.toLowerCase().replace("_","-")),headers:re(),data:t}).then(de)}},ue=function(e){return function(t){return ae({method:"put",url:"/".concat(e.toLowerCase().replace("_","-"),"/").concat(t.id),headers:Object(c.a)(Object(c.a)({},re()),{},{"Content-Type":"application/json"}),data:t}).then(de)}},le=function(e){return function(t){return ae({method:"delete",url:"/".concat(e.toLowerCase().replace("_","-"),"/").concat(t),headers:re()}).then(de)}};function de(e){return 200!==e.status?(401===e.status&&window.location.reload(),Promise.reject(e.statusText)):e.data}var be={};B.map((function(e){return be["".concat(e)]={getAll:(t=e,function(){return ae({method:"get",url:"/".concat(t.toLowerCase().replace("_","-")),headers:re()}).then(de)}),getById:oe(e),create:je(e),update:ue(e),delete:le(e)};var t}));var Oe=ae,he={login:function(e,t){return Oe({method:"post",url:"/auth/local",headers:{"Content-Type":"application/json"},data:{identifier:e,password:t}}).then((function(e){return e.data.jwt&&localStorage.setItem("user",JSON.stringify(e.data)),e.data}))},logout:me,register:function(e){return console.log(e),Oe({method:"post",url:"/auth/local/register",headers:{"Content-Type":"application/json"},data:e}).then((function(e){return e.data.jwt&&localStorage.setItem("user",JSON.stringify(e.data)),e.data}))},getAll:function(){return Oe({method:"get",url:"/users",headers:re()}).then(xe)},getById:function(e){return Oe({method:"get",url:"/users/".concat(e),headers:re()}).then(xe)},update:function(e){return Oe({method:"put",url:"/users/".concat(e.id),headers:Object(c.a)(Object(c.a)({},re()),{},{"Content-Type":"application/json"}),data:e}).then((function(e){console.log(e)}))},delete:function(e){return Oe({method:"delete",url:"/users/".concat(e),headers:re()}).then(xe)}};function me(){localStorage.removeItem("user")}function xe(e){return console.log(e),200!==e.status?(401===e.status&&(me(),window.location.reload()),Promise.reject(e.statusText)):e.data}var fe={getAll:function(){return function(e){e({type:T}),he.getAll().then((function(t){return e(function(e){return{type:w,users:e}}(t))}),(function(t){return e(function(e){return{type:_,error:e}}(t.toString()))}))}},getById:function(e){return function(t){t({type:k}),he.getById(e).then((function(e){return t(function(e){return{type:L,user:e}}(e))}),(function(e){return t(function(e){return{type:U,error:e}}(e.toString()))}))}},delete:function(e){return function(t){t(function(e){return{type:R,id:e}}(e)),he.delete(e).then((function(n){return t(function(e){return{type:N,id:e}}(e))}),(function(n){return t(function(e,t){return{type:q,id:e,error:t}}(e,n.toString()))}))}}},pe=function(e,t){return function(n){return n({type:g,user:{email:e}}),he.login(e,t).then((function(e){return n(function(e){return{type:v,user:e}}(e)),Promise.resolve()}),(function(e){return n(function(e){return{type:E,error:e}}(e.toString())),n(F.error(e.toString())),Promise.reject(e.response.data.data[0].messages[0].message)}))}},ge=function(e){return function(t){return t(function(e){return{type:x,user:e}}(e)),he.register(e).then((function(e){return t(function(e){return{type:f,user:e}}()),Promise.resolve()}),(function(e){return t(function(e){return{type:p,error:e}}(e.toString())),t(F.error(e.toString())),Promise.reject(e.response.data.data[0].messages[0].message)}))}};var ve=function(e){return{type:D,newTitle:e}},Ee=n(15);function Se(e,t,n,c,i){return function(r){return r(t(i)),e(i).then((function(e){return r(n(e)),Promise.resolve()}),(function(e){r(c(e.toString()));try{return Promise.reject(e.response.data.data[0].messages[0].message)}catch(t){console.log(e)}}))}}var Ce=function(e,t){return function(){return Se(e.getAll,(function(){return{type:M[t].GETALL_REQUEST}}),(function(e){return{type:M[t].GETALL_SUCCESS,data:e}}),(function(e){return{type:M[t].GETALL_FAILURE,error:e}}))}},ye=function(e,t){return function(n){return Se(e.getById,(function(){return{type:M[t].GETBYID_REQUEST}}),(function(e){return{type:M[t].GETBYID_SUCCESS,data:e}}),(function(e){return{type:M[t].GETBYID_FAILURE,error:e}}),n)}},Ae=function(e,t){return function(n){return Se(e.create,(function(e){return Object(Ee.a)({type:M[t].CREATE_REQUEST},t,e)}),(function(e){return{type:M[t].CREATE_SUCCESS,data:e}}),(function(e){return{type:M[t].CREATE_FAILURE,error:e}}),n)}},Te=function(e,t){return function(n){return Se(e.update,(function(e){return Object(Ee.a)({type:M[t].UPDATE_REQUEST},t,e)}),(function(e){return{type:M[t].UPDATE_SUCCESS,data:e}}),(function(e){return{type:M[t].UPDATE_FAILURE,error:e}}),n)}},we=function(e,t){return function(n){return Se(e.delete,(function(e){return Object(Ee.a)({type:M[t].DELETE_REQUEST},t,e)}),(function(e){return{type:M[t].DELETE_SUCCESS,id:e.id}}),(function(e){return{type:M[t].DELETE_FAILURE,error:e}}),n)}},_e={};Object.keys(M).map((function(e){_e["".concat(e.toLowerCase(),"Actions")]={getAll:Ce(be[e],e),getById:ye(be[e],e),create:Ae(be[e],e),update:Te(be[e],e),delete:we(be[e],e)}}));var ke=n(6),Le=n(25),Ue=function(e){e.pageInfo;var t=Object(ke.c)((function(e){return e.header})),n=s.a.useState({view:"default"}),r=Object(j.a)(n,2),a=r[0],o=r[1],O=Object(ke.b)(),h=Object(Le.c)();return Object(i.jsxs)("header",{id:"app-header",children:[Object(i.jsxs)("div",{className:"group-btns",id:"left-btns",children:[Object(i.jsx)("div",{className:"header-btn",id:"home-btn",onClick:function(){o(Object(c.a)(Object(c.a)({},a),{},{view:"home"})),h.show("Vc achou onde faz para voltar ao in\xedcio! \n\n Ending 1/15")},children:Object(i.jsx)("img",{src:l,alt:"Home"})}),Object(i.jsx)("div",{className:"header-btn",id:"notif-btn",onClick:function(){o(Object(c.a)(Object(c.a)({},a),{},{view:"notif"})),h.show("Vc achou onde faz para ver suas notifica\xe7\xf5es! \n\n Ending 7/15")},children:Object(i.jsx)("img",{src:d,alt:"Notifications"})}),Object(i.jsx)("div",{className:"header-btn",id:"settings-btn",onClick:function(){o(Object(c.a)(Object(c.a)({},a),{},{view:"settings"})),h.show("Vc achou onde faz para abrir suas configura\xe7\xf5es! \n\n Ending 8/15")},children:Object(i.jsx)("img",{src:b,alt:"Settings"})})]}),Object(i.jsxs)("div",{id:"pageTitle",children:[Object(i.jsx)("div",{id:"mainTitle",children:t.title}),Object(i.jsx)("div",{id:"subTitle",children:t.subtitle})]}),Object(i.jsxs)("div",{className:"group-btns",id:"right-btns",children:[Object(i.jsx)("div",{id:"profilePic",onClick:function(){o(Object(c.a)(Object(c.a)({},a),{},{view:"profile"})),h.show("Vc achou onde faz para abrir o seu perfil! \n\n Ending 3/15")},children:Object(i.jsx)("img",{src:u,alt:"Profile Picture"})}),Object(i.jsx)("div",{className:"header-btn",id:"logout-btn",onClick:function(){O((function(e){he.logout(),e({type:A})}))},children:"Logout"})]})]})},Re=n(203),Ne=n(204),qe=function(e){e.pageInfo;return Object(i.jsx)(Re.a,{id:"app-header",children:Object(i.jsxs)(Ne.a,{className:"mr-auto",children:[Object(i.jsx)(Ne.a.Link,{href:"/",children:"Home"}),Object(i.jsx)(Ne.a.Link,{href:"/",children:"Sobre"})]})})},De=function(e){var t=e.props;return t.isLogged?Object(i.jsx)(Ue,{pageInfo:t}):Object(i.jsx)(qe,{})},Ie=n(17),Pe=(n(146),function(){return Object(i.jsxs)("div",{id:"message",children:["Aqui \xe9 a home. Nada muito interessante aqui. Se quiser fazer login:",Object(i.jsx)(Ie.b,{to:"/login",class:"btn-normal",children:"Login"})]})}),Ge=n(19),Qe=(n(148),n.p+"static/media/pic-people-talk.3d385cc4.svg"),Be=function(e){var t=e.name,n=e.description,c=e.onClose,r=e.onStart,s=e.onBack;return Object(i.jsxs)("div",{className:"main-wrapper bg-shape-bottom",children:[Object(i.jsxs)("div",{children:[Object(i.jsx)("img",{className:"classImage",src:Qe}),Object(i.jsx)("h1",{className:"margin-half-top type-l type-display type-center",children:t}),Object(i.jsx)("h1",{className:"type-m type-display type-center subtitle",children:"Em ingl\xeas"}),Object(i.jsx)("h2",{className:"margin-half-top type-s type-center",children:n}),Object(i.jsx)("h2",{className:"type-s type-center subdescription",children:"Em ingl\xeas"})]}),Object(i.jsxs)("div",{id:"btns",children:[s&&Object(i.jsx)("button",{className:"btn btn-center",id:"btn-back",onClick:s,children:"Voltar"}),r&&Object(i.jsx)("button",{className:"btn btn-center",id:"btn-start",onClick:r,children:"Iniciar"}),c&&Object(i.jsx)("button",{className:"btn btn-center",id:"btn-close",onClick:c,children:"Fechar"})]})]})},Me=(n(149),function(e){var t=e.gameEndState;return Object(i.jsx)("div",{children:t?t.split("\n").map((function(e){return Object(i.jsx)("p",{children:e})})):null})}),Fe=(n(150),function(e){var t=e.buttonList,n=e.onChange,c=s.a.useState(0),r=Object(j.a)(c,2),a=r[0],o=r[1];return Object(i.jsx)("div",{id:"RoomSelect",children:t.map((function(e,t){return Object(i.jsx)("button",{className:"RoomBtn",id:a===t?"selected":"",onClick:(c=t,function(){n(c),o(c)}),children:e},t);var c}))})}),He=(n(151),function(e){var t=e.children,n=e.roomData,c=(e.setCurrentChar,s.a.useState({x:null,y:null})),r=Object(j.a)(c,2),a=(r[0],r[1]),o=n.location.backgroundAssets.length>0?n.location.backgroundAssets[0].image[0].url:"";return Object(i.jsx)("div",{id:"sala",style:{backgroundImage:'url("'.concat(o,'")')},onDragOver:function(e){return a({x:e.clientX,y:e.clientY})},children:t})}),Ye=(n(152),n.p,function(e){var t=e.character,n=e.dragPosition,c=(e.position,e.onClick),r=s.a.useState({x:0,y:0}),a=Object(j.a)(r,2),o=a[0],u=a[1],l=s.a.useState(!1),d=Object(j.a)(l,2),b=d[0],O=d[1];return s.a.useEffect((function(){b&&u(n)}),[n]),Object(i.jsx)("div",{className:"CharDiv",style:o.x?{position:"absolute",left:o.x,top:o.y}:null,draggable:!0,onDragStart:function(){return O(!0)},onDragEnd:function(){return O(!1)},children:Object(i.jsxs)("div",{onClick:c,children:[Object(i.jsx)("img",{src:t.characterAssets.length>0?t.characterAssets[0].image[0].url:"",alt:"".concat(t.name)}),Object(i.jsx)("div",{children:t.name})]})})}),Ve=n(191),We=(n(88),{back:!1,scene:"INIT",endGame:!1,currentLocationIndex:0,locations:[],dialogHistory:[],currentChar:null,showContacts:!1}),Je={name:"Stub mission",description:"Local stub mission for tests",locations:[{name:"sala",backgroundAssets:[]},{name:"cozinha",backgroundAssets:[]},{name:"biblioteca",backgroundAssets:[]},{name:"escrit\xf3rio",backgroundAssets:[]}],characters:[{name:"Joao",characterAssets:[],answers:[{answer:"oi",question:{question:"oi?"}},{answer:"turusim",question:{question:"turubem?"}},{answer:"ki\xe9sim",question:{question:"cum\xe9ki\xe9?"}}]},{name:"Pedro",characterAssets:[],answers:[{question:{question:"oi?"}}]},{name:"Marta",characterAssets:[],answers:[{question:{question:"oi?"}}]},{name:"Suzane",characterAssets:[],answers:[{question:{question:"oi?"}}]},{name:"Maria",characterAssets:[],answers:[{question:{question:"oi?"}}]},{name:"Pablo",characterAssets:[],answers:[{question:{question:"oi?"}}]}]},ze=(n(153),function(e){var t=s.a.useState(We),n=Object(j.a)(t,2),r=n[0],a=n[1],o=_e.missionsActions,u=_e.play_sessionsActions,l=_e.player_actionsActions,d=e.match.params.id,b=Object(ke.b)(),O=Object(ke.c)((function(e){return e.missions.loading})),h=Object(ke.c)((function(e){return e.missions.error})),m=Object(ke.c)((function(t){return t.missions.items.find((function(t){return t.id===e.match.params.id}))})),x=Object(ke.c)((function(e){return e.authentication.user.user.id})),f=Object(ke.c)((function(e){return e.play_sessions?e.play_sessions.items[0]:{}}));if(s.a.useEffect((function(){if(r.tracking&&f){var e=function(e){b(l.create({play_session:f.id,data:{tag:e.target.nodeName,alt:e.target.alt,className:e.target.className,innerHTML:e.target.innerHTML.includes("<div")?null:e.target.innerHTML,clickTime:new Date}}))};return document.addEventListener("mousedown",e),a(Object(c.a)(Object(c.a)({},r),{},{currentPlaySession:f,getClickedObject:e})),function(){document.removeEventListener("mousedown",e)}}}),[f]),s.a.useEffect((function(){d&&!m&&b(o.getById(e.match.params.id))}),[]),h&&(h=null,m=Je),m&&0===r.locations.length){var p=m.locations.map((function(e){return{location:e,characters:Object(K.a)(m.characters)}}));a(Object(c.a)(Object(c.a)({},r),{},{locations:p}))}var g=function(e){r.tracking&&b(u.create({usersPermissionsUser:x,mission:m.id})),a(Object(c.a)(Object(c.a)({},r),{},{scene:"ROOM"}))},v=function(e){return function(){a(Object(c.a)(Object(c.a)({},r),{},{dialogHistory:[].concat(Object(K.a)(r.dialogHistory),[e.question.question,e.answer])}))}},E=function(){a(Object(c.a)(Object(c.a)({},r),{},{showContacts:!0}))},S=function(){a(Object(c.a)(Object(c.a)({},r),{},{showContacts:!1}))},C=function(){};return Object(i.jsx)("div",{children:O?Object(i.jsx)("div",{children:"Loading..."}):h?Object(i.jsx)("div",{children:h}):m&&Object(i.jsx)("div",{children:Object(i.jsxs)("div",{style:{width:"100%",height:"100%"},children:[Object(i.jsxs)("div",{id:"input-tracker",children:["TrackInput: ",Object(i.jsx)("input",{type:"checkbox",onChange:function(e){a(Object(c.a)(Object(c.a)({},r),{},{tracking:e.target.checked}))}})]}),function(){switch(r.scene){case"INIT":return Object(i.jsx)(Be,{name:m.name,description:m.description,onStart:g,onBack:function(){return a(Object(c.a)(Object(c.a)({},r),{},{back:!0}))}});case"ROOM":return Object(i.jsxs)("div",{children:[Object(i.jsx)(Fe,{buttonList:m.locations.map((function(e){return e.name})),onChange:function(e){a(Object(c.a)(Object(c.a)({},r),{},{currentLocationIndex:e})),b(ve(r.locations[e].name))}}),Object(i.jsx)(He,{roomData:r.locations[r.currentLocationIndex],children:r.locations[r.currentLocationIndex].characters.map((function(e,t){return Object(i.jsx)(Ye,{character:e,setCurrentChar:function(e){return function(){return a(Object(c.a)(Object(c.a)({},r),{},{currentChar:e}))}}},t)}))}),r.currentChar&&Object(i.jsxs)("div",{id:"conversa",className:"DialogPopUp",children:[Object(i.jsx)(Ve.a,{onClick:function(){return a(Object(c.a)(Object(c.a)({},r),{},{currentChar:null,dialogHistory:[]}))},children:"X"}),Object(i.jsxs)("div",{className:"CharacterPortrait",style:{width:100},children:[Object(i.jsx)("img",{src:r.currentChar.characterAssets.length>0?r.currentChar.characterAssets[1].image[0].url:"",alt:"portrait"}),Object(i.jsx)("img",{src:r.currentChar.characterAssets.length>0?r.currentChar.characterAssets[2].image[0].url:"",alt:"portrait"})]}),Object(i.jsx)("div",{className:"DialogHistory",children:r.dialogHistory.map((function(e,t){return Object(i.jsx)("div",{children:e},t)}))}),Object(i.jsx)("div",{className:"Menu",children:r.currentChar.answers.map((function(e,t){return Object(i.jsx)(Ve.a,{onClick:v(e),children:e.question.question},t)}))})]}),r.showContacts&&Object(i.jsxs)("div",{id:"contacts",children:[Object(i.jsx)("div",{id:"btn-fechar",onClick:S,children:Object(i.jsx)("span",{children:"\xd7"})}),Object(i.jsxs)("div",{id:"fullPhone",children:[Object(i.jsx)("p",{children:"Lista de contatos"}),Object(i.jsx)("div",{id:"lista-contatos",children:Object(i.jsxs)("div",{id:"add-contato",className:"contato",children:[Object(i.jsxs)("div",{className:"contact-profile-pic",children:[Object(i.jsx)("div",{}),Object(i.jsx)("span",{children:"+"})]}),Object(i.jsxs)("div",{className:"contact-info",children:[Object(i.jsxs)("div",{className:"name",children:[Object(i.jsx)("p",{children:"Nome"}),Object(i.jsx)("input",{type:"text",name:"nome",placeholder:"Nome do contato"})]}),Object(i.jsxs)("div",{className:"profession",children:[Object(i.jsx)("p",{children:"Profiss\xe3o"}),Object(i.jsxs)("select",{name:"profissao",children:[Object(i.jsx)("option",{value:"",children:"-- Profiss\xe3o --"}),Object(i.jsx)("option",{value:"Cebelereiro",children:"Cabelereiro"}),Object(i.jsx)("option",{value:"Pintor",children:"Pintor"}),Object(i.jsx)("option",{value:"Professor",children:"Professor"})]})]}),Object(i.jsxs)("div",{className:"nationality",children:[Object(i.jsx)("p",{children:"Nacionalidade"}),Object(i.jsxs)("select",{name:"Nacionalidade",children:[Object(i.jsx)("option",{value:"",children:"-- Nacionalidade --"}),Object(i.jsx)("option",{value:"Brasileira",children:"Brasileira"}),Object(i.jsx)("option",{value:"Americana",children:"Americana"}),Object(i.jsx)("option",{value:"Japonesa",children:"Japonesa"}),Object(i.jsx)("option",{value:"Finlandesa",children:"Finlandesa"})]})]})]}),Object(i.jsx)("div",{id:"btn-add-contato",onClick:C,children:"Adicionar contato"})]})})]}),Object(i.jsx)("div",{id:"btn-terminei",children:"Terminei!"})]}),!r.showContacts&&Object(i.jsx)("div",{id:"phone",onClick:E,children:Object(i.jsx)("p",{children:"Agenda de contatos"})})]})}}(),!r.gameEndState&&Object(i.jsx)("div",{}),r.endGame?Object(i.jsx)(Me,{gameEndState:r.gameEndState}):null,r.tries>0?Object(i.jsxs)("div",{children:[r.tries," tentativa",r.tries>1?"s":"","!"]}):null,r.back&&Object(i.jsx)(Ge.a,{to:"/userspace"})]})})})}),Xe={tutorialStep:0,scene:"INIT",currentRoom:0,isOnDialog:!1,endGame:!1,found:!1,locations:[],tips:[],acusation:!1,tries:0,validQuestions:[],dialogHistory:[],dialogStep:0,totalDialogSteps:2,questionsByStep:2,currentChar:null,questions:[],targetName:"Leila",correct:0,ncorrect:0,correctMinimum:2,gameEndState:null,score:0,startedTimestamp:new Date(Date.now()),elapsedTime:null,back:!1,spokenCharacters:[]},Ke=n.p+"static/media/lampada_apagada.3f2311d7.svg",Ze=n.p+"static/media/lampada_acesa.aeef7b84.svg",$e=function(e){var t=s.a.useState(Xe),n=Object(j.a)(t,2),r=n[0],a=n[1],o=e.match.params.id,u=Object(ke.b)(),l=Object(ke.c)((function(e){return e.missions.error})),d=Object(ke.c)((function(t){return t.missions.items.find((function(t){return t.id===e.match.params.id}))})),b=Object(ke.c)((function(e){return e.missions.loading})),O=Object(ke.c)((function(e){return e.authentication.user.user.id})),h=Object(ke.c)((function(e){return e.play_sessions?e.play_sessions.items[0]:{}})),m=_e.missionsActions,x=_e.play_sessionsActions,f=_e.player_actionsActions,p=d.characters.filter((function(e){return e.tip})).length;if(s.a.useEffect((function(){o&&!d&&u(m.getById(e.match.params.id))}),[]),s.a.useEffect((function(){if(r.tracking&&h){var e=function(e){u(f.create({play_session:h.id,data:{tag:e.target.nodeName,alt:e.target.alt,className:e.target.className,innerHTML:e.target.innerHTML.includes("<div")?null:e.target.innerHTML,clickTime:new Date}}))};return document.addEventListener("mousedown",e),a(Object(c.a)(Object(c.a)({},r),{},{currentPlaySession:h,getClickedObject:e})),function(){document.removeEventListener("mousedown",e)}}}),[h]),d&&0===r.locations.length){for(var g=d.characters.slice(0),v=d.locations.map((function(e){return{location:e,characters:[]}}));g.length>0;){for(var E=Math.floor(100*Math.random())%v.length,S=Math.floor(Math.random(0,g.length)),C=Object(K.a)(g[S].answers),y=C.filter((function(e){return e.question.correct})),A=C.filter((function(e){return!e.question.correct})),T=[];T.length<4;){var w=T.length%2===0?y:A,_=Math.floor(Math.random(0,w.length));T.push(w[_]),w.splice(_,1)}if(Math.floor(Math.random(0,1)<.5)){var k=T[0];T[0]=T[1],T[1]=k}if(Math.floor(Math.random(0,1)>.5)){var L=T[2];T[2]=T[3],T[3]=L}console.log("selectedQuestions:",T),v[E].characters=[].concat(Object(K.a)(v[E].characters),[Object(c.a)(Object(c.a)({},g[S]),{},{selectedQuestions:T})]),g.splice(S,1)}a(Object(c.a)(Object(c.a)({},r),{},{locations:v}))}var U=function(e){return function(){return a(Object(c.a)(Object(c.a)({},r),{},{currentChar:e}))}},R=function(e){r.tracking&&u(x.create({usersPermissionsUser:O,mission:d.id})),a(Object(c.a)(Object(c.a)({},r),{},{tutorialStep:r.tutorialStep+1,scene:"ROOM"}))},N=function(e){return function(){return a(Object(c.a)(Object(c.a)({},r),{},{currentChar:e,answers:r.locations[r.currentRoom].characters.find((function(t){return t.id===e.id})).selectedQuestions.slice(r.questionsByStep*r.dialogStep,r.questionsByStep*(r.dialogStep+1))}))}},q={dialogHistory:[],dialogStep:0,correct:0},D=function(){return a(Object(c.a)(Object(c.a)({},r),{},{currentChar:null},q))},I=function(e){return function(){if(e.refresh)a(Object(c.a)(Object(c.a)(Object(c.a)({},r),q),{},{answers:r.currentChar.answers.slice(0,r.questionsByStep)}));else if(e.close)D();else{e.question.correct&&(r.validQuestions.hasOwnProperty(e.question.question)?r.validQuestions[e.question.question]++:r.validQuestions[e.question.question]=0);var t={dialogHistory:[].concat(Object(K.a)(r.dialogHistory),[e.question.question,e.answer]),dialogStep:r.dialogStep+1,correct:r.correct+(e.question.correct?1:0)};t.dialogStep!==r.totalDialogSteps?t.answers=r.locations[r.currentRoom].characters.find((function(e){return e.id===r.currentChar.id})).selectedQuestions.slice(r.questionsByStep*t.dialogStep,r.questionsByStep*(t.dialogStep+1)):t.correct<r.correctMinimum?(t.dialogHistory.push("N\xe3o estou entendendo. Quer come\xe7ar de novo?"),t.answers=[{refresh:!0,question:{question:"Sim"}},{close:!0,question:{question:"N\xe3o"}}]):t.answers=[{answer:r.currentChar.tip,question:{question:"Estou procurando algu\xe9m. Voc\xea pode me ajudar?"}}],a(Object(c.a)(Object(c.a)({},r),t))}}};return console.log(r),r.dialogHistory.length&&-1===r.spokenCharacters.indexOf(r.currentChar.name)&&r.spokenCharacters.push(r.currentChar.name),Object(i.jsx)("div",{children:b?Object(i.jsx)("div",{children:"Loading..."}):l?Object(i.jsx)("div",{children:l}):d&&Object(i.jsx)("div",{children:Object(i.jsxs)("div",{style:{width:"100%",height:"100%"},children:[Object(i.jsxs)("div",{id:"input-tracker",children:["TrackInput: ",Object(i.jsx)("input",{type:"checkbox",onChange:function(e){a(Object(c.a)(Object(c.a)({},r),{},{tracking:e.target.checked}))}})]}),function(){switch(r.scene){case"INIT":return Object(i.jsx)(Be,{name:d.name,description:d.description,onStart:R,onBack:function(){return a(Object(c.a)(Object(c.a)({},r),{},{back:!0}))}});case"ROOM":return Object(i.jsxs)("div",{children:[Object(i.jsx)(Fe,{buttonList:d.locations.map((function(e){return e.name})),onChange:function(e){a(Object(c.a)(Object(c.a)({},r),{},{currentRoom:e})),u(ve(r.locations[e].location.name))}}),Object(i.jsx)(He,{roomData:r.locations[r.currentRoom],setCurrentChar:U,children:r.locations[r.currentRoom].characters.map((function(e,t){return Object(i.jsx)(Ye,{character:e,onClick:N(e)},t)}))}),r.currentChar&&Object(i.jsxs)("div",{id:"conversa",className:"DialogPopUp",children:[Object(i.jsxs)("div",{id:"acusar",onClick:function(){return a(Object(c.a)(Object(c.a)({},r),{},{acusation:!0}))},children:[Object(i.jsx)("img",{id:"lamp-apagada",src:Ke}),Object(i.jsx)("img",{id:"lamp-acesa",src:Ze}),Object(i.jsx)("span",{children:"\xc9 voc\xea!"})]}),Object(i.jsx)("div",{id:"fechar",onClick:D,children:Object(i.jsx)("span",{children:"\xd7"})}),Object(i.jsxs)("div",{id:"CharacterPortrait",children:[Object(i.jsx)("img",{src:r.currentChar.characterAssets.length>0?r.currentChar.characterAssets[1].image[0].url:"",alt:"portrait"}),Object(i.jsx)("img",{src:r.currentChar.characterAssets.length>0?r.currentChar.characterAssets[2].image[0].url:"",alt:"portrait"})]}),Object(i.jsxs)("div",{id:"dialogos",children:[Object(i.jsxs)("div",{id:"DialogHistory",children:[Object(i.jsx)("span",{}),r.dialogHistory.map((function(e,t){return Object(i.jsx)("div",{className:"mensagem"+t%2,children:e},t)}))]}),Object(i.jsx)("div",{id:"Menu",children:r.answers.map((function(e,t){return Object(i.jsx)(Ve.a,{onClick:I(e),children:e.question.question},t)}))})]})]})]});case"ENDGAME":return r.gameEndState?Object(i.jsxs)("div",{children:[Object(i.jsxs)("div",{className:"Title",children:[Object(i.jsx)("div",{children:d.name}),Object(i.jsx)("div",{children:d.nameTranslate})]}),0===r.tries?Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{children:"Muito bem! Voc\xea encontrou a pessoa na primeira tentativa. Vai arrasar na sua nova carreira!"}),Object(i.jsx)("div",{children:"Well done! You have found the right person on your first try. You're going to rock on your new career!"})]}):Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{children:"Voc\xea encontrou a pessoa certa! Parab\xe9ns!"}),Object(i.jsx)("div",{children:"You have found the right person! Congrats!"})]}),Object(i.jsxs)("div",{className:"ClueCounter",children:[Object(i.jsxs)("div",{children:[Object(i.jsx)("span",{children:r.tips.length}),"/",Object(i.jsx)("span",{children:p})]}),Object(i.jsx)("div",{children:"clues"})]}),Object(i.jsxs)("div",{children:[Object(i.jsxs)("div",{children:["After talking to ",r.spokenCharacters.length," people, you found ",r.tips.length," of the ",p," existing clues."]}),Object(i.jsxs)("div",{children:["Regarding the questions you asked, ",Object.keys(r.validQuestions).length," of them were useful."]})]}),Object(i.jsx)(Ve.a,{onClick:function(){return a(Object(c.a)({},Xe))},children:"Tentar novamente"}),Object(i.jsx)(Ve.a,{onClick:function(){return a(Object(c.a)(Object(c.a)({},r),{},{back:!0}))},children:"Sair do jogo"})]}):Object(i.jsxs)("div",{children:[Object(i.jsxs)("div",{className:"Title",children:[Object(i.jsx)("div",{children:d.name}),Object(i.jsx)("div",{children:d.nameTranslate})]}),Object(i.jsxs)("div",{className:"Mensagem",children:[Object(i.jsx)("div",{children:"Voc\xea ainda n\xe3o encontrou a pessoa certa. Como voc\xea vai entender o que deve ser feito em seu novo trabalho? Voc\xea ainda precisa descobrir algumas dicas."}),Object(i.jsx)("div",{children:"You still haven't found the right person. How will you understand what has to be done in your new job? There are clues yet to be found."})]}),Object(i.jsxs)("div",{className:"ClueCounter",children:[Object(i.jsxs)("div",{children:[Object(i.jsx)("span",{children:r.tips.length}),"/",Object(i.jsx)("span",{children:p})]}),Object(i.jsx)("div",{children:"clues"})]}),Object(i.jsxs)("div",{children:[Object(i.jsxs)("div",{children:["After talking to ",r.spokenCharacters.length," people, you found ",r.tips.length," of the ",p," existing clues."]}),Object(i.jsxs)("div",{children:["Regarding the questions you asked, ",Object.keys(r.validQuestions).length," of them were useful. Try asking more relevant questions!"]})]}),Object(i.jsx)(Ve.a,{onClick:function(){return a(Object(c.a)({},Xe))},children:"Tentar novamente"}),Object(i.jsx)(Ve.a,{onClick:function(){return a(Object(c.a)(Object(c.a)({},r),{},{back:!0}))},children:"Sair do jogo"})]})}}(),r.acusation&&Object(i.jsxs)("div",{children:["Tem certeza?",Object(i.jsx)(Ve.a,{onClick:function(){r.tries<3&&r.currentChar.name!==r.targetName?(r.tries++,a(Object(c.a)(Object(c.a)({},r),{},{acusation:!1}))):a(Object(c.a)(Object(c.a)({},r),{},{acusation:!1,scene:"ENDGAME",gameEndState:r.currentChar.name===r.targetName}))},children:"Yes"}),Object(i.jsx)(Ve.a,{onClick:function(){return a(Object(c.a)(Object(c.a)({},r),{},{acusation:!1}))},children:"No"})]}),r.back&&Object(i.jsx)(Ge.a,{to:"/userspace"})]})})})};function et(e){var t=e.component,n=(e.roles,Object(X.a)(e,["component","roles"]));return Object(i.jsx)(Ge.b,Object(c.a)(Object(c.a)({},n),{},{render:function(e){return localStorage.getItem("user")?Object(i.jsx)(t,Object(c.a)({},e)):Object(i.jsx)(Ge.a,{to:{pathname:"/login",state:{from:e.location}}})}}))}n(154);var tt=n(207),nt=n(197),ct=n(202),it=n(198),rt=n(196),st=n(62),at=n.n(st),ot=n(159),jt=n(195),ut=Object(jt.a)((function(e){return{root:{height:"100vh"},image:{backgroundImage:"url(https://source.unsplash.com/random)",backgroundRepeat:"no-repeat",backgroundColor:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center"},paper:{margin:e.spacing(8,4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}})),lt=function(){var e=Object(r.useState)({email:"",password:""}),t=Object(j.a)(e,2),n=t[0],s=t[1],a=Object(r.useState)(!1),o=Object(j.a)(a,2),u=o[0],l=o[1],d=n.email,b=n.password,O=Object(ke.c)((function(e){return e.authentication.loggingIn})),h=Object(ke.c)((function(e){return e.authentication.user})),m=Object(ke.b)(),x=ut(),f=Object(Le.c)();function p(e){var t=e.target,n=t.name,i=t.value;s((function(e){return Object(c.a)(Object(c.a)({},e),{},Object(Ee.a)({},n,i))}))}return Object(i.jsxs)(rt.a,{container:!0,component:"main",className:x.root,children:[h&&h.user?Object(i.jsx)(Ge.a,{to:"/userspace"}):null,Object(i.jsx)(nt.a,{}),Object(i.jsx)(rt.a,{item:!0,xs:!1,sm:4,md:7,className:x.image}),Object(i.jsx)(rt.a,{item:!0,xs:12,sm:8,md:5,component:it.a,elevation:6,square:!0,children:Object(i.jsxs)("div",{className:x.paper,children:[Object(i.jsx)(tt.a,{className:x.avatar,children:Object(i.jsx)(at.a,{})}),Object(i.jsx)(ot.a,{component:"h1",variant:"h5",children:"Sign in"}),Object(i.jsxs)("form",{onSubmit:function(e){e.preventDefault(),l(!0),d&&b?m(pe(d,b)).catch((function(){f.error("Email and/or password invalid! Please, check your inputs and try again!")})):f.error("Email and/or password missing! Please, check your inputs and try again!")},className:x.form,noValidate:!0,children:[Object(i.jsx)(ct.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"E-mail",name:"email",autoComplete:"email",autoFocus:!0,className:"form-control"+(u&&!d?" is-invalid":""),onChange:p}),Object(i.jsx)(ct.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Senha",type:"password",id:"password",autoComplete:"current-password",className:"form-control"+(u&&!b?" is-invalid":""),onChange:p}),Object(i.jsxs)(Ve.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:x.submit,children:[O&&Object(i.jsx)("span",{className:"spinner-border spinner-border-sm mr-1"}),"Sign in"]}),Object(i.jsx)(rt.a,{container:!0,justify:"flex-end",children:Object(i.jsx)(rt.a,{item:!0,children:Object(i.jsx)(Ie.b,{to:"/register",variant:"body2",children:"Don't have an account yet? Sign up!"})})})]})]})})]})},dt=(n(156),function(){s.a.useEffect((function(){n(c.getAll())}),[]);var e=Object(ke.c)((function(e){return e.authentication.user.user})),t=Object(ke.c)((function(e){return e.missions})),n=Object(ke.b)(),c=_e.missionsActions;return Object(i.jsxs)("div",{id:"userspace",children:[Object(i.jsxs)("p",{children:["Oi ",e.username,"!"]}),Object(i.jsxs)("div",{id:"area-criacao",children:["\xc1rea de cria\xe7\xe3o",Object(i.jsx)("div",{children:Object(i.jsx)(Ie.b,{to:"/missions",children:"Ver Miss\xf5es"})}),Object(i.jsx)("div",{children:Object(i.jsx)(Ie.b,{to:"/characters",children:"Personagens"})}),Object(i.jsx)("div",{children:Object(i.jsx)(Ie.b,{to:"/questions",children:"Perguntas"})}),Object(i.jsx)("div",{children:Object(i.jsx)(Ie.b,{to:"/questionnaires",children:"Questionnaires"})}),Object(i.jsx)("div",{children:Object(i.jsx)(Ie.b,{to:"/playSessions",children:"Ver PlaySessions"})})]}),Object(i.jsxs)("div",{class:"jogos",children:[Object(i.jsx)("p",{children:"Jogar jogo 1"}),Object(i.jsx)("p",{children:"Miss\xf5es:"}),Object(i.jsx)(Ie.b,{to:"/game1/0",children:"Stub"}),Object(i.jsx)("div",{id:"missoes",children:t.loading?Object(i.jsx)("div",{id:"loading",children:"Loading..."}):t&&t.items.map((function(e,t){return Object(i.jsx)("div",{class:"missao",children:Object(i.jsxs)(Ie.b,{to:"/game1/".concat(e.id),children:[Object(i.jsx)("div",{id:"imagem"}),Object(i.jsxs)("div",{id:"card-text-wrapper",children:[Object(i.jsx)("div",{id:"nome-missao",children:e.name}),Object(i.jsx)("div",{id:"descricao",children:"Descri\xe7\xe3o"}),Object(i.jsx)("div",{id:"recompensas",children:"Recompensas"})]})]})},t)}))})]}),Object(i.jsxs)("div",{class:"jogos",children:[Object(i.jsx)("p",{children:"Jogar jogo 2"}),Object(i.jsx)("p",{children:"Miss\xf5es:"}),Object(i.jsx)(Ie.b,{to:"/game2/0",children:"Stub"}),Object(i.jsx)("div",{id:"missoes",children:t.loading?Object(i.jsx)("div",{children:"Loading..."}):t&&t.items.map((function(e,t){return Object(i.jsx)("div",{class:"missao",children:Object(i.jsxs)(Ie.b,{to:"/game2/".concat(e.id),children:[Object(i.jsx)("div",{id:"imagem"}),Object(i.jsxs)("div",{id:"card-text-wrapper",children:[Object(i.jsx)("div",{id:"nome-missao",children:e.name}),Object(i.jsx)("div",{id:"descricao",children:"Descri\xe7\xe3o"}),Object(i.jsx)("div",{id:"recompensas",children:"Recompensas"})]})]})},t)}))})]})]})}),bt=n(200),Ot=Object(jt.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}})),ht=function(){var e=Ot(),t=Object(Le.c)(),n=Object(r.useState)({email:"",password:"",username:"",firstName:"",lastName:""}),s=Object(j.a)(n,2),a=s[0],o=s[1],u=Object(r.useState)(!1),l=Object(j.a)(u,2),d=l[0],b=l[1],O=Object(ke.c)((function(e){return e.authentication.registering})),h=Object(ke.b)();function m(e){var t=e.target,n=t.name,i=t.value;o((function(e){return Object(c.a)(Object(c.a)({},e),{},Object(Ee.a)({},n,i))}))}return Object(i.jsxs)(bt.a,{component:"main",maxWidth:"xs",children:[Object(i.jsx)(nt.a,{}),Object(i.jsxs)("div",{className:e.paper,children:[Object(i.jsx)(tt.a,{className:e.avatar,children:Object(i.jsx)(at.a,{})}),Object(i.jsx)(ot.a,{component:"h1",variant:"h5",children:"Register"}),Object(i.jsxs)("form",{onSubmit:function(e){e.preventDefault(),b(!0),a.email&&a.password&&a.username?h(ge(a)).then((function(){t.success("User registred!"),setTimeout((function(){window.location.href="/userspace"}),3e3)})).catch((function(e){t.error(e)})):t.error("Required fields missing! Please, check your inputs and try again!")},className:e.form,noValidate:!0,children:[Object(i.jsxs)(rt.a,{container:!0,spacing:2,children:[Object(i.jsx)(rt.a,{item:!0,xs:12,sm:6,children:Object(i.jsx)(ct.a,{autoComplete:"fname",name:"firstName",variant:"outlined",fullWidth:!0,id:"firstName",label:"First Name",autoFocus:!0,onChange:m})}),Object(i.jsx)(rt.a,{item:!0,xs:12,sm:6,children:Object(i.jsx)(ct.a,{variant:"outlined",fullWidth:!0,id:"lastName",label:"Last Name",name:"lastName",autoComplete:"lname",onChange:m})}),Object(i.jsx)(rt.a,{item:!0,xs:12,children:Object(i.jsx)(ct.a,{variant:"outlined",required:!0,fullWidth:!0,id:"username",label:"Username",name:"username",autoComplete:"username",className:d&&!a.username?"danger":"",onChange:m})}),Object(i.jsx)(rt.a,{item:!0,xs:12,children:Object(i.jsx)(ct.a,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",className:d&&!a.email?"danger":"",onChange:m})}),Object(i.jsx)(rt.a,{item:!0,xs:12,children:Object(i.jsx)(ct.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",className:d&&!a.password?"danger":"",onChange:m})})]}),Object(i.jsxs)(Ve.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit,children:[O&&Object(i.jsx)("span",{className:"spinner-border spinner-border-sm mr-1"}),"Sign Up"]}),Object(i.jsx)(rt.a,{container:!0,justify:"flex-end",children:Object(i.jsx)(rt.a,{item:!0,children:Object(i.jsx)(Ie.b,{to:"/login",variant:"body2",children:"Already have an account? Sign in!"})})})]})]})]})},mt=function(e){var t=e.user;return Object(i.jsxs)("div",{children:["Username: ",t.username,"Email: ",t.email,"Provider: ",t.provider,"Confirmed: ",Object(i.jsx)("input",{type:"checkbox",checked:t.confirmed}),"Blocked: ",Object(i.jsx)("input",{type:"checkbox",checked:t.blocked})]})},xt=function(){var e=Object(ke.b)(),t=Object(ke.c)((function(e){return e.users}));return s.a.useEffect((function(){e(fe.getAll())}),[]),console.log("users:",t),Object(i.jsxs)("div",{children:[Object(i.jsxs)("div",{children:["Create User:",Object(i.jsx)(ht,{})]}),Object(i.jsxs)("div",{children:["All Users:",t&&t.items?t.items.map((function(t,n){return Object(i.jsxs)("div",{children:[Object(i.jsx)(mt,{user:t}),Object(i.jsx)("button",{onClick:function(){},children:"UPDATE USER"}),Object(i.jsx)("button",{onClick:function(){return e(fe.delete(t.id))},children:"DELETE USER"})]},n)})):null]})]})},ft=n(44),pt=n.n(ft),gt=n(31),vt=n.n(gt),Et=n(64),St=n.n(Et),Ct=function(e){var t=e.mission;return Object(i.jsxs)("div",{children:[Object(i.jsxs)("div",{children:["Nome: ",t.name]}),Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{children:"Descri\xe7\xe3o:"}),Object(i.jsx)("div",{children:t.description})]})]})},yt=n(40),At=n.n(yt),Tt=n(39),wt=n.n(Tt),_t=function(e){var t=e.character,n=function(e){var n=t.answers.find((function(t){return t.question&&t.question.id===e}));return n?n.answer:""};return Object(i.jsxs)("div",{style:{borderStyle:"groove",borderRadius:5},children:[Object(i.jsxs)("div",{style:{borderStyle:"groove",borderRadius:5},children:[Object(i.jsxs)("div",{children:["Name: ",t.name]}),Object(i.jsxs)("div",{children:[t.characterAssets&&t.characterAssets.length>0?t.characterAssets.map((function(e,n){return Object(i.jsx)("div",{children:Object(i.jsx)("img",{src:"".concat(t.characterAssets[n].image[0].url),alt:e.name})},n)})):"nenhum",t.characterAssets&&Object(i.jsxs)("div",{children:["Layers: ",t.characterAssets.length]})]}),Object(i.jsxs)("div",{children:["Job: ",t.job]}),Object(i.jsxs)("div",{children:["Civil state: ",t.civilState]})]}),Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{children:" Miss\xf5es que participa: "}),t.missions&&t.missions.map((function(e,t){return Object(i.jsxs)("div",{children:[Object(i.jsxs)("div",{children:[t+1,": ",e.name]}),e.questions.map((function(e,t){return Object(i.jsxs)("div",{children:[Object(i.jsxs)("div",{children:["Pergunta: ",e.question]}),Object(i.jsxs)("div",{children:["Resposta: ",n(e.id)]})]},t)}))]},t)})),Object(i.jsxs)("div",{children:["Errou alguma: ",t.wrongAnswer]}),Object(i.jsxs)("div",{children:["Acertou o suficiente: ",t.rightAnswer]}),Object(i.jsxs)("div",{children:["Dica: ",t.tip]}),Object(i.jsxs)("div",{children:["Resposta \xe0 acusa\xe7\xe3o: ",t.acusationAnswer]}),Object(i.jsxs)("div",{children:["Despedida: ",t.endDialog]})]})]})},kt=n(205),Lt=function(){var e=_e.charactersActions,t=s.a.useState(""),n=Object(j.a)(t,2),c=n[0],r=n[1],a=s.a.useState(""),o=Object(j.a)(a,2),u=o[0],l=o[1],d=s.a.useState("single"),b=Object(j.a)(d,2),O=b[0],h=b[1],m=["single","married","divorced","widowed"],x=["solteir@","casad@","divorciad@","vi\xfav@"],f=Object(ke.b)(),p=Object(Le.c)();return Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{children:"Criador de personagens:"}),Object(i.jsxs)("div",{children:["Nome: ",Object(i.jsx)("input",{type:"text",value:c,onChange:function(e){return r(e.target.value)}})," "]}),Object(i.jsxs)("div",{children:["Trabalho: ",Object(i.jsx)("input",{type:"text",value:u,onChange:function(e){return l(e.target.value)}})," "]}),Object(i.jsxs)("div",{children:["Estado civil:",m.map((function(e,t){return Object(i.jsxs)("div",{children:[Object(i.jsx)(kt.a,{checked:O===m[t],value:m[t],onChange:function(e){return h(e.target.value)}}),x[t]]},t)}))]}),Object(i.jsx)("button",{onClick:function(){console.log("called"),f(e.create({name:c,job:u,civilState:O})).then((function(){p.success("Character created!")})).catch((function(e){p.error(e)})),r(""),l("")},children:"Criar"})]})},Ut=function(){var e=s.a.useState({name:""}),t=Object(j.a)(e,2),n=t[0],r=t[1],a=Object(ke.b)(),o=_e.locationsActions;return Object(i.jsxs)("div",{children:["Nome: ",Object(i.jsx)("input",{value:n.name,onChange:function(e){return r(Object(c.a)(Object(c.a)({},n),{},{name:e.target.value}))},placeholder:"Sala de estar"}),Object(i.jsx)(Ve.a,{onClick:function(){a(o.create(n)),r({name:""})},children:"Salvar"})]})},Rt=function(e){var t=e.question;return console.log(t),Object(i.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[Object(i.jsx)("span",{children:t.question})," ",Object(i.jsx)("span",{children:t.correct.toString()})]})},Nt=n(199),qt=n(206),Dt=n(201),It=Object(jt.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}})),Pt=function(){var e=_e.questionsActions,t=Object(ke.b)(),n=Object(r.useState)({question:"",group:0,correct:!0}),s=Object(j.a)(n,2),a=s[0],o=s[1],u=Object(r.useState)(!1),l=Object(j.a)(u,2),d=l[0],b=(l[1],It()),O=(Object(Le.c)(),Object(ke.c)((function(e){return e.authentication.registering})));return Object(i.jsxs)(bt.a,{component:"main",maxWidth:"sm",children:[Object(i.jsx)(nt.a,{}),Object(i.jsxs)("div",{className:b.paper,children:[Object(i.jsx)(ot.a,{component:"h1",variant:"h5",children:"Create Question"}),Object(i.jsxs)("form",{id:"create-question-form",onSubmit:function(n){n.preventDefault(),console.log("inputs",a),t(e.create(a))},className:b.form,noValidate:!0,children:[Object(i.jsxs)(rt.a,{container:!0,spacing:2,children:[Object(i.jsx)(rt.a,{item:!0,xs:12,children:Object(i.jsx)(ct.a,{type:"textArea",name:"question",variant:"outlined",id:"question",label:"Question",fullWidth:!0,required:!0,className:d&&""===a.question?"danger":"",onChange:function(e){o((function(t){return Object(c.a)(Object(c.a)({},t),{},{question:e.target.value})}))}})}),Object(i.jsxs)(rt.a,{item:!0,xs:12,sm:6,children:[Object(i.jsx)(ct.a,{type:"number",variant:"outlined",fullWidth:!0,id:"group",label:"Group",name:"group",required:!0,"aria-describedby":"my-helper-text",className:d&&!a.group?"danger":"",onChange:function(e){o((function(t){return Object(c.a)(Object(c.a)({},t),{},{group:parseInt(e.target.value)})}))}}),Object(i.jsx)("span",{id:"my-helper-text",children:"Group is a integer that defines the which questions to show in every step. For example, if a question is group 1, it will be displayed on the first user interaction with a character."})]}),Object(i.jsxs)(rt.a,{item:!0,xs:12,sm:6,justify:"center",children:[Object(i.jsx)(Nt.a,{component:"legend",children:"Is question correct?"}),Object(i.jsxs)(qt.a,{"aria-label":"correct",id:"correct",name:"correct",value:a.correct.toString(),required:!0,onChange:function(e){o((function(t){return Object(c.a)(Object(c.a)({},t),{},{correct:"true"===e.target.value})}))},children:[Object(i.jsx)(Dt.a,{value:"true",control:Object(i.jsx)(kt.a,{}),label:"Correct"}),Object(i.jsx)(Dt.a,{value:"false",control:Object(i.jsx)(kt.a,{}),label:"Incorrect"})]})]})]}),Object(i.jsxs)(Ve.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:b.submit,children:[O&&Object(i.jsx)("span",{className:"spinner-border spinner-border-sm mr-1"}),"Create"]})]})]})]})},Gt=function(e){var t=Object(ke.b)(),n=e&&e.match?e.match.params.id:null,r=Object(ke.c)((function(e){return n&&e.missions.items.length>0?e.missions.items.filter((function(e){return e.id===n}))[0]:null})),a=Object(ke.c)((function(e){return e.characters})),o=Object(ke.c)((function(e){return e.locations})),u=Object(ke.c)((function(e){return e.questions})),l=s.a.useState({mission:{name:"",description:"",characters:[],locations:[],questions:[]},characterDetails:null}),d=Object(j.a)(l,2),b=d[0],O=d[1];r&&!b.mission.id&&O(Object(c.a)(Object(c.a)({},b),{},{mission:Object(c.a)({},r)})),s.a.useEffect((function(){n&&!r&&t(_e.missionsActions.getById(n)),0===a.items.length&&t(_e.charactersActions.getAll()),0===o.items.length&&t(_e.locationsActions.getAll()),0===u.items.length&&t(_e.questionsActions.getAll())}),[]);var h=s.a.useState(!1),m=Object(j.a)(h,2),x=m[0],f=m[1],p=s.a.useState(!1),g=Object(j.a)(p,2),v=g[0],E=g[1],S=s.a.useState(!1),C=Object(j.a)(S,2),y=C[0],A=C[1],T=function(e,t){return function(){O(Object(c.a)(Object(c.a)({},b),{},{mission:Object(c.a)(Object(c.a)({},b.mission),{},Object(Ee.a)({},e,[].concat(Object(K.a)(b.mission[e]),[t])))}))}},w=function(e,t){return function(){O(Object(c.a)(Object(c.a)({},b),{},{mission:Object(c.a)(Object(c.a)({},b.mission),{},Object(Ee.a)({},e,b.mission[e].filter((function(e){return e.id!==t.id}))))}))}},_=function(e){return function(){O(Object(c.a)(Object(c.a)({},b),{},{characterDetails:e}))}};return Object(i.jsx)("div",{children:Object(i.jsxs)("div",{style:{display:"flex",flexGrow:1,flexShrink:1,flexBasis:0,flexDirection:"row"},children:[Object(i.jsxs)("div",{children:[Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{children:"Nome:"}),Object(i.jsx)("div",{children:Object(i.jsx)("input",{type:"text",value:b.mission.name,onChange:function(e){return O(Object(c.a)(Object(c.a)({},b),{},{mission:Object(c.a)(Object(c.a)({},b.mission),{},{name:e.target.value})}))},placeholder:"Miss\xe3o maneira"})})]}),Object(i.jsx)("div",{children:"Texto da miss\xe3o:"}),Object(i.jsx)("textarea",{value:b.mission.description,onChange:function(e){return O(Object(c.a)(Object(c.a)({},b),{},{mission:Object(c.a)(Object(c.a)({},b.mission),{},{description:e.target.value})}))}}),Object(i.jsx)("div",{children:n?Object(i.jsx)(Ve.a,{onClick:function(){var e=Object(c.a)({},b.mission);t(_e.missionsActions.update(e))},children:"Salvar Miss\xe3o"}):Object(i.jsx)(Ve.a,{onClick:function(){var e=Object(c.a)({},b.mission);t(_e.missionsActions.create(e))},children:"Criar Miss\xe3o"})}),Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{children:"Personagens na miss\xe3o:"}),b.mission.characters.map((function(e,t){return Object(i.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[Object(i.jsx)(Ve.a,{onClick:w("characters",e),children:Object(i.jsx)(wt.a,{})}),Object(i.jsx)(Ve.a,{onClick:_(e),children:e.name})]},t)}))]}),Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{children:"Locais na miss\xe3o:"}),b.mission.locations.map((function(e,t){return Object(i.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[Object(i.jsx)(Ve.a,{onClick:w("locations",e),children:Object(i.jsx)(wt.a,{})}),Object(i.jsx)("div",{children:e.name})]},t)}))]}),Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{children:"Questions:"}),b.mission.questions.map((function(e,t){return Object(i.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[Object(i.jsx)(Ve.a,{onClick:w("questions",e),children:Object(i.jsx)(wt.a,{})}),Object(i.jsx)(Rt,{question:e})]},t)}))]})]}),Object(i.jsxs)("div",{children:[Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{children:"Personagens dispon\xedveis"}),a.items&&a.items.length>0&&a.items.filter((function(e){return!b.mission.characters.find((function(t){return t.id===e.id}))})).map((function(e,t){return Object(i.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[Object(i.jsx)(Ve.a,{onClick:T("characters",e),children:Object(i.jsx)(At.a,{})}),Object(i.jsx)(Ve.a,{onClick:_(e),children:e.name})]},t)})),Object(i.jsx)(Ve.a,{onClick:function(){return f(!x)},children:x?"Cancelar":"Criar personagem"}),x&&Object(i.jsx)(Lt,{})]}),Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{children:"Locais dispon\xedveis"}),o.items&&o.items.length>0&&o.items.filter((function(e){return!b.mission.locations.find((function(t){return t.id===e.id}))})).map((function(e,t){return Object(i.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[Object(i.jsx)(Ve.a,{onClick:T("locations",e),children:Object(i.jsx)(At.a,{})}),Object(i.jsx)("div",{children:e.name})]},t)})),Object(i.jsx)(Ve.a,{onClick:function(){return E(!v)},children:v?"Cancelar":"Criar local"}),v&&Object(i.jsx)(Ut,{})]}),Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{children:"Preset questions"}),u.items&&u.items.length>0&&u.items.filter((function(e){return!b.mission.questions.find((function(t){return t.id===e.id}))})).map((function(e,t){return Object(i.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[Object(i.jsx)(Ve.a,{onClick:T("questions",e),children:Object(i.jsx)(At.a,{})}),Object(i.jsx)(Rt,{question:e})]},t)})),Object(i.jsx)(Ve.a,{onClick:function(){return A(!y)},children:y?"Cancel":"Create question"}),y&&Object(i.jsx)(Pt,{})]})]}),Object(i.jsxs)("div",{children:[Object(i.jsx)("h5",{children:"Detalhes do personagem:"}),b.characterDetails&&Object(i.jsx)(_t,{character:b.characterDetails})]})]})})},Qt=n(100),Bt=n.n(Qt),Mt=function(e){var t=e.mission,n=e.onDone,r=s.a.useState(t),a=Object(j.a)(r,2),o=a[0],u=a[1];console.log(t);var l=s.a.useState(t.characters),d=Object(j.a)(l,2),b=d[0],O=d[1],h=s.a.useState(t.locations),m=Object(j.a)(h,2),x=m[0],f=m[1],p=s.a.useState(t.questions),g=Object(j.a)(p,2),v=g[0],E=g[1],S=Object(ke.c)((function(e){return e.characters})),C=Object(ke.c)((function(e){return e.locations})),y=Object(ke.c)((function(e){return e.questions})),A=function(e){return function(){O([].concat(Object(K.a)(b),[e]))}},T=function(e){return function(){O(b.filter((function(t){return t.id!==e.id})))}},w=function(e){return function(){f([].concat(Object(K.a)(x),[e]))}},_=function(e){return function(){f(x.filter((function(t){return t.id!==e.id})))}},k=function(e){return function(){E([].concat(Object(K.a)(v),[e]))}},L=function(e){return function(){E(v.filter((function(t){return t.id!==e.id})))}};return Object(i.jsxs)("div",{children:[Object(i.jsxs)("div",{children:["Nome: ",Object(i.jsx)("input",{value:o.name,onChange:function(e){return u(Object(c.a)(Object(c.a)({},o),{},{name:e.target.value}))}})]}),Object(i.jsxs)("div",{children:["Descri\xe7\xe3o: ",Object(i.jsx)("input",{value:o.description,onChange:function(e){return u(Object(c.a)(Object(c.a)({},o),{},{description:e.target.value}))}})]}),Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{children:"Personagens na miss\xe3o:"}),b.map((function(e,t){return Object(i.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[Object(i.jsx)(Ve.a,{onClick:T(e),children:Object(i.jsx)(wt.a,{})}),Object(i.jsx)(_t,{character:e})]},t)}))]}),Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{children:"Personagens dispon\xedveis"}),S.items&&S.items.length>0&&S.items.filter((function(e){return!b.find((function(t){return t.id===e.id}))})).map((function(e,t){return Object(i.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[Object(i.jsx)(Ve.a,{onClick:A(e),children:Object(i.jsx)(At.a,{})}),Object(i.jsx)(_t,{character:e})]},t)}))]}),Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{children:"Locais na miss\xe3o:"}),x.map((function(e,t){return Object(i.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[Object(i.jsx)(Ve.a,{onClick:_(e),children:Object(i.jsx)(wt.a,{})}),Object(i.jsx)("div",{children:e.name})]},t)}))]}),Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{children:"Locais dispon\xedveis"}),C.items&&C.items.length>0&&C.items.filter((function(e){return!x.find((function(t){return t.id===e.id}))})).map((function(e,t){return Object(i.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[Object(i.jsx)(Ve.a,{onClick:w(e),children:Object(i.jsx)(At.a,{})}),Object(i.jsx)("div",{children:e.name})]},t)}))]}),Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{children:"Questions:"}),v.map((function(e,t){return Object(i.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[Object(i.jsx)(Ve.a,{onClick:L(e),children:Object(i.jsx)(wt.a,{})}),Object(i.jsx)(Rt,{question:e})]},t)}))]}),Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{children:"Preset questions"}),y.items&&y.items.length>0&&y.items.filter((function(e){return!v.find((function(t){return t.id===e.id}))})).map((function(e,t){return Object(i.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[Object(i.jsx)(Ve.a,{onClick:k(e),children:Object(i.jsx)(At.a,{})}),Object(i.jsx)(Rt,{question:e})]},t)}))]}),Object(i.jsx)(Ve.a,{onClick:function(){var e={id:o.id,name:o.name,description:o.description};e.characters=b.reduce((function(e,t){return[].concat(Object(K.a)(e),[t.id])}),[]),e.locations=x.reduce((function(e,t){return[].concat(Object(K.a)(e),[t.id])}),[]),e.questions=v.reduce((function(e,t){return[].concat(Object(K.a)(e),[t.id])}),[]),n(e)},children:Object(i.jsx)(Bt.a,{})})]})},Ft=function(){var e=_e.missionsActions,t=Object(ke.b)(),n=Object(ke.c)((function(e){return e.missions})),c=s.a.useState(!1),r=Object(j.a)(c,2),a=r[0],o=r[1],u=s.a.useState(-1),l=Object(j.a)(u,2),d=l[0],b=l[1];return s.a.useEffect((function(){b(-1),o(!1)}),[n]),s.a.useEffect((function(){t(e.getAll())}),[]),Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{children:"Miss\xf5es"}),n.items&&n.items.length>0&&n.items.map((function(n,c){return Object(i.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[d!==c?Object(i.jsx)(Ct,{mission:n},c):Object(i.jsx)(Mt,{mission:n,onDone:function(n){b(-1),t(e.update(n))}}),d!==c?Object(i.jsx)(Ve.a,{children:Object(i.jsx)(Ie.b,{to:"missions/edit/".concat(n.id),children:Object(i.jsx)(vt.a,{})})}):Object(i.jsx)(Ve.a,{onClick:function(){return b(-1)},children:Object(i.jsx)(St.a,{})}),Object(i.jsx)(Ve.a,{onClick:function(){return t(e.delete(n.id))},children:Object(i.jsx)(pt.a,{})})]},c)})),Object(i.jsx)(Ve.a,{onClick:function(){return o(!a)},children:a?"Cancelar":"Criar Miss\xe3o"}),a&&Object(i.jsx)(Ge.a,{to:"missions/create"})]})},Ht=n(101),Yt=n.n(Ht),Vt=function(e){var t=e.character,n=e.onDone,r=(_e.charactersActions,s.a.useState({name:t.name,job:t.job?t.job:"",id:t.id,answers:t.answers?Object(K.a)(t.answers):[]})),a=Object(j.a)(r,2),o=a[0],u=a[1],l=(Object(ke.b)(),function(e,n){return function(i){console.log("question:",e);var r=Yt.a.cloneDeep(t.answers.find((function(t){return t.question&&t.question.id===e.id}))),s=Object(c.a)(Object(c.a)({},o.answers[n]),{},{answer:i.target.value});r||(s.question=e.id),u(Object(c.a)(Object(c.a)({},o),{},{answers:[].concat(Object(K.a)(o.answers.slice(0,n)),[s],Object(K.a)(o.answers.slice(n+1)))}))}}),d=function(e){var t=o.answers.find((function(t){return t.question&&t.question.id?t.question.id===e:t.question===e}));return console.log("a:",t),t?t.answer:""};return Object(i.jsx)("div",{children:Object(i.jsxs)("div",{children:[Object(i.jsx)("input",{type:"text",value:o.name,onChange:function(e){return u(Object(c.a)(Object(c.a)({},o),{},{name:e.target.value}))}}),Object(i.jsx)("input",{type:"text",value:o.job,onChange:function(e){return u(Object(c.a)(Object(c.a)({},o),{},{job:e.target.value}))}}),Object(i.jsx)("div",{children:t.civilState}),Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{children:"Miss\xf5es que participa:"}),t.missions.map((function(e,t){return Object(i.jsxs)("div",{children:[Object(i.jsxs)("div",{children:[t+1,": ",e.name]}),Object(i.jsx)("div",{children:e.questions.map((function(e,t){return Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{children:e.question}),Object(i.jsx)("input",{type:"text",value:d(e.id),onChange:l(e,t),placeholder:"Resposta"})]},t)}))})]},t)})),Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{children:"Errou alguma op\xe7\xe3o:"}),Object(i.jsx)("input",{type:"text",value:t.wrongAnswer,onChange:function(e){return u(Object(c.a)(Object(c.a)({},o),{},{wrongAnswer:e.target.value}))},placeholder:"Errou alguma"})]}),Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{children:"Acertou o suficiente:"}),Object(i.jsx)("input",{type:"text",value:t.rightAnswer,onChange:function(e){return u(Object(c.a)(Object(c.a)({},o),{},{rightAnswer:e.target.value}))},placeholder:"Acertou o suficiente"})]}),Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{children:"Dica:"}),Object(i.jsx)("input",{type:"text",value:t.tip,onChange:function(e){return u(Object(c.a)(Object(c.a)({},o),{},{tip:e.target.value}))},placeholder:"Dica"})]}),Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{children:"Resposta da acusa\xe7\xe3o:"}),Object(i.jsx)("input",{type:"text",value:t.acusationAnswer,onChange:function(e){return u(Object(c.a)(Object(c.a)({},o),{},{acusationAnswer:e.target.value}))},placeholder:"Resposta \xe0 acusa\xe7\xe3o"})]}),Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{children:"Despedida:"}),Object(i.jsx)("input",{type:"text",value:t.endDialog,onChange:function(e){return u(Object(c.a)(Object(c.a)({},o),{},{endDialog:e.target.value}))},placeholder:"Despedida"})]})]}),Object(i.jsx)("button",{onClick:n(o),children:"Salvar"})]})})},Wt=function(e){e.onAdd;var t=_e.charactersActions,n=s.a.useState(!1),c=Object(j.a)(n,2),r=c[0],a=c[1],o=s.a.useState(-1),u=Object(j.a)(o,2),l=u[0],d=u[1],b=Object(ke.b)(),O=Object(ke.c)((function(e){return e.characters}));return s.a.useEffect((function(){b(t.getAll())}),[]),s.a.useEffect((function(){d(-1)}),[O]),Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{children:"\xc1rea de personagens"}),Object(i.jsxs)("button",{onClick:function(){return a(!r)},children:[r?"Cancelar":"Criar personagem"," "]}),r&&Object(i.jsx)(Lt,{}),Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{children:"All Characters:"}),O.loading&&Object(i.jsx)("div",{children:"Loading..."}),Object(i.jsxs)("div",{children:[Object(i.jsx)("span",{children:"Nome"})," ",Object(i.jsx)("span",{children:"Estado civil"})," ",Object(i.jsx)("span",{children:"Trabalho"})]}),Object(i.jsx)("div",{children:O.items.map((function(e,n){return Object(i.jsxs)(s.a.Fragment,{children:[l===n?Object(i.jsxs)("div",{children:[Object(i.jsx)(Vt,{character:e,onDone:function(e){return function(){return b(t.update(e))}}}),Object(i.jsx)(Ve.a,{onClick:function(){return d(-1)},children:Object(i.jsx)(St.a,{})})]}):Object(i.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[Object(i.jsx)(_t,{character:e}),Object(i.jsx)(Ve.a,{onClick:function(){return d(n)},children:Object(i.jsx)(vt.a,{})})]}),Object(i.jsx)("br",{})]},n)}))})]})]})},Jt=function(e){e.onAdd;var t=_e.questionsActions,n=s.a.useState(!1),c=Object(j.a)(n,2),r=c[0],a=c[1],o=Object(ke.b)(),u=Object(ke.c)((function(e){return e.questions}));s.a.useEffect((function(){0===u.items.length&&o(t.getAll())}),[]);var l=function(e){return function(){return o(t.delete(e.id))}};return Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{children:"Questions"}),Object(i.jsxs)("button",{onClick:function(){return a(!r)},children:[r?"Cancelar":"Criar pergunta"," "]}),r&&Object(i.jsx)(Pt,{}),Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{children:"All questions:"}),Object(i.jsxs)("div",{children:[Object(i.jsx)("span",{children:"Question"})," ",Object(i.jsx)("span",{children:"Correct"})]}),Object(i.jsx)("div",{children:u.items.map((function(e,t){return Object(i.jsxs)("div",{children:[Object(i.jsx)(Rt,{question:e}),Object(i.jsx)(Ve.a,{onClick:function(){},children:Object(i.jsx)(vt.a,{})}),Object(i.jsx)(Ve.a,{onClick:l(e),children:Object(i.jsx)(pt.a,{})})]},t)}))})]})]})},zt=n(102),Xt=n.n(zt),Kt=function(e){e.onAdd;var t=_e.questionnairesActions,n=s.a.useState(!1),c=Object(j.a)(n,2),r=(c[0],c[1],Object(ke.b)()),a=Object(ke.c)((function(e){return e.questionnaires}));s.a.useEffect((function(){0===a.items.length&&r(t.getAll())}),[]);var o=function(e){return function(){return r(t.delete(e.id))}};return Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{children:"Questionnaires"}),Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{children:"All questionnaires:"}),Object(i.jsx)("div",{children:Object(i.jsx)("span",{children:"Questionnaire"})}),Object(i.jsx)("div",{children:a.items.map((function(e,t){return Object(i.jsxs)("div",{children:[Object(i.jsx)(Xt.a,{questionnaire:e}),Object(i.jsx)(Ve.a,{onClick:function(){},children:Object(i.jsx)(vt.a,{})}),Object(i.jsx)(Ve.a,{onClick:o(e),children:Object(i.jsx)(pt.a,{})})]},t)}))})]})]})},Zt=function(){var e=Object(ke.b)(),t=Object(ke.c)((function(e){return e.play_sessions.items})),n=_e.play_sessionsActions;return s.a.useEffect((function(){e(n.getAll())}),[]),Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{children:"PlaySessions:"}),t.length>0&&t.map((function(e,t){return Object(i.jsxs)("div",{children:[Object(i.jsxs)("div",{children:["User: ",e.usersPermissionsUser.firstName," ",e.usersPermissionsUser.lastName]}),Object(i.jsxs)("div",{children:["Miss\xe3o: ",e.mission.name]}),Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{children:"PlayerActions:"}),e.player_actions.map((function(e,t){return Object(i.jsxs)("div",{children:["TAG:",e.data.tag]},t)}))]})]},t)}))]})},$t=function(){return document.getElementsByTagName("html")[0].className="palette01",Object(i.jsx)("div",{className:"App",children:Object(i.jsxs)(Ie.a,{children:[Object(i.jsx)(De,{props:{isLogged:Object(ke.c)((function(e){return e.authentication.loggedIn}))}}),Object(i.jsxs)(Ge.d,{children:[Object(i.jsx)(Ge.b,{exact:!0,path:"/",component:Pe}),Object(i.jsx)(Ge.b,{path:"/login",component:lt}),Object(i.jsx)(Ge.b,{path:"/register",component:ht}),Object(i.jsx)(Ge.b,{path:"/EADLearningTool",component:Pe}),Object(i.jsx)(et,{exact:!0,path:"/game1/:id",component:ze}),Object(i.jsx)(et,{exact:!0,path:"/game2/:id",component:$e}),Object(i.jsx)(et,{exact:!0,path:"/userspace",component:dt}),Object(i.jsx)(et,{exact:!0,path:"/missions",component:Ft}),Object(i.jsx)(et,{exact:!0,path:"/questions",component:Jt}),Object(i.jsx)(et,{exact:!0,path:"/questionnaires",component:Kt}),Object(i.jsx)(et,{exact:!0,path:"/missions/create",component:Gt}),Object(i.jsx)(et,{exact:!0,path:"/missions/edit/:id",component:Gt}),Object(i.jsx)(et,{exact:!0,path:"/characters",component:Wt}),Object(i.jsx)(et,{exact:!0,path:"/users",component:xt}),Object(i.jsx)(et,{exact:!0,path:"/playSessions",component:Zt})]})]})})},en=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,209)).then((function(t){var n=t.getCLS,c=t.getFID,i=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),c(e),i(e),r(e),s(e)}))},tn=n(103),nn={timeout:5e3,position:Le.b.TOP_RIGHT};o.a.render(Object(i.jsx)(ke.a,{store:ie,children:Object(i.jsx)(Le.a,Object(c.a)(Object(c.a)({template:tn.a},nn),{},{children:Object(i.jsx)($t,{})}))}),document.getElementById("root")),en()},88:function(e,t,n){}},[[158,1,2]]]);
//# sourceMappingURL=main.1384ce51.chunk.js.map