{"version":3,"sources":["img/avatar1.svg","img/i-home.svg","img/i-notification.svg","img/i-settings.svg","_constants/alert.constants.js","_constants/user.constants.js","_constants/header.constants.js","apiValues.js","_constants/api.constants.js","_helpers/apiConstantBuilder.js","_constants/game.constants.js","_constants/music.constants.js","_actions/alert.actions.js","_helpers/history.js","_reducers/authentication.reducer.js","_helpers/reducerBuilder.js","_reducers/api.reducers.js","_reducers/apiGame.reducer.js","_reducers/index.js","_reducers/registration.reducer.js","_reducers/users.reducer.js","_reducers/alert.reducer.js","_reducers/header.reducer.js","_reducers/music.reducer.js","_helpers/store.js","_helpers/auth-header.js","_services/api.services.js","_services/user.services.js","_services/apiGame.services.js","_actions/user.actions.js","_actions/header.actions.js","_actions/apiGame.actions.js","_actions/api.actions.js","_actions/music.actions.js","_components/UserHeader/index.js","_components/DefaultHeader/index.js","_components/AppHeader/index.js","pages/Home/index.js","pages/Game2/components/Init/index.js","pages/Game2/components/Result/index.js","pages/Game2/components/RoomSelect/index.js","pages/Game2/components/Sala/index.js","pages/Game2/components/Character/index.js","pages/Game1/initialState.js","pages/Game1/initialDialog.js","pages/Game1/stub.js","pages/Game1/components/Dropdown/index.js","img/Game1/Celular Sala.svg","img/Game1/Celular Base.svg","img/Game1/Mão dedão.svg","img/Game1/Mão palma.svg","pages/Game2/components/FullscreenOverlay/index.js","pages/Game1/components/Phone/index.js","pages/Game2/components/Menu/index.js","pages/Game2/components/DialogCharacter/index.js","pages/Game2/components/DialogHistory/index.js","pages/Game2/components/Writer/index.js","pages/Game2/components/Conversa/index.js","img/Score Baixo_blob.svg","img/bg-forma-laranja.svg","img/Game1/ícone_jogo1.svg","pages/Game1/index.js","img/lampada_apagada.svg","img/lampada_acesa.svg","pages/Game2/components/AcusationLamp/index.js","pages/Game2/initialState.js","img/Game2/parabens_vitoria-persistente.svg","img/Game2/parabens_vitoria-primeira.svg","img/Game2/símbolo_feedback errado.svg","img/ícone_jogo1.svg","img/Game2/Icone_jogo-tela_inicio.svg","img/bg-forma-azul.svg","img/bg-forma-verde.svg","img/Game2/bloco.svg","img/Game2/blocoButton.svg","pages/Game2/index.js","pages/Game3/Timer/index.js","pages/Game3/stub.js","pages/Game3/initialState.js","pages/Game3/index.js","pages/Game4/components/Recipe/index.js","pages/Game4/stub.js","pages/Game4/initialState.js","pages/Game4/index.js","_components/PrivateRoute/index.js","pages/Login/index.js","pages/UserSpace/index.js","pages/Register/index.js","_components/UserInfo/index.js","pages/UsersCRUD/index.js","pages/Mission/index.js","pages/Character/index.js","pages/Question/index.js","pages/EditMission/index.js","pages/Missions/index.js","pages/CreateCharacter/index.js","pages/CreateLocation/index.js","pages/CreateQuestion/index.js","pages/CreateMission/components/EditMissionCharacter.js","pages/CreateMission/components/EditNewMissionCharacter.js","pages/CreateMission/missionCharacterInitialState.js","pages/CreateMission/Game1Data/index.js","pages/CreateMission/Game2Data/index.js","pages/CreateMission/index.js","pages/EditCharacter/index.js","pages/Characters/index.js","pages/Questions/index.js","pages/Questionnaires/index.js","pages/PlaySessions/index.js","_components/Config/index.js","_components/ConfigWindow/index.js","_components/GameConfig/index.js","pages/GameContext/index.js","TestPage.js","rootUrl.js","App.js","reportWebVitals.js","index.js"],"names":["alertConstants","userConstants","headerConstants","NORMAL","HIDDEN","OVERLAY","apiValues","apiConstants","map","value","UPDATE_REQUEST","apiDataType","UPDATE_SUCCESS","UPDATE_FAILURE","CREATE_REQUEST","CREATE_SUCCESS","CREATE_FAILURE","GETALL_REQUEST","GETALL_SUCCESS","GETALL_FAILURE","GETBYID_REQUEST","GETBYID_SUCCESS","GETBYID_FAILURE","FIND_REQUEST","FIND_SUCCESS","FIND_FAILURE","DELETE_REQUEST","DELETE_SUCCESS","DELETE_FAILURE","gameConstants","musicConstants","alertActions","success","message","type","error","clear","createBrowserHistory","user","JSON","parse","localStorage","getItem","initialState","loggedIn","loading","items","apiReducers","Object","keys","forEach","apiType","constants","toLowerCase","state","action","creating","data","updating","index","findIndex","item","id","copy","slice","deleting","filter","deleteError","rootReducer","combineReducers","authentication","loggingIn","logginFailure","registration","registering","users","userCopy","roles","alert","header","title","subtitle","newTitle","newSubtitle","newState","music","url","volume","game","loggerMiddleware","createLogger","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMiddleware","authHeader","jwt","api","axios","create","baseURL","getByIdBuilder","routeName","method","replace","headers","then","handleResponse","findBuilder","query","createBuilder","updateBuilder","deleteBuilder","response","status","location","reload","Promise","reject","statusText","apiServices","getAll","getById","find","update","delete","userService","login","email","password","identifier","setItem","stringify","logout","register","console","log","getRoles","removeItem","apiGameServices","params","userActions","dispatch","failure","toString","request","resolve","messages","headerActions","requester","service","route","payload","gameActions","info","getByIdConstructor","findData","findConstructor","createData","createConstructor","updateData","updateConstructor","deleteData","deleteConstructor","getAllConstructor","apiActions","musicActions","UserHeader","pageInfo","headerInfo","useSelector","React","useState","view","setState","useDispatch","useAlert","className","onClick","show","src","home","alt","notifications","settings","avatar","style","position","backgroundColor","top","margin","width","height","Button","DefaultHeader","AppHeader","props","isLogged","Home","to","Init","icon","name","description","nameTranslate","descriptionTranslate","onStart","onBack","ready","Result","gameEndState","split","str","RoomSelect","buttonList","onChange","showInBtnFormat","useEffect","lang","num","length","Sala","children","roomData","img","setCurrentChar","background","Character","zDepth","character","dragPosition","showNameOnHover","characterAssets","asset","bodyPart","image","initialValue","back","scene","endGame","currentLocationIndex","locations","jobs","countries","names","contactsTemplate","contactsAtSession","dialogs","questionsAsked","result","totalFields","mainError","feedback","dialogHistory","answers","preSpeech","currentChar","characterFeeling","showContacts","maxQuestions","shouldMinimize","shouldCloseDialog","wrongContacts","question","stub","backgroundAssets","characters","answer","Dropdown","defaultText","label","optionList","disabled","option","FullscreenOverlay","showCloseBtn","shouldExit","onClickClose","onReadyToExit","bgRGBA","closeRGB","closeHoverRGB","Error","onAnimationEnd","event","target","currentTarget","r","g","b","a","Phone","modifyContact","contacts","onFinish","onAddContact","onMinimize","maximized","_shouldMinimize","smallPhone","palma","bigPhone","dedao","contact","key","showName","e","showJob","job","showCountry","country","_contatoTemplate","display","Menu","onButtonClick","color","fontSize","button","hasOwnProperty","active","DialogCharacter","feeling","characterImg","DialogHistory","dialog","speaker","text","Writer","characterTime","onWritten","afterWrittenTime","timeoutID","setTimeout","clearTimeout","substring","Conversa","showDialogHistory","onClearDialogHistory","callAfterWritterForEveryMsg","msPerCharacter","waitAfterWritten","prevDialogHistory","charPreSpeech","convOptions","charFeeling","afterWriter","onExited","onConvoChoiceMade","convoChoosen","querFechar","currentAnswer","flexGrow","updateState","Game1","play_sessionsActions","match","missions","mission","missionData","userId","currentPlaySession","play_sessions","language","backgroundAudio","tracking","getClickedObject","playerActions","tag","nodeName","innerHTML","includes","clickTime","Date","document","addEventListener","s","removeEventListener","Set","missionCharacters","reduce","acc","missionCharacter","push","flat","sort","hasEmptyField","onStartGame","convOption","updatedState","close","shouldCloseConvo","onMenuButtonClick","indexOf","c","closeDialog","restart","hasPlayed","onPhoneFinish","missionContact","contactAtSession","gabarito","contactTemplate","changeRoomPopUp","onGoNextRoom","metrics","metric","metricTranslate","translate","count","t","score","toFixed","max","obj","feedbacks","minScore","maxScore","won","iconInit","refreshDialog","initialDialog","nextRoomTextWrong","nextRoomTextWrongTranslate","translation","nextRoomTextRight","nextRoomTextRightTranslate","Math","min","topAsset","textTranslate","href","backgroundImage","blobLaranja","blobLowScore","mobileBackground","tries","AcusationLamp","lamp_apagada","lamp_acesa","currentRoom","isOnDialog","found","tips","acusation","closeAcusation","validQuestions","tutorialStep","seeTutorial","checkedPlayed","tipsCount","dialogStep","totalDialogSteps","questionsByStep","showConvo","questions","targetName","correct","ncorrect","correctMinimum","startedTimestamp","now","elapsedTime","spokenCharacters","Game2","resultsCount","dialogInitialState","availableCharacters","tutorialRoom","tutorial","totalWeight","crowdestRoomPop","emptiestRoomPop","maxWeight","weights","weight","rand","floor","random","i","locationIndex","availableAnswers","selectedQuestions","source","splice","temp","amountChars","j","exchangeWith","aux","tip","usersPermissionsUser","endTutorial","mc","wrongEndAnswer","refresh","endDialog","rightEndAnswer","tchaus","rIdx","closeAfterWritter","onRefreshDialog","tutorialCharacter","tutorialScreen","showTips","zIndex","marginLeft","bloco","padding","blocoButton","iconVitoriaPrim","iconVitoriaPers","blobAzul","blobVerde","iconDerrota","iconDicas","spokenCharactersCount","validQuestionsCount","zeroFill","size","Timer","seconds","onEnd","onSecondPassed","run","timeout","previousRef","useRef","current","ingredients","moneyTypes","corridors","shelveProducts","cart","currentAisle","checkout","onPayment","payment","win","change","paymentAmount","runTimer","reaminingTime","goRound","abs","Game3","game_3_missions","m","game_3_missionsActions","addProduct","product","removeProduct","toPreviousaisle","aisles","toNextaisle","haveAll","addToPayment","money","removeFromPayment","moveToPayment","price","doPayment","receiveChange","ingredient","remaining","remainingTime","timeUp","shopList","products","Number","parseFloat","Recipe","recipe","closeText","onClose","dishes","rightDishes","showRecipe","selectItem","selected","cookPhase","shuffled","orderedLetters","prepared","servePhase","shuffledDishes","shuffledDishesNames","dishImageSelected","dishNameSelected","pairCheck","tableDish","allDishes","shuffleArray","array","trunc","shuffleString","word","Game4","onTimeEnd","next","allPrepared","onLetterClick","letter","onNameSelected","dish","d","onSeeTutorial","cook","PrivateRoute","Component","component","render","rest","pathname","from","useStyles","makeStyles","theme","root","backgroundRepeat","palette","grey","backgroundSize","backgroundPosition","paper","spacing","flexDirection","alignItems","secondary","main","form","marginTop","submit","Login","inputs","setInputs","submitted","setSubmitted","classes","handleChange","Grid","container","CssBaseline","xs","sm","md","Paper","elevation","square","Avatar","Typography","variant","onSubmit","preventDefault","catch","noValidate","TextField","required","fullWidth","autoComplete","autoFocus","justify","UserSpace","username","gameType","Register","languagesActions","firstName","lastName","languages","redirect","setRedirect","blocked","setBlocked","Container","select","MenuItem","UserInfo","provider","checked","confirmed","UsersCRUD","Mission","getAnswer","qId","borderStyle","borderRadius","characterAsset","civilState","game_1_missions","qIndex","wrongAnswer","rightAnswer","acusationAnswer","Question","EditMission","onDone","charList","setCharList","locationList","setLocationList","questionList","setQuestionList","addToMission","removeFromMission","addLocationToMission","removeLocationFromMission","l","addQuestionToMission","removeQuestionFromMission","Missions","missionsActions","game_1_missionsActions","game1missions","createMission","setCreateMission","edit","setEdit","CreateCharacter","charactersActions","setName","setJob","setCivilState","civilStates","estadosCivis","cs","Radio","CreateLocation","locationsActions","placeholder","CreateQuestion","questionsActions","group","maxWidth","aria-describedby","parseInt","FormLabel","RadioGroup","aria-label","FormControlLabel","control","EditMissionCharacter","cancel","editAnswer","aQ","_","cloneDeep","changedIndex","rightAcusationAnswer","wrongAcusationAnswer","EditNewMissionCharacter","setmissionCharacter","missionCharacterInitialState","targetCharacter","CreateGame1Data","onCheckChange","game_1_mission_charactersActions","Checkbox","Game2Data","CreateMissionGame1","originalMission","charactersList","charactersConfigList","characterConfig","newCharacterConfig","createCharacter","setCreateCharacter","createLocation","setCreateLocation","createQuestion","setCreateQuestion","editCharacterConfig","createCharacterConfig","cancelCharacterConfig","addCharacterToList","removeCharacterFromList","flexShrink","flexBasis","missionCharactersCreate","game_1_mission_characters","onChangeCharacter","onJobCheckChange","onCountryCheckChange","mission_charactersActions","EditCharacter","mIndex","Characters","onAdd","Fragment","Questions","deleteQuestion","Questionnaires","questionnairesActions","questionnaires","deleteQuestionnaire","questionnaire","PlaySessions","playSessions","playSession","player_actions","playerAction","Config","ConfigWindow","onConfig","onStatistics","onLeave","GameConfig","onVolumeMute","onVolumeUp","onVolumeChange","onFontSizeChange","assistMode","onAssistModeChange","onAccessibilityLeft","onAccessibilityRight","Slider","colSpan","GameContext","accessibility","gameConfig","config","autoPlay","loop","newValue","TestPage","right","bottom","left","rootUrl","process","App","getElementsByTagName","gameMode","basename","path","exact","CreateMission","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","options","positions","TOP_RIGHT","ReactDOM","template","AlertTemplate","getElementById"],"mappings":"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","file":"static/js/main.c871feac.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/avatar1.48f082ac.svg\";","export default __webpack_public_path__ + \"static/media/i-home.949bb3de.svg\";","export default __webpack_public_path__ + \"static/media/i-notification.995f04ef.svg\";","export default __webpack_public_path__ + \"static/media/i-settings.1d1409d0.svg\";","export const alertConstants = {\r\n    SUCCESS: 'ALERT_SUCCESS',\r\n    ERROR: 'ALERT_ERROR',\r\n    CLEAR: 'ALERT_CLEAR'\r\n}","export const userConstants = {\r\n    REGISTER_REQUEST: 'USER_REGISTER_REQUEST',\r\n    REGISTER_SUCCESS: 'USER_REGISTER_SUCCESS',\r\n    REGISTER_FAILURE: 'USER_REGISTER_FAILURE',\r\n\r\n    LOGIN_REQUEST: 'USER_LOGIN_REQUEST',\r\n    LOGIN_SUCCESS: 'USER_LOGIN_SUCCESS',\r\n    LOGIN_FAILURE: 'USER_LOGIN_FAILURE',\r\n\r\n    UPDATE_REQUEST: 'USER_UPDATE_REQUEST',\r\n    UPDATE_SUCCESS: 'USER_UPDATE_SUCCESS',\r\n    UPDATE_FAILURE: 'USER_UPDATE_FAILURE',\r\n\r\n    LOGOUT: 'USERS_LOGOUT',\r\n\r\n    GETALL_REQUEST: 'USER_GETALL_REQUEST',\r\n    GETALL_SUCCESS: 'USER_GETALL_SUCCESS',\r\n    GETALL_FAILURE: 'USER_GETALL_FAILURE',\r\n\r\n    GETBYID_REQUEST: 'USER_GETBYID_REQUEST',\r\n    GETBYID_SUCCESS: 'USER_GETBYID_SUCCESS',\r\n    GETBYID_FAILURE: 'USER_GETBYID_FAILURE',\r\n\r\n    FIND_REQUEST: 'USER_FIND_REQUEST',\r\n    FIND_SUCCESS: 'USER_FIND_SUCCESS',\r\n    FIND_FAILURE: 'USER_FIND_FAILURE',\r\n    \r\n    DELETE_REQUEST: 'USER_DELETE_REQUEST',\r\n    DELETE_SUCCESS: 'USER_DELETE_SUCCESS',\r\n    DELETE_FAILURE: 'USER_DELETE_FAILURE',\r\n\r\n    GETROLES_REQUEST: 'USER_GETROLES_REQUEST',\r\n    GETROLES_SUCCESS: 'USER_GETROLES_SUCCESS',\r\n    GETROLES_FAILURE: 'USER_GETROLES_FAILURE',\r\n}","export const headerConstants = {\r\n\tSET_TITLE:\t\t'SET_HEADER_TITLE',\r\n\tSET_SUBTITLE:\t'SET_HEADER_SUBTITLE',\r\n\tSET_ALL:\t\t'SET_HEADER_ALL',\r\n\r\n\tCLEAR_TITLE:\t'CLEAR_HEADER_TITLE',\r\n\tCLEAR_SUBTITLE:\t'CLEAR_HEADER_SUBTITLE',\r\n\tCLEAR_ALL:\t\t'CLEAR_HEADER_ALL',\r\n\r\n\tSET_STATE:\t\t'SET_HEADER_STATE',\r\n\tSTATES:\t\t\t{\r\n\t\tNORMAL:\t\t'NORMAL',\r\n\t\tHIDDEN:\t\t'HIDDEN',\r\n\t\tOVERLAY:\t'OVERLAY'\r\n\t},\r\n}\r\n","const apiValues = [\r\n  'GAMES_TYPES', 'MISSIONS', 'ASSETS',\r\n  'CHARACTERS', 'CHARACTER_ASSETS', \r\n  'LOCATIONS', 'QUESTIONS', 'LANGUAGES', 'PLAY_SESSIONS'\r\n]\r\n\r\nexport default apiValues\r\n","import { apiConstantBuilder } from '../_helpers/apiConstantBuilder'\r\nimport apiValues from '../apiValues'\r\n\r\nlet apiConstants = {}\r\n\r\napiValues.map( value => apiConstants[value] = apiConstantBuilder(value) )\r\n\r\nexport { apiConstants }\r\n","export const apiConstantBuilder = apiDataType => {\r\n  return {\r\n    UPDATE_REQUEST: `${apiDataType}_UPDATE_REQUEST`,\r\n    UPDATE_SUCCESS: `${apiDataType}_UPDATE_SUCCESS`,\r\n    UPDATE_FAILURE: `${apiDataType}_UPDATE_FAILURE`,\r\n\r\n    CREATE_REQUEST: `${apiDataType}_CREATE_REQUEST`,\r\n    CREATE_SUCCESS: `${apiDataType}_CREATE_SUCCESS`,\r\n    CREATE_FAILURE: `${apiDataType}_CREATE_FAILURE`,\r\n\r\n    GETALL_REQUEST: `${apiDataType}_GETALL_REQUEST`,\r\n    GETALL_SUCCESS: `${apiDataType}_GETALL_SUCCESS`,\r\n    GETALL_FAILURE: `${apiDataType}_GETALL_FAILURE`,\r\n\r\n    GETBYID_REQUEST: `${apiDataType}_GETBYID_REQUEST`,\r\n    GETBYID_SUCCESS: `${apiDataType}_GETBYID_SUCCESS`,\r\n    GETBYID_FAILURE: `${apiDataType}_GETBYID_FAILURE`,\r\n\r\n    FIND_REQUEST: `${apiDataType}_REQUES `,\r\n    FIND_SUCCESS: `${apiDataType}_SUCCES `,\r\n    FIND_FAILURE: `${apiDataType}_FAILUR `,\r\n\r\n    DELETE_REQUEST: `${apiDataType}_DELETE_REQUEST`,\r\n    DELETE_SUCCESS: `${apiDataType}_DELETE_SUCCESS`,\r\n    DELETE_FAILURE: `${apiDataType}_DELETE_FAILURE`,\r\n  }\r\n}\r\n","export const gameConstants =  {\r\n  UPDATE_REQUEST: 'GAME_UPDATE_REQUEST',\r\n  UPDATE_SUCCESS: 'GAME_UPDATE_SUCCESS',\r\n  UPDATE_FAILURE: 'GAME_UPDATE_FAILURE',\r\n\r\n  CREATE_REQUEST: 'GAME_CREATE_REQUEST',\r\n  CREATE_SUCCESS: 'GAME_CREATE_SUCCESS',\r\n  CREATE_FAILURE: 'GAME_CREATE_FAILURE',\r\n\r\n  GETALL_REQUEST: 'GAME_GETALL_REQUEST',\r\n  GETALL_SUCCESS: 'GAME_GETALL_SUCCESS',\r\n  GETALL_FAILURE: 'GAME_GETALL_FAILURE',\r\n\r\n  GETBYID_REQUEST: 'GAME_GETBYID_REQUEST',\r\n  GETBYID_SUCCESS: 'GAME_GETBYID_SUCCESS',\r\n  GETBYID_FAILURE: 'GAME_GETBYID_FAILURE',\r\n\r\n  FIND_REQUEST: 'GAME_REQUEST',\r\n  FIND_SUCCESS: 'GAME_SUCCESS',\r\n  FIND_FAILURE: 'GAME_FAILURE',\r\n\r\n  DELETE_REQUEST: 'GAME_DELETE_REQUEST',\r\n  DELETE_SUCCESS: 'GAME_DELETE_SUCCESS',\r\n  DELETE_FAILURE: 'GAME_DELETE_FAILURE',\r\n}","export const musicConstants = {\r\n\tSET:\t'SET'\r\n}\r\n","import { alertConstants } from '../_constants'\r\n\r\nexport const alertActions = {\r\n    success,\r\n    error,\r\n    clear\r\n}\r\n\r\nfunction success(message) {\r\n    return {\r\n        type: alertConstants.SUCCESS, \r\n        message\r\n    }\r\n}\r\n\r\nfunction error(message) {\r\n    return {\r\n        type: alertConstants.ERROR,\r\n        message\r\n    }\r\n}\r\n\r\nfunction clear() {\r\n    return {\r\n        type: alertConstants.CLEAR\r\n    }\r\n}","import { createBrowserHistory } from 'history'\r\n\r\nexport const history = createBrowserHistory()","import { userConstants } from '../_constants'\r\n\r\nlet user = JSON.parse(localStorage.getItem('user'))\r\nconst initialState = user ? { loggedIn: true, user } : {}\r\n\r\nexport function authentication (state = initialState, action){\r\n    switch (action.type) {\r\n        case userConstants.LOGIN_REQUEST:\r\n            return {\r\n                loggingIn: true,\r\n                user: action.user\r\n            }\r\n        case userConstants.LOGIN_SUCCESS:\r\n            return {\r\n                loggedIn: true,\r\n                user: action.user\r\n            }\r\n        case userConstants.LOGIN_FAILURE:\r\n            return {\r\n                logginFailure: true\r\n            }\r\n        case userConstants.LOGOUT:\r\n            return {}\r\n        default:\r\n            return state\r\n    }\r\n}\r\n","const initialState = {\r\n  loading: false,\r\n  items: []\r\n}\r\n\r\nexport const reducerBuilder = constants => (state = initialState, action) =>\r\n{\r\n  switch (action.type) {\r\n      case constants.CREATE_REQUEST:\r\n          return {...state,\r\n            error: null,\r\n            creating: true\r\n          }\r\n      case constants.CREATE_SUCCESS:\r\n          return {...state,\r\n            creating: false,\r\n            items: [...state.items, action.data]\r\n          }\r\n      case constants.CREATE_FAILURE:\r\n          return {\r\n            error: action.error\r\n          }\r\n\r\n      case constants.UPDATE_REQUEST:\r\n          return {...state,\r\n            error: null,\r\n            updating: true\r\n          }\r\n      case constants.UPDATE_SUCCESS:\r\n          let index = state.items.findIndex( item => item.id === action.data.id )\r\n          let copy = [...state.items.slice(0, index), action.data, ...state.items.slice(index + 1)]\r\n          return {...state, updating: false,\r\n            items: copy\r\n          }\r\n      case constants.UPDATE_FAILURE:\r\n          return {...state, updating: false}\r\n\r\n      case constants.GETALL_REQUEST:\r\n          return {...state,\r\n              error: null,\r\n              loading: true\r\n          };\r\n      case constants.GETALL_SUCCESS:\r\n          return {...state,\r\n              loading: false,\r\n              items: action.data\r\n          };\r\n      case constants.GETALL_FAILURE:\r\n          return {...state,\r\n              loading: false,\r\n              error: action.error\r\n          };\r\n\r\n      case constants.GETBYID_REQUEST:\r\n          return {...state,\r\n              error: null,\r\n              loading: true\r\n          };\r\n      case constants.GETBYID_SUCCESS:\r\n          return {...state,\r\n              items: [...state.items, action.data],\r\n              loading: false\r\n          };\r\n      case constants.GETBYID_FAILURE:\r\n          return {...state,\r\n              loading: false,\r\n              error: action.error\r\n          };\r\n\r\n        case constants.FIND_REQUEST:\r\n            return {...state,\r\n                error: null,\r\n                loading: true\r\n            };\r\n        case constants.FIND_SUCCESS:\r\n            return {...state,\r\n                items: action.data,\r\n                loading: false\r\n            };\r\n        case constants.FIND_FAILURE:\r\n            return {...state,\r\n                loading: false,\r\n                error: action.error\r\n            };\r\n\r\n      case constants.DELETE_REQUEST:\r\n          // add 'deleting:true' property to character being deleted\r\n          return {\r\n              ...state,\r\n              items: state.items.map(item =>\r\n                  item.id === action.id\r\n                      ? { ...item, deleting: true }\r\n                      : item\r\n              )\r\n          };\r\n      case constants.DELETE_SUCCESS:\r\n          // remove deleted character from state\r\n          return {...state,\r\n              items: state.items.filter(item => item.id !== action.id)\r\n          }\r\n      case constants.DELETE_FAILURE:\r\n          // remove 'deleting:true' property and add 'deleteError:[error]' property to character\r\n          return {\r\n              ...state,\r\n              items: state.items.map(item => {\r\n                  if (item.id === action.id) {\r\n                      // make copy of character without 'deleting:true' property\r\n                      const { deleting, ...copy } = item;\r\n                      // return copy of character with 'deleteError:[error]' property\r\n                      return { ...copy, deleteError: action.error };\r\n                  }\r\n                  return item;\r\n              })\r\n          };\r\n      default:\r\n          return state\r\n  }\r\n}\r\n","import { reducerBuilder } from '../_helpers/reducerBuilder'\r\nimport { apiConstants } from '../_constants'\r\n\r\nconst apiReducers = { }\r\nObject.keys(apiConstants).forEach(apiType => {\r\n  apiReducers[apiType.toLowerCase()] = reducerBuilder(apiConstants[apiType])\r\n})\r\n\r\n\r\nexport default apiReducers\r\n","import { gameConstants } from '../_constants'\r\n\r\nconst initialState = {\r\n  loading: false,\r\n  items: []\r\n}\r\n\r\nexport function game (state = initialState, action) {\r\n  switch (action.type) {\r\n      case gameConstants.CREATE_REQUEST:\r\n          return {...state,\r\n            error: null,\r\n            creating: true\r\n          }\r\n      case gameConstants.CREATE_SUCCESS:\r\n          return {...state,\r\n            creating: false,\r\n            items: {...state.items, ...action.data }\r\n          }\r\n      case gameConstants.CREATE_FAILURE:\r\n          return {\r\n            error: action.error\r\n          }\r\n\r\n      case gameConstants.UPDATE_REQUEST:\r\n          return {...state,\r\n            error: null,\r\n            updating: true\r\n          }\r\n      case gameConstants.UPDATE_SUCCESS:\r\n          let index = state.items.findIndex( item => item.id === action.data.id )\r\n          let copy = [...state.items.slice(0, index), action.data, ...state.items.slice(index + 1)]\r\n          return {...state, updating: false,\r\n            items: copy\r\n          }\r\n      case gameConstants.UPDATE_FAILURE:\r\n          return {...state, updating: false}\r\n\r\n      case gameConstants.GETALL_REQUEST:\r\n          return {...state,\r\n              error: null,\r\n              loading: true\r\n          };\r\n      case gameConstants.GETALL_SUCCESS:\r\n          return {...state,\r\n              loading: false,\r\n              items: {...state.items, ...action.data }\r\n          };\r\n      case gameConstants.GETALL_FAILURE:\r\n          return {...state,\r\n              loading: false,\r\n              error: action.error\r\n          };\r\n\r\n      case gameConstants.GETBYID_REQUEST:\r\n          return {...state,\r\n              error: null,\r\n              loading: true\r\n          };\r\n      case gameConstants.GETBYID_SUCCESS:\r\n          return {...state,\r\n              items: {...state.items, ...action.data },\r\n              loading: false\r\n          };\r\n      case gameConstants.GETBYID_FAILURE:\r\n          return {...state,\r\n              loading: false,\r\n              error: action.error\r\n          };\r\n\r\n        case gameConstants.FIND_REQUEST:\r\n            return {...state,\r\n                error: null,\r\n                loading: true\r\n            };\r\n        case gameConstants.FIND_SUCCESS:\r\n            return {...state,\r\n                items:{...state.items, ...action.data },\r\n                loading: false\r\n            };\r\n        case gameConstants.FIND_FAILURE:\r\n            return {...state,\r\n                loading: false,\r\n                error: action.error\r\n            };\r\n\r\n      case gameConstants.DELETE_REQUEST:\r\n          // add 'deleting:true' property to character being deleted\r\n          return {\r\n              ...state,\r\n              items: state.items.map(item =>\r\n                  item.id === action.id\r\n                      ? { ...item, deleting: true }\r\n                      : item\r\n              )\r\n          };\r\n      case gameConstants.DELETE_SUCCESS:\r\n          // remove deleted character from state\r\n          return {...state,\r\n              items: state.items.filter(item => item.id !== action.id)\r\n          }\r\n      case gameConstants.DELETE_FAILURE:\r\n          // remove 'deleting:true' property and add 'deleteError:[error]' property to character\r\n          return {\r\n              ...state,\r\n              items: state.items.map(item => {\r\n                  if (item.id === action.id) {\r\n                      // make copy of character without 'deleting:true' property\r\n                      const { deleting, ...copy } = item;\r\n                      // return copy of character with 'deleteError:[error]' property\r\n                      return { ...copy, deleteError: action.error };\r\n                  }\r\n                  return item;\r\n              })\r\n          };\r\n      default:\r\n        return state\r\n  }\r\n}\r\n","import { combineReducers } from 'redux'\r\n\r\nimport { authentication } from './authentication.reducer'\r\nimport { registration } from './registration.reducer'\r\nimport { users } from './users.reducer'\r\nimport { alert } from './alert.reducer'\r\nimport { header } from './header.reducer'\r\nimport { music } from './music.reducer'\r\nimport apiReducers from './api.reducers'\r\nimport { game } from './apiGame.reducer'\r\n\r\nconst rootReducer = combineReducers({\r\n    authentication,\r\n    registration,\r\n    users,\r\n    alert,\r\n    header,\r\n    music,\r\n    game,\r\n    ...apiReducers,\r\n})\r\n\r\nexport default rootReducer\r\n","import { userConstants } from '../_constants'\r\n\r\nexport function registration (state = {}, action) {\r\n    switch (action.type) {\r\n        case userConstants.REGISTER_REQUEST:\r\n            return {registering: true}\r\n        case userConstants.REGISTER_SUCCESS:\r\n            return {}\r\n        case userConstants.REGISTER_FAILURE:\r\n            return {}\r\n        default:\r\n            return state\r\n    }\r\n}","import { userConstants } from '../_constants';\r\n\r\nexport function users(state = {}, action) {\r\n    switch (action.type) {\r\n        case userConstants.UPDATE_REQUEST:\r\n            return {updating: true}\r\n        case userConstants.UPDATE_SUCCESS:\r\n            return {}\r\n        case userConstants.UPDATE_FAILURE:\r\n            return {}\r\n        case userConstants.GETALL_REQUEST:\r\n            return {...state,\r\n                loading: true\r\n            };\r\n        case userConstants.GETALL_SUCCESS:\r\n            return {...state,\r\n                items: action.users\r\n            };\r\n        case userConstants.GETALL_FAILURE:\r\n            return {...state,\r\n                error: action.error\r\n            };\r\n        case userConstants.GETBYID_REQUEST:\r\n            return {...state,\r\n                loading: true\r\n            };\r\n        case userConstants.GETBYID_SUCCESS:\r\n            return {...state,\r\n                items: action.user\r\n            };\r\n        case userConstants.GETBYID_FAILURE:\r\n            return {...state,\r\n                error: action.error\r\n            };\r\n        case userConstants.FIND_REQUEST:\r\n            return {...state,\r\n                loading: true\r\n            };\r\n        case userConstants.FIND_SUCCESS:\r\n            return {...state,\r\n                items: action.user\r\n            };\r\n        case userConstants.FIND_FAILURE:\r\n            return {...state,\r\n                error: action.error\r\n            };\r\n        case userConstants.DELETE_REQUEST:\r\n            // add 'deleting:true' property to user being deleted\r\n            return {\r\n                ...state,\r\n                items: state.items.map(user =>\r\n                    user.id === action.id\r\n                        ? { ...user, deleting: true }\r\n                        : user\r\n                )\r\n            };\r\n        case userConstants.DELETE_SUCCESS:\r\n            // remove deleted user from state\r\n            return {...state,\r\n                items: state.items.filter(user => user.id !== action.id)\r\n            };\r\n        case userConstants.DELETE_FAILURE:\r\n            // remove 'deleting:true' property and add 'deleteError:[error]' property to user\r\n            return {\r\n                ...state,\r\n                items: state.items.map(user => {\r\n                    if (user.id === action.id) {\r\n                        // make copy of user without 'deleting:true' property\r\n                        const { deleting, ...userCopy } = user;\r\n                        // return copy of user with 'deleteError:[error]' property\r\n                        return { ...userCopy, deleteError: action.error };\r\n                    }\r\n\r\n                    return user;\r\n                })\r\n            };\r\n        case userConstants.GETROLES_REQUEST:\r\n            return {...state,\r\n                loading: true\r\n            };\r\n        case userConstants.GETROLES_SUCCESS:\r\n            return {...state,\r\n                roles: action.users.roles\r\n            };\r\n        case userConstants.GETROLES_FAILURE:\r\n            return {...state,\r\n                error: action.error\r\n            };\r\n        default:\r\n            return state\r\n    }\r\n}\r\n","import { alertConstants} from '../_constants'\r\n\r\nexport function alert (state = {}, action) {\r\n    switch(action.type) {\r\n        case alertConstants.SUCCESS:\r\n            return {\r\n                type: 'alert-succes',\r\n                message: action.message\r\n            }\r\n        case alertConstants.ERROR:\r\n            return {\r\n                type: 'alert-danger',\r\n                message: action.message\r\n            }\r\n        case alertConstants.CLEAR:\r\n            return {}\r\n        default:\r\n            return state\r\n    }\r\n}\r\n","import { headerConstants } from '../_constants'\r\n\r\nexport function header (state = {state: headerConstants.STATES.NORMAL, title: \"\", subtitle: \"\"}, action) {\r\n    switch(action.type) {\r\n        case headerConstants.SET_TITLE:\r\n\t\t\treturn {...state, title: action.newTitle};\r\n\r\n\t\tcase headerConstants.SET_SUBTITLE:\r\n\t\t\treturn {...state, subtitle: action.newSubtitle};\r\n\r\n\t\tcase headerConstants.SET_ALL:\r\n\t\t\treturn {...state, title: action.newTitle, subtitle: action.newSubtitle};\r\n\r\n\t\tcase headerConstants.CLEAR_TITLE:\r\n\t\t\treturn {...state, title: \"\"};\r\n\r\n\t\tcase headerConstants.CLEAR_SUBTITLE:\r\n\t\t\treturn {...state, subtitle: \"\"};\r\n\r\n\t\tcase headerConstants.CLEAR_ALL:\r\n\t\t\treturn {...state, title: \"\", subtitle: \"\"};\r\n\r\n\t\tcase headerConstants.SET_STATE:\r\n\t\t\treturn {...state, state: action.newState};\r\n\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n    }\r\n}\r\n","import { musicConstants } from '../_constants/music.constants'\r\n\r\nexport function music ( state = {url: '', volume: 15}, action ) {\r\n\tswitch( action.type ) {\r\n\t\tcase musicConstants.SET:\r\n\t\t\treturn {...state, url: action.url};\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n}\r\n","import { createStore, applyMiddleware, compose } from 'redux'\r\nimport thunkMiddleware from 'redux-thunk'\r\nimport { createLogger } from 'redux-logger'\r\nimport rootReducer from '../_reducers'\r\n\r\nconst loggerMiddleware = createLogger()\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose\r\nconst store = createStore(\r\n    rootReducer,\r\n    composeEnhancers(\r\n      applyMiddleware(\r\n          thunkMiddleware,\r\n          loggerMiddleware\r\n      )\r\n    )\r\n)\r\n\r\nexport { store }\r\n","export function authHeader () {\r\n    const user = JSON.parse(localStorage.getItem('user'))\r\n    return user && user.jwt ? {\r\n        'Authorization': 'Bearer ' + user.jwt\r\n    } : {}\r\n}\r\n","import axios from 'axios'\r\nimport { authHeader } from '../_helpers'\r\nimport apiValues from '../apiValues'\r\n\r\nconst baseURL = 'https://learning-tool-api.herokuapp.com'\r\nconst api  = axios.create({ baseURL })\r\n\r\nconst getAllBuilder = (routeName) => function getAll() {\r\n    // pegar rota\r\n    return api(\r\n      {\r\n        method: 'get',\r\n        url: `/${routeName.toLowerCase().replace(/_/g, '-')}`,\r\n        headers: authHeader()\r\n      })\r\n      .then(handleResponse)\r\n}\r\n\r\nconst getByIdBuilder = (routeName) => function getById(id){\r\n    return api(\r\n        {\r\n          method: 'get',\r\n          url: `/${routeName.toLowerCase().replace(/_/g, '-')}/${id}`,\r\n          headers: authHeader()\r\n        })\r\n        .then(handleResponse)\r\n}\r\n\r\nconst findBuilder = (routeName) => function find(data) {\r\n  return api(\r\n    {\r\n      method: 'get',\r\n      url: `/${routeName.toLowerCase().replace(/_/g, '-')}`,\r\n      headers: authHeader(),\r\n      query: data\r\n    })\r\n    .then(handleResponse)\r\n}\r\n\r\nconst createBuilder = (routeName) => function create(data) {\r\n    return api(\r\n      {\r\n        method: 'post',\r\n        url: `/${routeName.toLowerCase().replace(/_/g, '-')}`,\r\n        headers: authHeader(),\r\n        data: data\r\n      })\r\n      .then(handleResponse)\r\n}\r\n\r\nconst updateBuilder = (routeName) => function update(data){\r\n    return api(\r\n        {\r\n          method: 'put',\r\n          url: `/${routeName.toLowerCase().replace(/_/g, '-')}/${data.id}`,\r\n          headers:  {\r\n            ...authHeader(),\r\n          'Content-Type': 'application/json'\r\n          },\r\n          data: data\r\n        })\r\n        .then(handleResponse)\r\n}\r\n\r\nconst deleteBuilder = (routeName) => function _delete(id){\r\n    return api(\r\n        {\r\n          method: 'delete',\r\n          url: `/${routeName.toLowerCase().replace(/_/g, '-')}/${id}`,\r\n          headers: authHeader()\r\n        })\r\n        .then(handleResponse)\r\n}\r\n\r\nfunction handleResponse(response) {\r\n  if(response.status !== 200){\r\n      if(response.status === 401){\r\n          window.location.reload()\r\n      }\r\n      return Promise.reject(response.statusText)\r\n  }\r\n\r\n  return response.data\r\n}\r\n\r\nlet apiServices = {}\r\n\r\napiValues.map( apiDataType =>\r\n  apiServices[`${apiDataType}`] = {\r\n    getAll:  getAllBuilder(apiDataType),\r\n    getById: getByIdBuilder(apiDataType),\r\n    find:  findBuilder(apiDataType),\r\n    create:  createBuilder(apiDataType),\r\n    update:  updateBuilder(apiDataType),\r\n    delete:  deleteBuilder(apiDataType)\r\n})\r\n\r\nexport { apiServices, baseURL }\r\nexport default api\r\n","import { authHeader } from '../_helpers'\r\nimport api from './api.services'\r\n\r\nexport const userService = {\r\n    login,\r\n    logout,\r\n    register,\r\n    getAll,\r\n    getById,\r\n    find,\r\n    update,\r\n    delete: _delete,\r\n    getRoles\r\n}\r\n\r\nfunction login(email, password) {\r\n    return api(\r\n        {\r\n            method: 'post',\r\n            url: '/auth/local',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n            data: {\r\n                identifier: email,\r\n                password: password\r\n            }\r\n        })\r\n        .then(response => {\r\n          if(response.data.jwt){\r\n            localStorage.setItem('user',JSON.stringify(response.data))\r\n          }\r\n            \r\n          return response.data\r\n        })\r\n}\r\n\r\nfunction logout(){\r\n    localStorage.removeItem('user')\r\n}\r\n\r\nfunction getAll() {\r\n    // pegar rota\r\n    return api(\r\n      {\r\n        method: 'get',\r\n        url: '/users',\r\n        headers: authHeader()\r\n      })\r\n      .then(handleResponse)\r\n}\r\n\r\nfunction getById(id){\r\n    return api(\r\n        {\r\n          method: 'get',\r\n          url: `/users/${id}`,\r\n          headers: authHeader()\r\n        })\r\n        .then(handleResponse)\r\n}\r\n\r\nfunction find(data) {\r\n  return api(\r\n    {\r\n      method: 'get',\r\n      url: '/users',\r\n      headers: authHeader(),\r\n      query: data\r\n    })\r\n    .then(handleResponse)\r\n}\r\n\r\nfunction register(user) {\r\n    return api(\r\n        {\r\n          method: 'post',\r\n          url: '/auth/local/register',\r\n          headers: {\r\n            'Content-Type': 'application/json'\r\n            },\r\n          data: user,\r\n        })\r\n        .then(response => {\r\n          if(response.data.jwt){\r\n            localStorage.setItem('user',JSON.stringify(response.data))\r\n          }\r\n            \r\n          return response.data\r\n        })\r\n}\r\n\r\nfunction update(user){\r\n    // checar rotausers\r\n    return api(\r\n        {\r\n          method: 'put',\r\n          url: `/users/${user.id}`,\r\n          headers:  {\r\n            ...authHeader(),\r\n          'Content-Type': 'application/json'\r\n          },\r\n          data: user\r\n        })\r\n        .then(response => {\r\n          console.log(response)\r\n        })\r\n}\r\n\r\nfunction _delete(id){\r\n    return api(\r\n        {\r\n          method: 'delete',\r\n          url: `/users/${id}`,\r\n          headers: authHeader()\r\n        })\r\n        .then(handleResponse)\r\n}\r\n\r\nfunction getRoles(){\r\n  return api(\r\n    {\r\n      method: 'get',\r\n      url: '/users-permissions/roles',\r\n      headers: authHeader()\r\n    })\r\n    .then(handleResponse)\r\n}\r\n\r\nfunction handleResponse(response) {\r\n\r\n  if(response.status !== 200){\r\n      if(response.status === 401){\r\n          logout()\r\n          window.location.reload()\r\n      }\r\n\r\n      return Promise.reject(response.statusText)\r\n  }\r\n\r\n  return response.data\r\n}\r\n\r\n","import axios from 'axios'\r\nimport { authHeader } from '../_helpers'\r\n\r\nconst baseURL = 'https://learning-tool-api.herokuapp.com'\r\nconst api  = axios.create({ baseURL })\r\n\r\nconst getAll = (routeName) => {\r\n    // pegar rota\r\n    return api(\r\n      {\r\n        method: 'get',\r\n        url: `/game/${routeName}`,\r\n        headers: authHeader()\r\n      })\r\n      .then(handleResponse)\r\n}\r\n\r\nconst getById = (routeName,id) => {\r\n    return api(\r\n        {\r\n          method: 'get',\r\n          url: `/game/${routeName}/${id}`,\r\n          headers: authHeader()\r\n        })\r\n        .then(handleResponse)\r\n}\r\n\r\nconst find = (routeName,data) => {\r\n  return api(\r\n    {\r\n      method: 'get',\r\n      url: `/game/${routeName}`,\r\n      headers: authHeader(),\r\n      params: data\r\n    })\r\n    .then(handleResponse)\r\n}\r\n\r\nconst create = (routeName,data) => {\r\n    return api(\r\n      {\r\n        method: 'post',\r\n        url: `/game/${routeName}`,\r\n        headers: authHeader(),\r\n        params: data\r\n      })\r\n      .then(handleResponse)\r\n}\r\n\r\nconst update = (routeName,data) => {\r\n    return api(\r\n        {\r\n          method: 'put',\r\n          url: `/game/${routeName}/${data.id}`,\r\n          headers:  {\r\n            ...authHeader(),\r\n          'Content-Type': 'application/json'\r\n          },\r\n          params: data\r\n        })\r\n        .then(handleResponse)\r\n}\r\n\r\nconst _delete = (routeName,id) => {\r\n    return api(\r\n        {\r\n          method: 'delete',\r\n          url: `/game/${routeName}/${id}`,\r\n          headers: authHeader()\r\n        })\r\n        .then(handleResponse)\r\n}\r\n\r\nfunction handleResponse(response) {\r\n  if(response.status !== 200){\r\n      if(response.status === 401){\r\n          window.location.reload()\r\n      }\r\n      return Promise.reject(response.statusText)\r\n  }\r\n\r\n  return response.data\r\n}\r\n\r\nconst apiGameServices = {\r\n  getAll:   getAll,\r\n  getById:  getById,\r\n  find:     find,\r\n  create:   create,\r\n  update:   update,\r\n  delete:   _delete\r\n}\r\n\r\nexport { apiGameServices, baseURL }\r\nexport default api\r\n","import { userConstants } from '../_constants'\r\nimport { userService } from '../_services'\r\nimport { alertActions } from './'\r\n\r\nexport const userActions = {\r\n    getAll,\r\n    getById,\r\n    delete: _delete,\r\n    getRoles\r\n}\r\n\r\nexport const login = (email, password) => dispatch => {\r\n    dispatch(request({email}))\r\n\r\n    return userService.login(email, password)\r\n        .then(\r\n            user => {\r\n                dispatch(success(user))\r\n                return Promise.resolve()\r\n            },\r\n            error => {\r\n                dispatch(failure(error.toString()))\r\n                dispatch(alertActions.error(error.toString()))\r\n                return Promise.reject(error.response.data.data[0].messages[0].message)\r\n            }\r\n        )\r\n\r\n    function request(user) { return {type: userConstants.LOGIN_REQUEST, user} }\r\n    function success(user) { return {type: userConstants.LOGIN_SUCCESS, user} }\r\n    function failure(error) { return {type: userConstants.LOGIN_FAILURE, error} }\r\n}\r\n\r\nexport const logout = () => dispatch => {\r\n    userService.logout()\r\n    dispatch({type: userConstants.LOGOUT})                        \r\n}\r\n\r\nexport const register = (user) => dispatch => {\r\n    dispatch(request(user))\r\n\r\n    return userService.register(user)\r\n        .then(\r\n            user => {\r\n                dispatch(success())\r\n                return Promise.resolve()\r\n            },\r\n            error => {\r\n                dispatch(failure(error.toString()))\r\n                dispatch(alertActions.error(error.toString()))\r\n                return Promise.reject(error.response.data.data[0].messages[0].message)\r\n            }\r\n        )\r\n    function request(user) { return {type: userConstants.REGISTER_REQUEST, user} }\r\n    function success(user) { return {type: userConstants.REGISTER_SUCCESS, user} }\r\n    function failure(error) { return {type: userConstants.REGISTER_FAILURE, error} }\r\n}\r\n\r\nexport const update = (user) => dispatch => {\r\n    dispatch(request(user))\r\n\r\n    return userService.update(user)\r\n        .then(\r\n            user => {\r\n                dispatch(success())\r\n                return Promise.resolve()\r\n            },\r\n            error => {\r\n                dispatch(failure(error.toString()))\r\n                dispatch(alertActions.error(error.toString()))\r\n                return Promise.reject()\r\n            }\r\n        )\r\n\r\n    function request(user) { return {type: userConstants.UPDATE_REQUEST, user} }\r\n    function success(user) { return {type: userConstants.UPDATE_SUCCESS, user} }\r\n    function failure(error) { return {type: userConstants.UPDATE_FAILURE, error} }\r\n}\r\n\r\nfunction getAll(){\r\n    return dispatch => {\r\n        dispatch(request())\r\n\r\n        const r = userService.getAll()\r\n            r.then(\r\n                users => dispatch(success(users)),\r\n                error => dispatch(failure(error.toString()))\r\n            )\r\n    }\r\n\r\n    function request() { return {type: userConstants.GETALL_REQUEST} }\r\n    function success(users) { return {type: userConstants.GETALL_SUCCESS, users} }\r\n    function failure(error) { return {type: userConstants.GETALL_FAILURE, error} }\r\n}\r\n\r\nfunction getById(id){\r\n    return dispatch => {\r\n        dispatch(request())\r\n\r\n        userService.getById(id)\r\n            .then(\r\n                user => dispatch(success(user)),\r\n                error => dispatch(failure(error.toString()))\r\n            )\r\n    }\r\n\r\n    function request() { return {type: userConstants.GETBYID_REQUEST} }\r\n    function success(user) { return {type: userConstants.GETBYID_SUCCESS, user} }\r\n    function failure(error) { return {type: userConstants.GETBYID_FAILURE, error} }\r\n}\r\n\r\nfunction _delete(id){\r\n    return dispatch => {\r\n        dispatch(request(id))\r\n\r\n        userService.delete(id)\r\n            .then(\r\n                user => dispatch(success(id)),\r\n                error => dispatch(failure(id, error.toString()))\r\n            )\r\n    }\r\n\r\n    function request(id) { return {type: userConstants.DELETE_REQUEST, id} }\r\n    function success(id) { return {type: userConstants.DELETE_SUCCESS, id} }\r\n    function failure(id, error) { return {type: userConstants.DELETE_FAILURE, id, error} }\r\n}\r\n\r\nfunction getRoles(){\r\n    return dispatch => {\r\n        dispatch(request())\r\n\r\n        const r = userService.getRoles()\r\n            r.then(\r\n                users => dispatch(success(users)),\r\n                error => dispatch(failure(error.toString()))\r\n            )\r\n    }\r\n\r\n    function request() { return {type: userConstants.GETROLES_REQUEST} }\r\n    function success(users) { return {type: userConstants.GETROLES_SUCCESS, users} }\r\n    function failure(error) { return {type: userConstants.GETROLES_FAILURE, error} }\r\n}","import { headerConstants } from '../_constants'\r\n\r\nconst setTitle = (title) => {return {type: headerConstants.SET_TITLE, newTitle: title}};\r\nconst setSubtitle = (subtitle) => {return {type: headerConstants.SET_SUBTITLE, newSubtitle: subtitle}};\r\nconst setAll = (title, subtitle) => {return {type: headerConstants.SET_ALL, newTitle: title, newSubtitle: subtitle}};\r\n\r\nconst clearTitle = () => {return {type: headerConstants.CLEAR_TITLE}};\r\nconst clearSubtitle = () => {return {type: headerConstants.CLEAR_SUBTITLE}};\r\nconst clearAll = () => {return {type: headerConstants.CLEAR_ALL}};\r\n\r\nconst setState = (state) => {return {type: headerConstants.SET_STATE, newState: state}};\r\n\r\nexport const headerActions = {\r\n\tsetTitle,\r\n\tsetSubtitle,\r\n\tsetAll,\r\n\tclearTitle,\r\n\tclearSubtitle,\r\n\tclearAll,\r\n\tsetState\r\n}","import { gameConstants } from '../_constants'\r\nimport { apiGameServices } from '../_services'\r\n\r\nfunction requester(service, request, success, failure, route, payload){\r\n  return dispatch => {\r\n      dispatch(request(payload))\r\n\r\n      return service(route, payload)\r\n        .then(\r\n            data => {\r\n              dispatch(success(data))\r\n              return Promise.resolve()\r\n              },\r\n            error => {\r\n                dispatch(failure(error.toString()))\r\n\r\n                try {\r\n                  return Promise.reject(error.response.data.data[0].messages[0].message)\r\n                } catch{\r\n                  console.log(error)\r\n                }\r\n            }\r\n          )\r\n  }\r\n}\r\n\r\n//Could use some code refactory\r\nconst getAllConstructor = (service) => {\r\n  return function(route, ){\r\n    return requester(service.getAll, request, success, failure, route)\r\n\r\n    function request() { return { type: gameConstants.GETALL_REQUEST, info: route }}\r\n    function success(data) { return {type: gameConstants.GETALL_SUCCESS, info: route, data} }\r\n    function failure(error) { return {type: gameConstants.GETALL_FAILURE, info: route, error} }\r\n  }\r\n}\r\n\r\nconst getByIdConstructor = (service) => {\r\n  return function(route, id){\r\n    return requester(service.getById, request, success, failure, route, id)\r\n\r\n    function request() { return {type: gameConstants.GETBYID_REQUEST, info: route} }\r\n    function success(data) { return {type: gameConstants.GETBYID_SUCCESS, info: route, data} }\r\n    function failure(error) { return {type: gameConstants.GETBYID_FAILURE, info: route, error} }\r\n  }\r\n}\r\n\r\nconst findConstructor = (service) => {\r\n  return function(route, findData){\r\n    return requester(service.find, request, success, failure, route, findData)\r\n\r\n    function request() { return {type: gameConstants.FIND_REQUEST, info: route} }\r\n    function success(data) { return {type: gameConstants.FIND_SUCCESS, info: route, data} }\r\n    function failure(error) { return {type: gameConstants.FIND_FAILURE, info: route, error} }\r\n  }\r\n}\r\n\r\nconst createConstructor = (service) => {\r\n  return function(route, createData){\r\n    return requester(service.create, request, success, failure, route, createData)\r\n\r\n    function request(data) { return {type: gameConstants.CREATE_REQUEST, info: route, game: data}}\r\n    function success(data) { return {type: gameConstants.CREATE_SUCCESS, info: route, data} }\r\n    function failure(error) { return {type: gameConstants.CREATE_FAILURE, info: route, error} }\r\n  }\r\n}\r\n\r\nconst updateConstructor = (service) => {\r\n  return function(route, updateData){\r\n      return requester(service.update, request, success, failure, route, updateData)\r\n\r\n      function request(data) { return {type: gameConstants.UPDATE_REQUEST, info: route, game: data} }\r\n      function success(data) { return {type: gameConstants.UPDATE_SUCCESS, info: route, data} }\r\n      function failure(error) { return {type: gameConstants.UPDATE_FAILURE, info: route, error} }\r\n  }\r\n}\r\n\r\nconst deleteConstructor = (service) => {\r\n  return function(route, deleteData){\r\n    return requester(service.delete, request, success, failure, route, deleteData)\r\n\r\n    function request(data) { return {type: gameConstants.DELETE_REQUEST, info: route, game: data} }\r\n    function success(data) { return {type: gameConstants.DELETE_SUCCESS, info: route, id: data.id} }\r\n    function failure(error) { return {type: gameConstants.DELETE_FAILURE, info: route, error} }\r\n  }\r\n}\r\n\r\nlet gameActions = {\r\n  getAll:  getAllConstructor(apiGameServices),\r\n  getById: getByIdConstructor(apiGameServices),\r\n  find: findConstructor(apiGameServices),\r\n  create:  createConstructor(apiGameServices),\r\n  update:  updateConstructor(apiGameServices),\r\n  delete:  deleteConstructor(apiGameServices)\r\n}\r\n\r\n\r\nexport { gameActions }\r\n","import { apiConstants } from '../_constants'\r\nimport { apiServices } from '../_services'\r\nimport { gameActions } from './apiGame.actions'\r\n\r\nfunction requester(service, request, success, failure, payload){\r\n  return dispatch => {\r\n      dispatch(request(payload))\r\n\r\n      return service(payload)\r\n        .then(\r\n            data => {\r\n              dispatch(success(data))\r\n              return Promise.resolve()\r\n              },\r\n            error => {\r\n                dispatch(failure(error.toString()))\r\n\r\n                try {\r\n                  return Promise.reject(error.response.data.data[0].messages[0].message)\r\n                } catch{\r\n                  console.log(error)\r\n                }\r\n            }\r\n          )\r\n  }\r\n}\r\n\r\n//Could use some code refactory\r\nconst getAllConstructor = (service, apiDataType) => {\r\n  return function(){\r\n    return requester(service.getAll, request, success, failure)\r\n\r\n    function request() { return { type: apiConstants[apiDataType].GETALL_REQUEST }}\r\n    function success(data) { return {type: apiConstants[apiDataType].GETALL_SUCCESS, data} }\r\n    function failure(error) { return {type: apiConstants[apiDataType].GETALL_FAILURE, error} }\r\n  }\r\n}\r\n\r\nconst getByIdConstructor = (service, apiDataType) => {\r\n  return function(id){\r\n    return requester(service.getById, request, success, failure, id)\r\n\r\n    function request() { return {type: apiConstants[apiDataType].GETBYID_REQUEST} }\r\n    function success(data) { return {type: apiConstants[apiDataType].GETBYID_SUCCESS, data} }\r\n    function failure(error) { return {type: apiConstants[apiDataType].GETBYID_FAILURE, error} }\r\n  }\r\n}\r\n\r\nconst findConstructor = (service, apiDataType) => {\r\n  return function(findData){\r\n    return requester(service.find, request, success, failure, findData)\r\n\r\n    function request() { return {type: apiConstants[apiDataType].FIND_REQUEST} }\r\n    function success(data) { return {type: apiConstants[apiDataType].FIND_SUCCESS, data} }\r\n    function failure(error) { return {type: apiConstants[apiDataType].FIND_FAILURE, error} }\r\n  }\r\n}\r\n\r\nconst createConstructor = (service, apiDataType) => {\r\n  return function(createData){\r\n    return requester(service.create, request, success, failure, createData)\r\n\r\n    function request(data) { return {type: apiConstants[apiDataType].CREATE_REQUEST, [apiDataType]: data}}\r\n    function success(data) { return {type: apiConstants[apiDataType].CREATE_SUCCESS, data} }\r\n    function failure(error) { return {type: apiConstants[apiDataType].CREATE_FAILURE, error} }\r\n  }\r\n}\r\n\r\nconst updateConstructor = (service, apiDataType) => {\r\n  return function(updateData){\r\n      return requester(service.update, request, success, failure, updateData)\r\n\r\n      function request(data) { return {type: apiConstants[apiDataType].UPDATE_REQUEST, [apiDataType]: data} }\r\n      function success(data) { return {type: apiConstants[apiDataType].UPDATE_SUCCESS, data} }\r\n      function failure(error) { return {type: apiConstants[apiDataType].UPDATE_FAILURE, error} }\r\n  }\r\n}\r\n\r\nconst deleteConstructor = (service, apiDataType) => {\r\n  return function(deleteData){\r\n    return requester(service.delete, request, success, failure, deleteData)\r\n\r\n    function request(data) { return {type: apiConstants[apiDataType].DELETE_REQUEST, [apiDataType]: data} }\r\n    function success(data) { return {type: apiConstants[apiDataType].DELETE_SUCCESS, id: data.id} }\r\n    function failure(error) { return {type: apiConstants[apiDataType].DELETE_FAILURE, error} }\r\n  }\r\n}\r\n\r\nlet apiActions = {}\r\nObject.keys(apiConstants).forEach( (apiDataType) => {\r\n  apiActions[`${apiDataType.toLowerCase()}Actions`] = {\r\n    getAll:  getAllConstructor(apiServices[apiDataType], apiDataType),\r\n    getById: getByIdConstructor(apiServices[apiDataType], apiDataType),\r\n    find: findConstructor(apiServices[apiDataType],\r\n    apiDataType),\r\n    create:  createConstructor(apiServices[apiDataType], apiDataType),\r\n    update:  updateConstructor(apiServices[apiDataType], apiDataType),\r\n    delete:  deleteConstructor(apiServices[apiDataType], apiDataType)\r\n  }\r\n})\r\n\r\nexport { apiActions, gameActions }\r\n","import { musicConstants } from '../_constants'\r\n\r\nconst set = (music) => { return { type: musicConstants.SET, url: music } }\r\n\r\nexport const musicActions = \r\n{\r\n  set\r\n}\r\n","import React from 'react'\r\nimport avatar from '../../img/avatar1.svg'\r\nimport home from '../../img/i-home.svg'\r\nimport notifications from '../../img/i-notification.svg'\r\nimport settings from '../../img/i-settings.svg'\r\nimport { logout } from '../../_actions'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { useAlert } from 'react-alert';\r\nimport Button from '@material-ui/core/Button'\r\n\r\nconst UserHeader = ({pageInfo}) => {\r\n\tlet headerInfo = useSelector(state => state.header)\r\n    const [state, setState] = React.useState( {view: 'default'} );\r\n\tconst dispatch = useDispatch()\r\n\tconst alert = useAlert()\r\n\r\n\tconst clickProfile = () => {\r\n\t\tsetState({...state, view: 'profile'});\r\n\t\talert.show(\"Vc achou onde faz para abrir o seu perfil! \\n\\n Ending 3/15\");\r\n\t}\r\n\r\n\tconst clickHome = () => {\r\n\t\tsetState({...state, view: 'home'});\r\n\t\talert.show(\"Vc achou onde faz para voltar ao início! \\n\\n Ending 1/15\");\r\n\t}\r\n\r\n\tconst clickNotif = () => {\r\n\t\tsetState({...state, view: 'notif'});\r\n\t\talert.show(\"Vc achou onde faz para ver suas notificações! \\n\\n Ending 7/15\");\r\n\t}\r\n\r\n\tconst clickSettings = () => {\r\n\t\tsetState({...state, view: 'settings'});\r\n\t\talert.show(\"Vc achou onde faz para abrir suas configurações! \\n\\n Ending 8/15\");\r\n\t}\r\n\r\n\treturn (\r\n\t\t<header id=\"app-header\" className={ headerInfo.state.toLowerCase() }>\r\n\t\t\t<div className=\"group-btns\" id=\"left-btns\">\r\n\t\t\t\t<div className=\"header-btn\" id=\"home-btn\" onClick={clickHome}><img src={home} alt=\"Home\"></img></div>\r\n\t\t\t\t<div className=\"header-btn\" id=\"notif-btn\" onClick={clickNotif}><img src={notifications} alt=\"Notifications\"></img></div>\r\n\t\t\t\t<div className=\"header-btn\" id=\"settings-btn\" onClick={clickSettings}><img src={settings} alt=\"Settings\"></img></div>\r\n\t\t\t</div>\r\n\t\t\t<div id=\"pageTitle\">\r\n\t\t\t\t<div id=\"mainTitle\">{headerInfo.title}</div>\r\n\t\t\t\t<div id=\"subTitle\">{headerInfo.subtitle}</div>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"group-btns\" id=\"right-btns\">\r\n\t\t\t\t<div id=\"profilePic\" onClick={clickProfile}><img src={avatar} alt=\"Profile_Picture\"/></div>\r\n\t\t\t\t<div className=\"header-btn\" id=\"logout-btn\" onClick={() => {dispatch(logout())}}>Logout</div>\r\n\t\t\t</div>\r\n\t\t\t{/* style provisório para teste*/}\r\n\t\t\t{ state.view === 'settings' &&\r\n\t\t\t\t<div className='ConfigPopUp' style={{position: 'absolute', backgroundColor: '#ddddee', top: 100, margin: '0 auto', width: '50%', height: 500}}>\r\n\t\t\t\t\tConfigurações\r\n\t\t\t\t\t<Button>Config 1</Button>\r\n\t\t\t\t\t<Button>Config 2</Button>\r\n\t\t\t\t\t<Button>Config 3</Button>\r\n\t\t\t\t\t<Button onClick={() => setState({...state, view: 'default'})}>X</Button>\r\n\t\t\t\t</div>\r\n\t\t\t}\r\n\t\t</header>\r\n\t)\r\n\t/**/\r\n}\r\n\r\nexport default UserHeader\r\n","import React from 'react'\r\n\r\nconst DefaultHeader = ({pageInfo}) => {\r\n\r\n\treturn (\r\n\t\t<header id=\"app-header\" className=\"normal\">\r\n\t\t\t<div className=\"group-btns\">\r\n\t\t\t\t<div className=\"header-btn\">Home</div>\r\n\t\t\t\t<div className=\"header-btn\">About</div>\r\n\t\t\t</div>\r\n\t\t</header>\r\n\t)\r\n\t\r\n}\r\n\r\nexport default DefaultHeader","import './index.scss'\r\nimport React from 'react'\r\nimport UserHeader from '../UserHeader'\r\nimport DefaultHeader from '../DefaultHeader'\r\n\r\nconst AppHeader = ({props}) => {\r\n\treturn props.isLogged ? <UserHeader pageInfo={props} /> : <DefaultHeader />\r\n}\r\n\r\nexport default AppHeader","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport { Link, Redirect } from 'react-router-dom'\r\nimport './index.scss'\r\n\r\nconst Home = () => {\r\n  const isLogged = useSelector(state => state.authentication.loggedIn)\r\n\r\n  if( isLogged ) return (<Redirect to={'/userspace'}/>)\r\n  else return(\r\n    <div id=\"message\">\r\n      Aqui é a home. Nada muito interessante aqui. Se quiser fazer login:\r\n      <Link to='/login' className=\"btn-normal\">Login</Link>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Home\r\n","import React from 'react'\r\nimport './index.scss'\r\n\r\nconst Init = ({icon, name, description, nameTranslate = \"Name\", descriptionTranslate = \"Description\", onStart, onBack, ready}) => {\r\n    return (\r\n        <div className=\"main-init-wrapper\">\r\n          <div className=\"inner-content\">\r\n            <div name=\"infos\">\r\n              <img className=\"classImage\" src={icon} alt=\"\"/>\r\n              <h1 className=\"margin-half-top type-l type-display type-center\">{name}</h1>\r\n              <h1 className=\"type-m type-display type-center subtitle\">{nameTranslate}</h1>\r\n\r\n              <h2 className=\"margin-half-top type-s type-center description\">{description}</h2>\r\n              <h2 className=\"type-s type-center subdescription\">{descriptionTranslate}</h2>\r\n            </div>\r\n            \r\n            <div id=\"btns\">\r\n              { onBack && <button className=\"btn btn-center\" id=\"btn-back\" onClick={onBack}>Voltar</button> }\r\n              { ready && onStart && <button className=\"btn btn-center\" id=\"btn-start\" onClick={onStart}>Iniciar</button> }\r\n            </div>\r\n          </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Init\r\n","import React from 'react'\r\nimport './index.scss'\r\n\r\nconst Result = ({gameEndState}) => {\r\n    return (\r\n        <div>\r\n            {/* Não era pra a gente precisar checar se a string é null, pq era pra isso\r\n            só aparecer quando já tivesse um valor na string... WTF */}\r\n            { gameEndState ? gameEndState.split('\\n').map( str => <p>{str}</p>) : null}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Result\r\n","import React from 'react'\r\nimport './index.scss'\r\n\r\nconst RoomSelect = ({value, buttonList, onChange, showInBtnFormat = true}) => {\r\n\tconst [state, setState] = React.useState(0)\r\n\r\n\tconst buttonClick = (num) => () => {\r\n\t\tif(onChange) {\r\n\t\t\tonChange(num)\r\n\t\t\tsetState(num)\r\n\t\t}\r\n\t}\r\n\r\n\tReact.useEffect(() => {\r\n\t\tif(value) setState(value)\r\n\t}, [value])\r\n\r\n\tif( showInBtnFormat ) {\r\n\t\treturn (\r\n\t\t\t<div id=\"RoomSelect\">\r\n\t\t\t\t<div className=\"section-title\">\r\n\t\t\t\t\t<span lang=\"pt-br\">Salas</span>\r\n\t\t\t\t\t<span lang=\"en\">Rooms</span>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div id=\"button-rows\">\r\n\t\t\t\t\t{buttonList.map( (name, index) =>\r\n\t\t\t\t\t\t<button className={\"RoomBtn\" + (onChange ? \"\" : \" disabled\")} key={index}\r\n\t\t\t\t\t\tid={ state === index ? \"selected\" : \"\" }\r\n\t\t\t\t\t\tonClick={buttonClick(index)}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{index+1}\r\n\t\t\t\t\t\t</button> )}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t)\r\n\t} else {\r\n\t\treturn (\r\n\t\t\t<div id=\"RoomSelect\">\r\n\t\t\t\t<div className=\"section-title\">\r\n\t\t\t\t\t<span lang=\"pt-br\">Sala {state + 1}/{buttonList.length}</span>\r\n\t\t\t\t\t<span lang=\"en\">Room {state + 1}/{buttonList.length}</span>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t)\r\n\t}\r\n}\r\n\r\nexport default RoomSelect\r\n","import React from 'react'\r\nimport './sala.scss'\r\n\r\nconst Sala = ({children, roomData, setCurrentChar}) => {\r\n\r\n  const img = roomData && roomData.background.url ? roomData.background.url : \"\"\r\n  return (\r\n      // <div id=\"sala\" style={{backgroundImage: `url(\"${img}\")`}}>\r\n      <div id=\"sala\">\r\n        <img src={img} alt=\"\" />\r\n        <div id=\"sala-content\">\r\n          {children}\r\n        </div>\r\n      </div>\r\n  )\r\n}\r\n\r\nexport default Sala\r\n","import React from 'react'\r\nimport './character.scss'\r\n\r\nconst Character = ({zDepth, character, dragPosition, position, onClick, showNameOnHover}) => {\r\n    return (\r\n    <div className=\"CharDiv\" onClick={onClick} style={{\"--z\": zDepth}}>\r\n        <img src={character.characterAssets.length > 0 ? character.characterAssets.find(asset => asset.bodyPart === 'fullbody'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t).image.url : \"\"} alt={`${character.name}`}/>\r\n        {showNameOnHover && <div>{character.name}</div>}\r\n    </div>\r\n    )\r\n}\r\n\r\nexport default Character\r\n","const initialValue = () => ({\r\n  //METADATA\r\n  back: false,\r\n  //GAME STATE\r\n  scene: \"INIT\",\r\n  endGame: false,\r\n  currentLocationIndex: 0,\r\n  locations: [],\r\n  jobs: [],\r\n  countries: [],\r\n  names: [],\r\n  contactsTemplate: [],\r\n  contactsAtSession: [],\r\n  dialogs: {},\r\n  questionsAsked: 0,\r\n  result: 0,\r\n  totalFields: 0,\r\n  mainError: [],\r\n  feedback: {},\r\n  //DIALOG\r\n  dialogHistory: [],\r\n  answers: [],\r\n  preSpeech: [],\r\n  currentChar: null,\r\n  characterFeeling: \"init\",\r\n  showContacts: false,\r\n  maxQuestions: 4,\r\n  // onMinimize: null,\r\n  shouldMinimize: false,\r\n  shouldCloseDialog: false,\r\n  wrongContacts: 0,\r\n});\r\n\r\nexport default initialValue;\r\n","const initialValue = [\r\n    {\r\n        question: 'Oi!',\r\n        answers: 'Oi! Tudo bem?',\r\n    },\r\n    {\r\n        question: 'Olá!',\r\n        answers: 'Oi! Como vai?',\r\n    },\r\n    {\r\n        question: 'E aí?',\r\n        answers: 'Opa, beleza?',\r\n    },\r\n    {\r\n        question: 'Até mais!',\r\n        answers: 'Já vai...?',\r\n    },\r\n    {\r\n        question: 'Tchau!',\r\n        answers: 'Tudo certo contigo...?',\r\n    },\r\n]\r\n\r\n\r\nexport default initialValue","const stub = {\r\n  name: 'Stub mission',\r\n  description: 'Local stub mission for tests',\r\n  locations: [\r\n    {name: 'sala', backgroundAssets: []},\r\n    {name: 'cozinha', backgroundAssets: []},\r\n    {name: 'biblioteca', backgroundAssets: []},\r\n    {name: 'escritório', backgroundAssets: []}],\r\n  characters: [\r\n    {\r\n      name: 'Joao', characterAssets: [],\r\n      answers: [\r\n        {\r\n          answer: 'oi',\r\n          question: {question: \"oi?\"}\r\n        },\r\n        {\r\n          answer: 'turusim',\r\n          question: {question: \"turubem?\"}\r\n        },\r\n\r\n        {\r\n          answer: 'kiésim',\r\n          question: {question: \"cumékié?\"}\r\n        }\r\n      ]\r\n    },\r\n    {name: 'Pedro', characterAssets: [], answers: [{question: {question: \"oi?\"}}]},\r\n    {name: 'Marta', characterAssets: [], answers: [{question: {question: \"oi?\"}}]},\r\n    {name: 'Suzane', characterAssets: [], answers: [{question: {question: \"oi?\"}}]},\r\n    {name: 'Maria', characterAssets: [], answers: [{question: {question: \"oi?\"}}]},\r\n    {name: 'Pablo', characterAssets: [], answers: [{question: {question: \"oi?\"}}]},\r\n  ]\r\n}\r\n\r\nexport default stub\r\n","import React from 'react'\r\n\r\nconst Dropdown = ({style, defaultText, onChange, label, optionList, value}) => {\r\n\r\n  return(\r\n    <div className={label}>\r\n      <p>{label}</p>\r\n      <select style={style} value={value} onChange={onChange}>\r\n          <option value='' key={-1} disabled>{defaultText ?? label.toLowerCase()}</option>\r\n        {optionList?.map((option, index) =>\r\n          <option value={option} key={index}>{option}</option>\r\n        )}\r\n      </select>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Dropdown\r\n","export default __webpack_public_path__ + \"static/media/Celular Sala.f026f530.svg\";","export default __webpack_public_path__ + \"static/media/Celular Base.794704d0.svg\";","export default __webpack_public_path__ + \"static/media/Mão dedão.60615287.svg\";","export default __webpack_public_path__ + \"static/media/Mão palma.ff873eea.svg\";","import React from 'react'\r\n\r\nimport './index.scss'\r\n\r\n/**\r\n * Cria um novo contexto de renderização de página inteira com fundo branco semitransparente\r\n * @param  {Object} props\r\n * @param  {Object | Object[]} props.children\t\t\t\t\t\t\tElementos a serem renderizados\r\n * @param  {boolean} [props.showCloseBtn]\t\t\t\t\t\t\t\tDevo mostrar o botão de fechar?\r\n * @param  {boolean} [props.shouldExit]\t\t\t\t\t\t\t\t\tDevo fechar? Se verdadeiro, inicia animação de fechamento\r\n * @param  {() => void} [props.onClickClose]\t\t\t\t\t\t\tCallback para quando clicam no botão de fechar\r\n * @param  {(event) => void} [props.onReadyToExit]\t\t\t\t\t\tCallback para quando terminei de fechar\r\n * @param  {{r:number, g:number, b:number, a:number}} [props.bgRGBA]\tCor (formato da função rgba()) do fundo desse novo contexto. default é r:255, g:255, b:255, a:0.73\r\n * @param  {{r:number, g:number, b:number}} [props.closeRGB]\t\t\tCor (formato da função rgba()) do botão de fechar desse novo contexto. default é r:255, g:255, b:255, a:0.73\r\n * @param  {{r:number, g:number, b:number}} [props.closeHoverRGB]\t\tCor (formato da função rgba()) do botão de fechar quanto em hover desse novo contexto. default é r:255, g:255, b:255, a:0.73\r\n */\r\nconst FullscreenOverlay = ({\r\n\t\tchildren,\r\n\t\tshowCloseBtn = true,\r\n\t\tshouldExit = false,\r\n\t\tonClickClose,\r\n\t\tonReadyToExit,\r\n\t\tbgRGBA = {},\r\n\t\tcloseRGB = {},\r\n\t\tcloseHoverRGB = {},\r\n\t\tstyle = {}\r\n\t}) => {\r\n\r\n\tif( showCloseBtn && onClickClose == null ) throw Error(\"Invalid callback for click on close button.\")\r\n\tif( shouldExit && onReadyToExit == null ) throw Error(\"Invalid callback for when finishing the exit animation.\")\r\n\r\n\tconst _readyToExit = (event) => {\r\n\t\tif ( event.target === event.currentTarget ) onReadyToExit(event)\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div id=\"fullscreen-overlay\"\r\n\t\t\t className={shouldExit ? \"ExitAnim\" : null}\r\n\t\t\t onAnimationEnd={shouldExit ? _readyToExit : null}\r\n\t\t\t style={{...style, '--bgR': bgRGBA.r ?? 255, '--bgG': bgRGBA.g ?? 255, '--bgB': bgRGBA.b ?? 255, '--bgA': bgRGBA.a ?? 0.73}}\r\n\t\t>\r\n\t\t\t{children}\r\n\t\t\t{showCloseBtn &&\r\n\t\t\t\t<div\r\n\t\t\t\t\tid=\"fullscreen-overlay-close-btn\"\r\n\t\t\t\t\tonClick={onClickClose}\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t'--closeR': closeRGB.r ?? 89,\r\n\t\t\t\t\t\t'--closeG': closeRGB.g ?? 49,\r\n\t\t\t\t\t\t'--closeB': closeRGB.b ?? 109,\r\n\t\t\t\t\t\t'--closeHoverR': closeHoverRGB.r ?? 249,\r\n\t\t\t\t\t\t'--closeHoverG': closeHoverRGB.g ?? 175,\r\n\t\t\t\t\t\t'--closeHoverB': closeHoverRGB.b ?? 161\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<span>×</span>\r\n\t\t\t\t</div>\r\n\t\t\t}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default FullscreenOverlay\r\n","import React from 'react'\r\nimport Dropdown from '../Dropdown'\r\n\r\nimport smallPhone from '../../../../img/Game1/Celular Sala.svg'\r\nimport bigPhone from '../../../../img/Game1/Celular Base.svg'\r\nimport dedao from '../../../../img/Game1/Mão dedão.svg'\r\nimport palma from '../../../../img/Game1/Mão palma.svg'\r\n\r\nimport './index.scss'\r\nimport FullscreenOverlay from '../../../Game2/components/FullscreenOverlay'\r\n\r\n\r\n// const Phone = ({children, modifyContact, contactsTemplate, contacts, jobs, countries, onAddContact, onFinish, onMinimize}) => {\r\nconst Phone = ({ children, modifyContact, contactsTemplate, names, contacts, jobs, countries, onAddContact, onFinish, shouldMinimize, onMinimize }) => {\r\n\tconst [state, setState] = React.useState({ maximized: false, shouldMinimize: false })\r\n\t// const [newContact,setNewContact] = React.useState({name: '', job: '', country: ''})\r\n\r\n\tReact.useEffect(() => {\r\n\t\tsetState({ ...state, contacts: contacts })\r\n\t\t//eslint-disable-next-line\r\n\t}, [contacts])\r\n\r\n\tReact.useEffect(() => {\r\n\t\tif (shouldMinimize) _shouldMinimize()\r\n\t\t//eslint-disable-next-line\r\n\t}, [shouldMinimize])\r\n\r\n\t// React.useEffect( () => {\r\n\t// \tif(onMinimize) _shouldMinimize()\r\n\t// \t//eslint-disable-next-line\r\n\t// }, [onMinimize])\r\n\r\n\tconst _maximize = () => {\r\n\t\tsetState({ ...state, maximized: true })\r\n\t}\r\n\r\n\tconst _shouldMinimize = () => {\r\n\t\tsetState({ ...state, shouldMinimize: true })\r\n\t}\r\n\r\n\tconst _minimized = () => {\r\n\t\t// setState({...state, shouldMinimize: false, maximized: false})\r\n\t\tstate.shouldMinimize = false\r\n\t\tstate.maximized = false\r\n\t\tif (typeof (onMinimize) === \"function\") onMinimize()\r\n\t}\r\n\r\n\t// const _addContato = () => {\r\n\t// \tif(onAddContact) onAddContact(newContact)\r\n\t// \telse throw new Error(\"Using phone without callback: onAddContact\")\r\n\t// \tsetNewContact({name: '', job: '', country: ''})\r\n\t// }\r\n\r\n\tconst _terminou = () => {\r\n\t\tif (typeof (onFinish) === \"function\") onFinish()\r\n\t\telse console.log(\"onFinish not set or is not a function\")\r\n\t}\r\n\r\n\tconst _contatoTemplate = (contact, key) => {\r\n\t\treturn (\r\n\t\t\t<div className=\"contato\" key={key}>\r\n\t\t\t\t<div className=\"contact-profile-pic\">\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<div></div>\r\n\t\t\t\t\t\t<div></div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<span>{key + 1}</span>\r\n\t\t\t\t</div>\r\n\t\t\t\t{\r\n\t\t\t\t\tcontact.showName ? \r\n\t\t\t\t\t<div className=\"Nome\">\r\n\t\t\t\t\t\t<p>Nome</p>\r\n\t\t\t\t\t\t<div className=\"phone-text-field\">{contact.name}</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t: \r\n\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t// style={ contact.job === contactsTemplate?.find( template => template?.id === contact.id).job? {backgroundColor: '#cceecc'} : {}}\r\n\t\t\t\t\t\tonChange={e => modifyContact({ ...contact, name: e.target.value })}\r\n\t\t\t\t\t\tlabel={\"Nome\"}\r\n\t\t\t\t\t\tvalue={contact.name}\r\n\t\t\t\t\t\toptionList={names}\r\n\t\t\t\t\t/> \r\n\t\t\t\t}\r\n\r\n\t\t\t\t{\r\n\t\t\t\t\tcontact.showJob ? \r\n\t\t\t\t\t<div className=\"Profissão\">\r\n\t\t\t\t\t\t<p>Profissão</p>\r\n\t\t\t\t\t\t<div className=\"phone-text-field\">{contact.job}</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t:\r\n\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t// style={ contact.job === contactsTemplate?.find( template => template?.id === contact.id).job? {backgroundColor: '#cceecc'} : {}}\r\n\t\t\t\t\t\tonChange={e => modifyContact({ ...contact, job: e.target.value })}\r\n\t\t\t\t\t\tlabel={\"Profissão\"}\r\n\t\t\t\t\t\tvalue={contact.job}\r\n\t\t\t\t\t\toptionList={jobs}\r\n\t\t\t\t\t/> \r\n\t\t\t\t}\r\n\r\n\t\t\t\t{\r\n\t\t\t\t\tcontact.showCountry ?  \r\n\t\t\t\t\t<div className=\"País\">\r\n\t\t\t\t\t\t<p>País</p>\r\n\t\t\t\t\t\t<div className=\"phone-text-field\">{contact.country}</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t:\r\n\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t// style={ contact.country === contactsTemplate?.find( template => template?.id === contact.id).country? {backgroundColor: '#cceecc'} : {}}\r\n\t\t\t\t\t\tonChange={e => modifyContact({ ...contact, country: e.target.value })}\r\n\t\t\t\t\t\tlabel={\"País\"}\r\n\t\t\t\t\t\tvalue={contact.country}\r\n\t\t\t\t\t\toptionList={countries}\r\n\t\t\t\t\t/> \r\n\t\t\t\t}\t\t\t\t\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div id=\"phone\">\r\n\t\t\t<div id=\"small-phone-wrapper\" className={state.maximized ? \"maximized\" : null}>\r\n\t\t\t\t<div id=\"small-phone-inner-wrapper\">\r\n\t\t\t\t\t<div id=\"small-phone-content\" onClick={_maximize}>\r\n\t\t\t\t\t\t<div id=\"small-phone-floating-text\">\r\n\t\t\t\t\t\t\t<span lang=\"pt-br\">Adicione um novo contato</span>\r\n\t\t\t\t\t\t\t<span lang=\"default\">Add a new contact</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<img src={smallPhone} alt=\"\" />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t{state.maximized &&\r\n\t\t\t\t<FullscreenOverlay\r\n\t\t\t\t\tbgRGBA={{ r: 249, g: 175, b: 161, a: 0.69 }}\r\n\t\t\t\t\tcloseHoverRGB={{ r: 255, g: 255, b: 255 }}\r\n\t\t\t\t\tonClickClose={_shouldMinimize}\r\n\t\t\t\t\tshouldExit={state.shouldMinimize}\r\n\t\t\t\t\tonReadyToExit={_minimized}\r\n\t\t\t\t>\r\n\t\t\t\t\t<div id=\"big-phone-wrapper\" className={state.shouldMinimize ? \"minimizing\" : null}>\r\n\t\t\t\t\t\t<div id=\"big-phone-imgs\">\r\n\t\t\t\t\t\t\t<img src={palma} alt=\"\" />\r\n\t\t\t\t\t\t\t<img src={bigPhone} alt=\"\" />\r\n\t\t\t\t\t\t\t<img src={dedao} alt=\"\" />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div id=\"big-phone-screen-wrapper\">\r\n\t\t\t\t\t\t\t<div id=\"big-phone-screen-content\">\r\n\t\t\t\t\t\t\t\t<p>Lista de contatos</p>\r\n\t\t\t\t\t\t\t\t<div id=\"lista-contatos\">\r\n\t\t\t\t\t\t\t\t\t{contacts?.map((contact, index) => {\r\n\t\t\t\t\t\t\t\t\t\treturn _contatoTemplate(contact, index)\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t{/* <div id=\"add-contato\" className=\"contato\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"contact-profile-pic\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div></div>\r\n\t\t\t\t\t\t\t\t\t\t\t<span><strong>+</strong></span>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"Nome\">\r\n\t\t\t\t\t\t\t\t\t\t\t<p>Nome</p>\r\n\t\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tname=\"nome\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Nome do contato\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={newContact.name}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={(event)=>setNewContact({...newContact, name: event.target.value})}/>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\t\t\t\t\tlabel={\"Profissão\"}\r\n\t\t\t\t\t\t\t\t\t\t\toptionList={jobs}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={newContact.job}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={(event)=>setNewContact({...newContact, job: event.target.value})}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\t\t\t\t\tlabel={\"País\"}\r\n\t\t\t\t\t\t\t\t\t\t\toptionList={countries}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={newContact.country}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={(event)=>setNewContact({...newContact, country: event.target.value})}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\tid=\"btn-add-contato\"\r\n\t\t\t\t\t\t\t\t\t\t\tclassName={!(newContact.name && newContact.job && newContact.country) ? \"disabled\" : \"enabled\"}\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={addContato}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\tAdicionar contato\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div> */}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{/* <div id=\"btn-terminei\" onClick={() => setState({...state, changeRoomPopUp: true})}> */}\r\n\t\t\t\t\t\t<div id=\"btn-terminei-wrapper\">\r\n\t\t\t\t\t\t\t<div id=\"btn-terminei\" onClick={_terminou} style={{\r\n\t\t\t\t\t\t\t\tdisplay: contacts.filter(contact => (contact.job === '' || contact.country === '' || contact.name === '')).length > 0 ? 'none' : 'block'\r\n\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\tTerminei!\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</FullscreenOverlay>\r\n\t\t\t}\r\n\t\t</div>\r\n\t)\r\n}\r\nexport default Phone\r\n","import React from 'react'\r\n\r\nconst Menu = ({ buttonList, onButtonClick }) => {\r\n  return (\r\n    <div id='Menu'>\r\n      <div id=\"menu-options\">\r\n        <span style={{\r\n          color: \"#FFF\",\r\n          backgroundColor: \"transparent !important\",\r\n          fontSize: \"3rem\"\r\n        }}></span>\r\n        {buttonList.map((button, index) =>\r\n          <button key={index} onClick={() => { onButtonClick(button) }} disabled={button.hasOwnProperty('active') ? !button.active : false}><span>{button.question}</span></button>\r\n        )}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Menu\r\n","import React from 'react'\r\n\r\nconst DialogCharacter = ({character, feeling}) => {\r\n  let characterImg = \"\"\r\n\r\n  if( !(character == null) ) {\r\n    if( character.characterAssets.length > 0 ) {\r\n      characterImg = character.characterAssets\r\n        .find(asset => asset.bodyPart === 'upperBody' && asset.type === feeling)\r\n        .image.url\r\n    }\r\n  }\r\n\r\n  return(\r\n    <div id='CharacterPortrait'>\r\n      {<img src={characterImg} alt=\"Character Portrait\" />}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default DialogCharacter\r\n","import React from 'react'\r\nimport './index.scss'\r\n\r\nconst DialogHistory = ({dialogHistory}) => {\r\n\treturn(\r\n\t\t<div id='dialog-history-wrapper'>\r\n\t\t\t<div id='dialog-history-content'>\r\n\t\t\t\t{dialogHistory.map((dialog, index)=>\r\n\t\t\t\t\t<div className={\"mensagem\" + (dialog.speaker==='player'? 0 : 1) } key={index}>{dialog.text}</div>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default DialogHistory\r\n","import React from 'react'\r\n/**\r\n * Componente para escrita de texto caracter a caracter\r\n * \r\n * @param  {Object} props\r\n * @param  {string} props.text\t\t\t\tTexto a ser escrito caracter por caracter\r\n * @param  {number} props.characterTime\t\tDelay, em milissegundos, entre cada caracter\r\n * @param  {() => void} props.onWritten\t\tCallback para quando terminou de escrever\r\n * @param  {number} props.afterWrittenTime\tDelay, em milissegundos, antes de avisar que terminou de escrever\r\n */\r\nconst Writer = ({text, characterTime, onWritten, afterWrittenTime}) => {\r\n\tconst [state, setState] = React.useState({text: text, index: 0})\r\n\r\n\tReact.useEffect( () => {\r\n\tif( text !== state.text )\r\n\t\tsetState( () => ({text: text, index: 0}))\r\n\t}, [text, state.text] )\r\n\r\n\tReact.useEffect( () => {\r\n\t\tlet timeoutID\r\n\t\tif( state.index < state.text.length ) {\r\n\t\t\ttimeoutID = setTimeout( () => { setState({...state, index: state.index + 1}) }, characterTime)\r\n\t\t} else {\r\n\t\t\ttimeoutID = setTimeout( onWritten, afterWrittenTime )\r\n\t\t}\r\n\t\treturn () => {clearTimeout(timeoutID)}\r\n\t})\r\n\r\n\treturn(\r\n\t\t<div id=\"Writer\">\r\n\t\t\t{ state.text.substring(0, state.index) }\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default Writer\r\n","import Menu from '../Menu'\r\nimport React from 'react'\r\nimport DialogCharacter from '../DialogCharacter'\r\nimport DialogHistory from '../DialogHistory'\r\nimport FullscreenOverlay from '../FullscreenOverlay'\r\nimport Writer from '../Writer'\r\n\r\nimport './index.scss'\r\n\r\n/**\r\n * Elemento para renderização de uma conversa com algum NPC, estilo graphic novel.\r\n * \r\n * @param  {Object} props\r\n * @param  {Object | Object[]} [props.children]\r\n *\t\t\tElementos extras a serem renderizados no mesmo contexto\r\n * @param  {boolean} [props.shouldExit]\r\n *\t\t\tDevo fechar? Se verdadeiro, inicia animação de fechamento\r\n * @param  {boolean} [props.showDialogHistory]\r\n *\t\t\tO histórico da conversa deve ser mostrado?\r\n * @param  {(dialogHistory)=>void} [props.onClearDialogHistory]\r\n *\t\t\tEnquanto este campo não for null, limparei meu histórico e chamarei esse callback a cada limpeza\r\n * @param  {boolean} [props.callAfterWritterForEveryMsg]\r\n *\t\t\tSe verdadeiro, chamarei a callback afterWritter ao final de cada mensagem, mesmo no caso de múltiplas mensagens consecutivas\r\n * @param  {number} [props.msPerCharacter]\r\n *\t\t\tDelay, em milissegundos, entre cada caracter da exibição da resposta\r\n * @param  {number} [props.waitAfterWritten]\r\n *\t\t\tDelay, em milissegundos, ao final de cada mensagem escrita\r\n * @param  { {text:string, speaker?: string}[]} [props.prevDialogHistory]\r\n *\t\t\tHistórico inicial da conversa\r\n * @param  {string | string[]} [props.charPreSpeech]\r\n *\t\t\tLista de falas a serem apresentadas antes de se dar a opção de escolha ao jogador\r\n * @param  {{question:string, answers:string[]}[]} props.convOptions\r\n *\t\t\tLista de opções para o jogador escolher (com suas respostas)\r\n * @param  {Object} [props.currentChar]\r\n *\t\t\tInfo do personagem a ser renderizado\r\n * @param  {Object} [props.charFeeling]\r\n *\t\t\tInfo de qual emoção o personagem deve ter\r\n * @param  {() => void} [props.afterWriter]\r\n *\t\t\tCallback para quando as mensagems terminarem de ser enviadas\r\n * @param  {(dialogHistory:{text:string, speaker?:string}[]) => void} [props.onExited]\r\n *\t\t\tCallback para quando se sair do diálogo. Envia todo o histórico de mensagens enviadas até o momento\r\n * @param  {(convoChoosen) => void} [props.onConvoChoiceMade]\r\n *\t\t\tCallback sobre qual alternativa foi escolhida. Envia a convOption escolhida\r\n */\r\nconst Conversa = ({\r\n\t\tchildren,\r\n\t\tshouldExit = false,\r\n\t\tshowDialogHistory = true,\r\n\t\tonClearDialogHistory = null,\r\n\t\tcallAfterWritterForEveryMsg = false,\r\n\t\tmsPerCharacter = 50,\r\n\t\twaitAfterWritten = 2000,\r\n\t\tprevDialogHistory = [],\r\n\t\tcharPreSpeech = null,\r\n\t\tconvOptions = [],\r\n\t\tcurrentChar = null,\r\n\t\tcharFeeling = null,\r\n\t\tafterWriter = () => {},\r\n\t\tonExited = (dialogHistory) => {},\r\n\t\tonConvoChoiceMade = (convoChoosen) => {},\r\n\t}) => {\r\n\r\n\tconst [state, setState] = React.useState({\r\n\t\tquerFechar: shouldExit,\r\n\t\tanswers: null,\r\n\t\tdialogHistory: prevDialogHistory\r\n\t});\r\n\r\n\t// if( charPreSpeech !== null && charPreSpeech.length > 0 ) {\r\n\t// \tstate.currentAnswer = 0\r\n\t// \tstate.answers = typeof(charPreSpeech) === \"string\" ? [charPreSpeech] : charPreSpeech\r\n\t// \tcharPreSpeech = null\r\n\t// }\r\n\r\n\t// * UNDEFINED BEHAVIOR caso alguém mude o charPreSpeech desse componente enquanto o writer faz algo\r\n\tReact.useEffect( () => {\r\n\t\tif( charPreSpeech !== null && charPreSpeech.length > 0 ) {\r\n\t\t\t// state.currentAnswer = 0\r\n\t\t\t// state.answers = typeof(charPreSpeech) === \"string\" ? [charPreSpeech] : charPreSpeech\r\n\t\t\t// console.log('effect', state.answers)\r\n\t\t\tsetState({\r\n\t\t\t\t...state,\r\n\t\t\t\tcurrentAnswer: 0,\r\n\t\t\t\tanswers: typeof(charPreSpeech) === \"string\" ? [charPreSpeech] : charPreSpeech\r\n\t\t\t})\r\n\t\t}\r\n\t\t// eslint-disable-next-line\r\n\t}, [charPreSpeech])\r\n\t\r\n\t// * UNDEFINED BEHAVIOR caso alguém mande limpar enquanto o writer faz algo\r\n\tReact.useEffect(() => {\r\n\t\tif( onClearDialogHistory ) {\r\n\t\t\tonClearDialogHistory(state.dialogHistory)\r\n\t\t\tstate.dialogHistory = []\r\n\t\t}\r\n\t\t// eslint-disable-next-line\r\n\t}, [onClearDialogHistory])\r\n\t\r\n\tReact.useEffect( () => {\r\n\t\tsetState({...state, querFechar: shouldExit})\r\n\t\t// eslint-disable-next-line\r\n\t}, [shouldExit])\r\n\r\n\tconst _querFechar = () => {\r\n\t\tsetState({\r\n\t\t\t...state,\r\n\t\t\tquerFechar: true\r\n\t\t})\r\n\t}\r\n\r\n\tconst _podeFechar = () => {\r\n\t\tonExited(state.dialogHistory)\r\n\t}\r\n\r\n\tconst _afterWriter = () => {\r\n\t\tlet updateState = {}\r\n\t\tif( state.currentAnswer < state.answers.length - 1 ) {\r\n\t\t\tupdateState = {\r\n\t\t\t\tcurrentAnswer: state.currentAnswer + 1\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tupdateState = {\r\n\t\t\t\tcurrentAnswer: null,\r\n\t\t\t\tanswers: null\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tsetState({\r\n\t\t\t...state,\r\n\t\t\t...updateState,\r\n\t\t\tdialogHistory: [\r\n\t\t\t\t...state.dialogHistory,\r\n\t\t\t\t{text: state.answers[state.currentAnswer]}\r\n\t\t\t],\r\n\t\t})\r\n\r\n\t\tif( callAfterWritterForEveryMsg || state.currentAnswer >= state.answers.length - 1 )\r\n\t\t\tafterWriter()\r\n\t}\r\n\r\n\tconst _convoChoiceClick = (convoChoosen) => {\r\n\r\n\t\tif( typeof(convoChoosen.answers) === \"string\" ) convoChoosen.answers = [convoChoosen.answers]\r\n\t\tsetState( {\r\n\t\t\t...state,\r\n\t\t\tdialogHistory: [\r\n\t\t\t\t...state.dialogHistory,\r\n\t\t\t\t{text: convoChoosen.question, speaker: 'player'}\r\n\t\t\t],\r\n\t\t\tanswers: convoChoosen.answers,\r\n\t\t\tcurrentAnswer: 0\r\n\t\t})\r\n\r\n\t\tonConvoChoiceMade(convoChoosen)\r\n\t}\r\n\r\n\treturn (\r\n\t\t<FullscreenOverlay shouldExit={state.querFechar} onClickClose={_querFechar} onReadyToExit={_podeFechar}>\r\n\t\t\t<div id=\"dialog-interact\" className={state.querFechar ? \"ExitAnim\" : null}>\r\n\t\t\t\t<div id=\"dialogos\">\r\n\t\t\t\t\t{showDialogHistory ? <DialogHistory dialogHistory={state.dialogHistory}/> : <div style={{flexGrow: '1'}} />}\r\n\t\t\t\t\t<div id='dialog-box' className={state.answers ? \"alternative\" : \"\"}>\r\n\t\t\t\t\t\t{state.answers ?\r\n\t\t\t\t\t\t\t<Writer text={state.answers[state.currentAnswer]}\r\n\t\t\t\t\t\t\t\tonWritten={_afterWriter}\r\n\t\t\t\t\t\t\t\tafterWrittenTime={waitAfterWritten}\r\n\t\t\t\t\t\t\t\tcharacterTime={msPerCharacter}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t<Menu buttonList={convOptions}\r\n\t\t\t\t\t\t\t\tonButtonClick={_convoChoiceClick}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<DialogCharacter character={currentChar} feeling={charFeeling}/>\r\n\t\t\t</div>\r\n\t\t\t{children}\r\n\t\t</FullscreenOverlay>\r\n\t)\r\n}\r\n\r\nexport default Conversa\r\n","export default __webpack_public_path__ + \"static/media/Score Baixo_blob.f42aa286.svg\";","export default __webpack_public_path__ + \"static/media/bg-forma-laranja.01e2bb93.svg\";","export default __webpack_public_path__ + \"static/media/ícone_jogo1.244e8c29.svg\";","import React from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\nimport {\r\n  apiActions,\r\n  gameActions,\r\n  headerActions,\r\n  musicActions,\r\n} from \"../../_actions\";\r\n\r\nimport Init from \"../Game2/components/Init\";\r\nimport Result from \"../Game2/components/Result\";\r\nimport RoomSelect from \"../Game2/components/RoomSelect\";\r\nimport Sala from \"../Game2/components/Sala\";\r\nimport Character from \"../Game2/components/Character\";\r\nimport initialState from \"./initialState.js\";\r\nimport initialDialog from \"./initialDialog.js\";\r\nimport stub from \"./stub.js\";\r\nimport Phone from \"./components/Phone\";\r\nimport Conversa from \"../Game2/components/Conversa\";\r\nimport FullscreenOverlay from \"../Game2/components/FullscreenOverlay\";\r\nimport { headerConstants } from \"../../_constants\";\r\nimport bigPhone from \"../../img/Game1/Celular Base.svg\";\r\nimport dedao from \"../../img/Game1/Mão dedão.svg\";\r\nimport palma from \"../../img/Game1/Mão palma.svg\";\r\nimport blobLowScore from \"../../img/Score Baixo_blob.svg\";\r\nimport blobLaranja from \"../../img/bg-forma-laranja.svg\";\r\nimport iconInit from \"../../img/Game1/ícone_jogo1.svg\";\r\n\r\nimport \"./index.scss\";\r\nimport \"./feedback-screen.scss\";\r\nimport { Button } from \"@material-ui/core\";\r\n\r\nconst Game1 = (props) => {\r\n  const [state, setState] = React.useState(initialState());\r\n\r\n  const { play_sessionsActions } = apiActions;\r\n  const id = props.match.params.id;\r\n  const dispatch = useDispatch();\r\n\r\n  const loading = useSelector((state) => state.missions.loading);\r\n  let error = useSelector((state) => state.missions.error);\r\n  let mission = useSelector((state) =>\r\n    state.game.items.missions\r\n      ? state.game.items.missions.find(\r\n          (mission) => mission.id === props.match.params.id\r\n        )\r\n      : null\r\n  );\r\n  const missionData = mission ? mission.missionData : null;\r\n  const userId = useSelector((state) => state.authentication.user.user.id);\r\n  const currentPlaySession = useSelector((state) =>\r\n    state.play_sessions ? state.play_sessions.items[0] : {}\r\n  );\r\n  const lang = useSelector(\r\n    (state) => state.authentication.user.user.language.id\r\n  );\r\n\r\n  // React.useEffect(()=>{\r\n  // \tif(mission && Object.keys(actions).length !== 0 && !missionData){\r\n  // \t\tdispatch(actions['missionData'].find({mission: mission.id}))\r\n  // \t}\r\n  // })\r\n\r\n  React.useEffect(() => {\r\n    if (mission) dispatch(musicActions.set(mission.backgroundAudio.url));\r\n    return () => dispatch(musicActions.set(\"\"));\r\n  }, [dispatch, mission]);\r\n\r\n  //Track playerActions\r\n  React.useEffect(() => {\r\n    if (!state.tracking || !currentPlaySession) return;\r\n\r\n    const getClickedObject = (e) => {\r\n      dispatch(\r\n        play_sessionsActions.update(\r\n          { id: currentPlaySession.id },\r\n          {\r\n            ...currentPlaySession,\r\n            playerActions: [\r\n              ...currentPlaySession.playerActions,\r\n              {\r\n                tag: e.target.nodeName,\r\n                alt: e.target.alt,\r\n                className: e.target.className,\r\n                innerHTML: e.target.innerHTML.includes(\"<div\")\r\n                  ? null\r\n                  : e.target.innerHTML,\r\n                clickTime: new Date(),\r\n              },\r\n            ],\r\n          }\r\n        )\r\n      );\r\n    };\r\n    document.addEventListener(\"mousedown\", getClickedObject);\r\n\r\n    setState((s) => {\r\n      return { ...s, currentPlaySession, getClickedObject };\r\n    });\r\n    return () => {\r\n      document.removeEventListener(\"mousedown\", getClickedObject);\r\n    };\r\n  }, [dispatch, currentPlaySession, play_sessionsActions, state.tracking]);\r\n\r\n  React.useEffect(() => {\r\n    if (id && !missionData)\r\n      dispatch(gameActions.getById(\"missions\", props.match.params.id));\r\n    if (missionData) {\r\n      let data = {};\r\n\r\n      //distribute characters in locations\r\n      if (state.locations.length === 0) {\r\n        // data.locations = [...mission.locations]\r\n        data.locations = missionData.locations;\r\n      }\r\n\r\n      //list of all available jobs\r\n      if (state.jobs.length === 0) {\r\n        data.jobs = [\r\n          ...new Set(\r\n            missionData.locations\r\n              .map((location) => {\r\n                return location.missionCharacters.reduce(\r\n                  (acc, missionCharacter) => {\r\n                    if (!acc.includes(missionCharacter.character.job))\r\n                      acc.push(missionCharacter.character.job);\r\n                    return acc;\r\n                  },\r\n                  []\r\n                );\r\n              })\r\n              .flat()\r\n              .sort()\r\n          ),\r\n        ];\r\n      }\r\n\r\n      //list of all available countries\r\n      if (state.countries.length === 0) {\r\n        data.countries = [\r\n          ...new Set(\r\n            missionData.locations\r\n              .map((location) => {\r\n                return location.missionCharacters.reduce(\r\n                  (acc, missionCharacter) => {\r\n                    if (!acc.includes(missionCharacter.character.country))\r\n                      acc.push(missionCharacter.character.country);\r\n                    return acc;\r\n                  },\r\n                  []\r\n                );\r\n              })\r\n              .flat()\r\n              .sort()\r\n          ),\r\n        ];\r\n      }\r\n\r\n      if (state.names.length === 0) {\r\n        data.names = [\r\n          ...new Set(\r\n            missionData.locations\r\n              .map((location) => {\r\n                return location.missionCharacters.reduce(\r\n                  (acc, missionCharacter) => {\r\n                    if (!acc.includes(missionCharacter.character.name))\r\n                      acc.push(missionCharacter.character.name);\r\n                    return acc;\r\n                  },\r\n                  []\r\n                );\r\n              })\r\n              .flat()\r\n              .sort()\r\n          ),\r\n        ];\r\n      }\r\n\r\n      //resume characters as contacts\r\n      if (state.contactsTemplate.length === 0) {\r\n        //create full contact template\r\n        data.contactsTemplate = missionData.locations\r\n          .map((location) => {\r\n            return location.missionCharacters.map((missionCharacter) => {\r\n              return {\r\n                id: missionCharacter.character.id,\r\n                name: missionCharacter.character.name,\r\n                country: missionCharacter.character.country,\r\n                job: missionCharacter.character.job,\r\n                //looks for mission configuration\r\n                showJob: missionCharacter.showJob,\r\n                showCountry: missionCharacter.showCountry,\r\n                showName: missionCharacter.showName,\r\n                hasEmptyField: !(\r\n                  missionCharacter.showJob &&\r\n                  missionCharacter.showCountry &&\r\n                  missionCharacter.showName\r\n                ),\r\n              };\r\n            });\r\n          })\r\n          .flat();\r\n\r\n        data.totalFields = 0;\r\n        //create contact state shown to/ manipulated by to player\r\n        data.contactsAtSession = data.contactsTemplate.map((contact) => {\r\n          data.totalFields +=\r\n            (!contact.showJob ? 1 : 0) +\r\n            (!contact.showCountry ? 1 : 0) +\r\n            (!contact.showName ? 1 : 0);\r\n\r\n          return {\r\n            ...contact,\r\n            name: contact.showName ? contact.name : \"\",\r\n            job: contact.showJob ? contact.job : \"\",\r\n            country: contact.showCountry ? contact.country : \"\",\r\n          };\r\n        });\r\n      }\r\n\r\n      if (Object.keys(data).length > 0)\r\n        setState((state) => {\r\n          return { ...state, ...data };\r\n        });\r\n    }\r\n  }, [\r\n    dispatch,\r\n    id,\r\n    mission,\r\n    props.match.params.id,\r\n    state.locations.length,\r\n    state.contactsTemplate.length,\r\n    state.countries.length,\r\n    state.jobs.length,\r\n    state.names.length,\r\n    missionData,\r\n  ]);\r\n\r\n  if (error) {\r\n    error = null;\r\n    mission = stub;\r\n  }\r\n\r\n  const onStartGame = (e) => {\r\n    if (state.tracking) {\r\n      dispatch(\r\n        play_sessionsActions.create({\r\n          //usersPergame_1_missionsUser: userId,\r\n          //mission: mission.id\r\n        })\r\n      );\r\n    }\r\n    setState({ ...state, scene: \"ROOM\" });\r\n  };\r\n\r\n  const setCurrentChar = (character) => () => {\r\n    // if (convOptions.length === 0) console.log(\"Couldn't find any questions to ask currentChar\")\r\n\r\n    if (!state.dialogs.hasOwnProperty(character.character.name)) {\r\n      let convOptions = character.answers.reduce((acc, convOption) => {\r\n        let option = {\r\n          ...convOption,\r\n          ...convOption.question,\r\n          answers: convOption.answer,\r\n          active: true,\r\n        };\r\n        delete option.answer;\r\n        return [...acc, option];\r\n      }, []);\r\n\r\n      setState({\r\n        ...state,\r\n        currentChar: character.character,\r\n        convOptions: convOptions,\r\n        dialogs: {\r\n          ...state.dialogs,\r\n          [character.character.name]: [],\r\n        },\r\n      });\r\n    } else {\r\n      let convOptions = [];\r\n      if (\r\n        state.questionsAsked <\r\n        state.locations[state.currentLocationIndex].maxQuestions\r\n      ) {\r\n        convOptions = character.answers.reduce((acc, convOption) => {\r\n          let option = {\r\n            ...convOption,\r\n            ...convOption.question,\r\n            answers: convOption.answer,\r\n            active: state.dialogs[character.character.name].find(\r\n              (dialog) => dialog.text === convOption.question.question\r\n            )\r\n              ? false\r\n              : true,\r\n          };\r\n          delete option.answer;\r\n          return [...acc, option];\r\n        }, []);\r\n      } else {\r\n        convOptions = character.answers.reduce((acc, convOption) => {\r\n          let option = {\r\n            ...convOption,\r\n            ...convOption.question,\r\n            answers: convOption.answer,\r\n            active: false,\r\n          };\r\n          delete option.answer;\r\n          return [...acc, option];\r\n        }, []);\r\n      }\r\n\r\n      setState({\r\n        ...state,\r\n        currentChar: character.character,\r\n        convOptions: convOptions,\r\n      });\r\n    }\r\n  };\r\n\r\n  const afterWriter = () => {\r\n    let updatedState = {};\r\n    if (\r\n      state.questionsAsked ===\r\n        state.locations[state.currentLocationIndex].maxQuestions &&\r\n      state.preSpeech.length === 0\r\n    ) {\r\n      updatedState.preSpeech = [\r\n        \"Espero que isso tenha sido tudo. Tenho que ir agora...\",\r\n      ];\r\n      updatedState.convOptions = [\r\n        { question: \"Ah tá. Tchau!\", answers: \"Tchau!\", close: true },\r\n      ];\r\n    } else if (\r\n      state.questionsAsked >\r\n      state.locations[state.currentLocationIndex].maxQuestions\r\n    ) {\r\n      updatedState.convOptions = state.convOptions.map((convOption) => {\r\n        return { ...convOption, active: false };\r\n      }, []);\r\n    }\r\n    if (state.close) {\r\n      updatedState.shouldCloseConvo = true;\r\n      updatedState.close = false;\r\n    }\r\n\r\n    setState({ ...state, ...updatedState });\r\n  };\r\n\r\n  const onMenuButtonClick = (answer) => {\r\n    //\r\n    //\tAplicar lógica adicional de click nos botões do menu\r\n    //\r\n    let updatedState = {};\r\n\r\n    if (state.dialogs[state.currentChar.name].length) {\r\n      updatedState.questionsAsked = state.questionsAsked + 1;\r\n\r\n      if (\r\n        updatedState.questionsAsked <\r\n        state.locations[state.currentLocationIndex].maxQuestions\r\n      ) {\r\n        updatedState.convOptions = state.convOptions.map((convOption) => {\r\n          if (convOption.question === answer.question)\r\n            return { ...convOption, active: false };\r\n\r\n          return convOption;\r\n        }, []);\r\n      } else {\r\n        updatedState.preSpeech = [];\r\n        updatedState.convOptions = [];\r\n      }\r\n    }\r\n\r\n    if (answer.close) updatedState.close = true;\r\n\r\n    setState({\r\n      ...state,\r\n      ...updatedState,\r\n      dialogs: {\r\n        ...state.dialogs,\r\n        [state.currentChar.name]: [\r\n          ...state.dialogs[state.currentChar.name],\r\n          {\r\n            speaker: \"player\",\r\n            text: answer.question,\r\n          },\r\n          {\r\n            text: answer.answers[0],\r\n          },\r\n        ],\r\n      },\r\n    });\r\n  };\r\n\r\n  const modifyContact = (contact) => {\r\n    let index = state.contactsAtSession.indexOf(\r\n      state.contactsAtSession.find((c) => c.id === contact.id)\r\n    );\r\n    // console.log('changing:', contact)\r\n    setState({\r\n      ...state,\r\n      contactsAtSession: [\r\n        ...state.contactsAtSession.slice(0, index),\r\n        contact,\r\n        ...state.contactsAtSession.slice(index + 1),\r\n      ],\r\n    });\r\n  };\r\n\r\n  const closeDialog = () => {\r\n    setState({ ...state, currentChar: null, shouldCloseConvo: false });\r\n  };\r\n\r\n  const restart = () => {\r\n    setState({ ...initialState(), hasPlayed: true });\r\n    dispatch(headerActions.setState(headerConstants.STATES.HIDDEN));\r\n  };\r\n\r\n  const onPhoneFinish = () => {\r\n    let wrongContacts = 0;\r\n    state.locations[state.currentLocationIndex].missionCharacters.forEach(\r\n      (missionContact, index) => {\r\n        let answer = state.contactsAtSession.find(\r\n          (contactAtSession) =>\r\n            contactAtSession.id === missionContact.character.id\r\n        );\r\n        let gabarito = state.contactsTemplate.find(\r\n          (contactTemplate) =>\r\n            contactTemplate.id === missionContact.character.id\r\n        );\r\n        if (\r\n          answer.job !== gabarito.job ||\r\n          answer.country !== gabarito.country ||\r\n          answer.name !== gabarito.name\r\n        )\r\n          wrongContacts++;\r\n      }\r\n    );\r\n    setState({ ...state, changeRoomPopUp: true, wrongContacts: wrongContacts });\r\n  };\r\n\r\n  const onGoNextRoom = () => {\r\n    if (state.currentLocationIndex + 1 < state.locations.length)\r\n      setState({\r\n        ...state,\r\n        shouldCloseDialog: true,\r\n        currentLocationIndex: state.currentLocationIndex + 1,\r\n        shouldMinimize: true,\r\n        questionsAsked: 0,\r\n        dialogs: {},\r\n      });\r\n    else {\r\n      // CALCULATE RESULT WITH WRONG ITEM AND FIND THE MATRIC THE USER MISSED THE MOST\r\n      let result = 0;\r\n      let mainError = missionData.metrics.map((metric) => {\r\n        return {\r\n          metric: metric.name,\r\n          metricTranslate: metric.nameTranslate.find(\r\n            (translate) => translate.language.id === lang\r\n          ),\r\n          count: 0,\r\n        };\r\n      });\r\n      state.contactsAtSession.forEach((contact) => {\r\n        let gabarito = state.contactsTemplate.find((t) => t.id === contact.id);\r\n\r\n        if (gabarito.hasEmptyField) {\r\n          result +=\r\n            (contact.job === gabarito.job && !gabarito.showJob ? 1 : 0) +\r\n            (contact.country === gabarito.country && !gabarito.showCountry\r\n              ? 1\r\n              : 0) +\r\n            (contact.name === gabarito.name && !gabarito.showName ? 1 : 0);\r\n\r\n          mainError.forEach((metric) => {\r\n            if (metric.name === \"Profissão\") {\r\n              metric.count +=\r\n                contact.job !== gabarito.job && !gabarito.showJob ? 1 : 0;\r\n            } else if (metric.name === \"País\") {\r\n              metric.count +=\r\n                contact.country !== gabarito.country && !gabarito.showCountry\r\n                  ? 1\r\n                  : 0;\r\n            } else if (metric.name === \"Nome\") {\r\n              metric.count +=\r\n                contact.name !== gabarito.name && !gabarito.showName ? 1 : 0;\r\n            }\r\n          });\r\n        }\r\n      });\r\n\r\n      const score = (result / state.totalFields).toFixed(2) * 100;\r\n\r\n      setState({\r\n        ...state,\r\n        scene: \"ENDGAME\",\r\n        result,\r\n        score,\r\n        mainError: mainError.reduce((max, obj) =>\r\n          max.count > obj.count ? max : obj\r\n        ),\r\n        feedback: missionData.feedbacks.find(\r\n          (feedback) => feedback.minScore <= score && score <= feedback.maxScore\r\n        ),\r\n      });\r\n\r\n      dispatch(\r\n        gameActions.create(\"results\", {\r\n          user: userId,\r\n          mission: mission.id,\r\n          score: score,\r\n          won: score > 80,\r\n        })\r\n      );\r\n\r\n      dispatch(\r\n        headerActions.setAll(\r\n          mission.name,\r\n          mission.nameTranslate.find((name) => {\r\n            return name.language.id === lang;\r\n          }).name\r\n        )\r\n      );\r\n\r\n      dispatch(headerActions.setState(headerConstants.STATES.OVERLAY));\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div id=\"game1-wrapper\">\r\n      {loading ? (\r\n        <div>Loading...</div>\r\n      ) : error ? (\r\n        <div>{error}</div>\r\n      ) : (\r\n        mission && (\r\n          <div id=\"game1-content\">\r\n            {/* <div id=\"input-tracker\">\r\n              TrackInput:{\" \"}\r\n              <input\r\n                type=\"checkbox\"\r\n                onChange={(e) => {\r\n                  setState({ ...state, tracking: e.target.checked });\r\n                }}\r\n              />\r\n            </div> */}\r\n            {(function renderScene() {\r\n              switch (state.scene) {\r\n                case \"INIT\":\r\n                  return (\r\n                    <Init\r\n                      icon={iconInit}\r\n                      name={mission.name}\r\n                      description={mission.description}\r\n                      nameTranslate={\r\n                        mission.nameTranslate.find((name) => {\r\n                          return name.language.id === lang;\r\n                        }).name\r\n                      }\r\n                      descriptionTranslate={\r\n                        mission.descriptionTranslate.find((description) => {\r\n                          return description.language.id === lang;\r\n                        }).description\r\n                      }\r\n                      onStart={onStartGame}\r\n                      onBack={() => setState({ ...state, back: true })}\r\n                      ready={state.locations.length > 0 ? true : false}\r\n                    />\r\n                  );\r\n                case \"ROOM\":\r\n                  return (\r\n                    <div id=\"room-itself\">\r\n                      <RoomSelect\r\n                        value={state.currentLocationIndex}\r\n                        buttonList={state.locations.map(\r\n                          (location) => location.location.name\r\n                        )}\r\n                        showInBtnFormat={false}\r\n                      />\r\n                      <Sala\r\n                        roomData={\r\n                          state.locations[state.currentLocationIndex].location\r\n                        }\r\n                        key={state.currentLocationIndex}\r\n                      >\r\n                        {state.locations[\r\n                          state.currentLocationIndex\r\n                        ].missionCharacters.map((character, index) => (\r\n                          <Character\r\n                            key={index}\r\n                            zDepth={character.zDepth}\r\n                            character={character.character}\r\n                            onClick={setCurrentChar(character)}\r\n                          />\r\n                        ))}\r\n                      </Sala>\r\n                      <Phone\r\n                        contacts={state.contactsAtSession.filter((contact) =>\r\n                          state.locations[\r\n                            state.currentLocationIndex\r\n                          ].missionCharacters.find(\r\n                            (character) => character.character.id === contact.id\r\n                          )\r\n                        )}\r\n                        modifyContact={modifyContact}\r\n                        contactsTemplate={state.contactsTemplate}\r\n                        names={state.names}\r\n                        jobs={state.jobs}\r\n                        countries={state.countries}\r\n                        onFinish={onPhoneFinish}\r\n                        onMinimize={() =>\r\n                          setState({ ...state, shouldMinimize: false })\r\n                        }\r\n                        shouldMinimize={state.shouldMinimize}\r\n                      />\r\n                      {state.currentChar && (\r\n                        <Conversa\r\n                          shouldExit={state.shouldCloseConvo}\r\n                          prevDialogHistory={\r\n                            state.dialogs[state.currentChar.name]\r\n                          }\r\n                          onClearDialogHistory={state.refreshDialog}\r\n                          charPreSpeech={state.preSpeech}\r\n                          convOptions={\r\n                            state.dialogs[state.currentChar.name].length\r\n                              ? state.convOptions\r\n                              : initialDialog\r\n                          }\r\n                          currentChar={state.currentChar}\r\n                          charFeeling={state.characterFeeling}\r\n                          afterWriter={afterWriter}\r\n                          onExited={closeDialog}\r\n                          onConvoChoiceMade={onMenuButtonClick}\r\n                        ></Conversa>\r\n                      )}\r\n                      {state.changeRoomPopUp && (\r\n                        <FullscreenOverlay\r\n                          showCloseBtn={false}\r\n                          shouldExit={state.shouldCloseDialog}\r\n                          onReadyToExit={() => {\r\n                            setState({\r\n                              ...state,\r\n                              shouldCloseDialog: false,\r\n                              changeRoomPopUp: false,\r\n                            });\r\n                          }}\r\n                        >\r\n                          <div className=\"popup-wrapper\">\r\n                            <div className=\"popup-content\">\r\n                              <span>Are you sure?</span>\r\n                              <div>\r\n                                {state.wrongContacts > 0 ? (\r\n                                  <div className=\"next-room-text\">\r\n                                    <span lang=\"pt-br\">\r\n                                      {`${state.wrongContacts}` +\r\n                                        missionData.nextRoomTextWrong}\r\n                                    </span>\r\n                                    <span lang=\"en\">\r\n                                      {`${state.wrongContacts}` +\r\n                                        missionData.nextRoomTextWrongTranslate.find(\r\n                                          (translation) => {\r\n                                            return (\r\n                                              translation.language.id === lang\r\n                                            );\r\n                                          }\r\n                                        ).text}\r\n                                    </span>\r\n                                  </div>\r\n                                ) : (\r\n                                  <div className=\"next-room-text\">\r\n                                    <span lang=\"pt-br\">\r\n                                      {missionData.nextRoomTextRight}\r\n                                    </span>\r\n                                    <span lang=\"en\">\r\n                                      {\r\n                                        missionData.nextRoomTextRightTranslate.find(\r\n                                          (translation) => {\r\n                                            return (\r\n                                              translation.language.id === lang\r\n                                            );\r\n                                          }\r\n                                        ).text\r\n                                      }\r\n                                    </span>\r\n                                  </div>\r\n                                )}\r\n                              </div>\r\n                              <div id=\"popup-btns\">\r\n                                <button\r\n                                  id=\"no-go\"\r\n                                  onClick={() =>\r\n                                    setState({\r\n                                      ...state,\r\n                                      shouldCloseDialog: true,\r\n                                    })\r\n                                  }\r\n                                >\r\n                                  {state.wrongContacts > 0\r\n                                    ? \"Keep trying\"\r\n                                    : \"Not yet\"}\r\n                                </button>\r\n                                <button id=\"go\" onClick={onGoNextRoom}>\r\n                                  {state.wrongContacts > 0\r\n                                    ? \"Continue anyway\"\r\n                                    : \"Let's go\"}\r\n                                </button>\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                        </FullscreenOverlay>\r\n                      )}\r\n                      <div\r\n                        id=\"question-counter\"\r\n                        className={\r\n                          state.questionsAsked >=\r\n                          state.locations[state.currentLocationIndex]\r\n                            .maxQuestions\r\n                            ? \"max\"\r\n                            : \"\"\r\n                        }\r\n                      >\r\n                        <div id=\"question-counter-info\">\r\n                          <div>Você já fez</div>\r\n                          <div className=\"numbers\">\r\n                            <span>\r\n                              {Math.min(\r\n                                state.questionsAsked,\r\n                                state.locations[state.currentLocationIndex]\r\n                                  .maxQuestions\r\n                              )}\r\n                            </span>\r\n                            /\r\n                            {\r\n                              state.locations[state.currentLocationIndex]\r\n                                .maxQuestions\r\n                            }\r\n                          </div>\r\n                          <div>perguntas</div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  );\r\n                case \"ENDGAME\":\r\n                  return (\r\n                    <div id=\"feedback-endGame-screen\">\r\n                      {state.score > 30 ? (\r\n                        <div id=\"feedback-end-panels\">\r\n                          <div id=\"feedback-painel-icon\">\r\n                            <img src={state.feedback.topAsset.url} alt=\"\" />\r\n                          </div>\r\n                          <div id=\"feedback-endgame-messages\">\r\n                            <div\r\n                              className=\"feedback-painel\"\r\n                              id=\"feedback-painel-1-win\"\r\n                            >\r\n                              <div className=\"feedback-painel-1-wrapper\">\r\n                                <div className=\"feedback-painel-1-content\">\r\n                                  <span lang=\"pt-br\">\r\n                                    {\" \"}\r\n                                    {state.feedback.text.replace(\r\n                                      \"xxxx\",\r\n                                      state.score\r\n                                    )}\r\n                                  </span>\r\n                                  <span lang=\"en\">\r\n                                    {state.feedback.textTranslate\r\n                                      .find((text) => text.language.id === lang)\r\n                                      .text.replace(\"xxxx\", state.score)}\r\n                                  </span>\r\n                                </div>\r\n                              </div>\r\n                              {state.score < 100 && (\r\n                                <a\r\n                                  href=\"#feedback-painel-2\"\r\n                                  className=\"next-btn\"\r\n                                >\r\n                                  {\"❯\"}\r\n                                </a>\r\n                              )}\r\n                            </div>\r\n                            {state.score < 100 && (\r\n                              <div\r\n                                className=\"feedback-painel\"\r\n                                id=\"feedback-painel-2\"\r\n                              >\r\n                                <div className=\"feedback-painel-2-wrapper\">\r\n                                  <div\r\n                                    className=\"feedback-painel-2-content\"\r\n                                    style={{\r\n                                      backgroundImage:\r\n                                        \"url(\" + blobLaranja + \")\",\r\n                                    }}\r\n                                  >\r\n                                    <div>\r\n                                      <span>{state.result}</span>/\r\n                                      <span>{state.totalFields}</span>\r\n                                    </div>\r\n                                    <div>correct items</div>\r\n                                  </div>\r\n                                </div>\r\n                                <div className=\"feedback-painel-2-wrapper\">\r\n                                  <div className=\"feedback-painel-2-content\">\r\n                                    <div>\r\n                                      <p>\r\n                                        You've had a hard time remembering your\r\n                                        friend's{\" \"}\r\n                                        {state.mainError.metricTranslate.text.toLowerCase()}\r\n                                        . I hope they don't mind.\r\n                                      </p>\r\n                                    </div>\r\n                                  </div>\r\n                                </div>\r\n                                <a\r\n                                  href=\"#feedback-painel-1-win\"\r\n                                  className=\"prev-btn\"\r\n                                >\r\n                                  {\"❮\"}\r\n                                </a>\r\n                              </div>\r\n                            )}\r\n                          </div>\r\n                          <div id=\"feedback-endGame-action-btns\">\r\n                            <Button onClick={restart}>Tentar novamente</Button>\r\n                            <Button\r\n                              onClick={() => setState({ ...state, back: true })}\r\n                            >\r\n                              Sair do jogo\r\n                            </Button>\r\n                          </div>\r\n                        </div>\r\n                      ) : (\r\n                        <div id=\"feedback-endGame-wrong-wrapper\">\r\n                          <div>\r\n                            <div\r\n                              className=\"feedback-painel feedback-panel-1-defeat\"\r\n                              id=\"feedback-painel-1\"\r\n                            >\r\n                              <div id=\"feedback-painel-icon-derrota\">\r\n                                <img src={state.feedback.topAsset.url} alt=\"\" />\r\n                              </div>\r\n                              <span lang=\"pt-br\">\r\n                                {state.feedback.text.replace(\r\n                                  \"xxxx\",\r\n                                  state.score\r\n                                )}\r\n                              </span>\r\n                              <span lang=\"en\">\r\n                                {state.feedback.textTranslate\r\n                                  .find((text) => text.language.id === lang)\r\n                                  .text.replace(\"xxxx\", state.score)}\r\n                              </span>\r\n                            </div>\r\n                            <div\r\n                              className=\"feedback-painel\"\r\n                              id=\"feedback-painel-3\"\r\n                              style={{\r\n                                backgroundImage: \"url(\" + blobLowScore + \")\",\r\n                              }}\r\n                            >\r\n                              <div className=\"feedback-painel-2-wrapper\">\r\n                                <div\r\n                                  className=\"feedback-painel-2-content\"\r\n                                  style={{\r\n                                    backgroundImage: \"url(\" + blobLaranja + \")\",\r\n                                  }}\r\n                                >\r\n                                  <div>\r\n                                    <span>{state.result}</span>/\r\n                                    <span>{state.totalFields}</span>\r\n                                  </div>\r\n                                  <div>correct</div>\r\n                                  <div>items</div>\r\n                                </div>\r\n                              </div>\r\n                              <div className=\"feedback-painel-2-wrapper\">\r\n                                <div className=\"feedback-painel-2-content\">\r\n                                  <div>\r\n                                    <p lang=\"pt-br\">\r\n                                      Lembrar o(a){\" \"}\r\n                                      {state.mainError.metric.toLowerCase()} dos\r\n                                      seus amigos foi o mais difícil pra você.\r\n                                      Espero que eles não se importem.\r\n                                    </p>\r\n                                    <p lang=\"en\">\r\n                                      You've had a hard time remembering your\r\n                                      friend's{\" \"}\r\n                                      {state.mainError.metricTranslate.text.toLowerCase()}\r\n                                      . I hope they don't mind.\r\n                                    </p>\r\n                                  </div>\r\n                                </div>\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                          <div id=\"feedback-endGame-action-btns\">\r\n                            <Button onClick={restart}>Tentar novamente</Button>\r\n                            <Button\r\n                              onClick={() => setState({ ...state, back: true })}\r\n                            >\r\n                              Sair do jogo\r\n                            </Button>\r\n                          </div>\r\n                        </div>\r\n                      )}\r\n                      {state.feedback.mobileBackground && (\r\n                        <div id=\"feedback-phone-div\">\r\n                          <div id=\"feedback-phone\">\r\n                            <img src={palma} alt=\"\" />\r\n                            <img src={bigPhone} alt=\"\" />\r\n                            <img\r\n                              src={state.feedback.mobileBackground.url}\r\n                              alt=\"\"\r\n                            />\r\n                            <img src={dedao} alt=\"\" />\r\n                          </div>\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                  );\r\n                default:\r\n                  return <div>Error</div>;\r\n              }\r\n            })()}\r\n            {state.endGame && <Result gameEndState={state.gameEndState} />}\r\n            {state.tries > 0 && (\r\n              <div>\r\n                {state.tries} tentativa{state.tries > 1 ? \"s\" : \"\"}!\r\n              </div>\r\n            )}\r\n            {state.back && <Redirect to=\"/userspace\" />}\r\n          </div>\r\n        )\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Game1;\r\n","export default __webpack_public_path__ + \"static/media/lampada_apagada.3f2311d7.svg\";","export default __webpack_public_path__ + \"static/media/lampada_acesa.aeef7b84.svg\";","import React from 'react'\r\nimport lamp_apagada from '../../../../img/lampada_apagada.svg'\r\nimport lamp_acesa from '../../../../img/lampada_acesa.svg'\r\n\r\nimport './index.scss'\r\n\r\nconst AcusationLamp = ({onClick}) => {\r\n  return(\r\n    <div id=\"acusar\" onClick={onClick}>\r\n      <span>É você!</span>\r\n      <img id=\"lamp-apagada\" src={lamp_apagada} alt=\"\"></img>\r\n      <img id=\"lamp-acesa\" src={lamp_acesa} alt=\"\"></img>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default AcusationLamp\r\n","// eslint-disable-next-line import/no-anonymous-default-export\r\nconst initialState = (hasPlayed = false) => ({\r\n//GAME STATE\r\n  scene: \"INIT\",\r\n  currentRoom: 0,\r\n  isOnDialog: false,\r\n  endGame: false,\r\n  found: false,\r\n  locations:[],\r\n  tips: ['O engenheiro sabe'],\r\n  acusation: false,\r\n  closeAcusation: false,\r\n  tries: 0,\r\n  validQuestions: [],\r\n  tutorialStep: 0,\r\n  seeTutorial: true,\r\n  hasPlayed: hasPlayed,\r\n  checkedPlayed: hasPlayed,\r\n  tipsCount: 0,\r\n//DIALOG\r\n  dialogHistory: [],\r\n  dialogStep: 0,\r\n  characterFeeling: 'init',\r\n  totalDialogSteps: 2,\r\n  questionsByStep: 2,\r\n  currentChar: null,\r\n  showConvo: false,\r\n  questions: [],\r\n  targetName: 'Leila',\r\n  correct: 0,\r\n  ncorrect: 0,\r\n  correctMinimum: 2,\r\n  gameEndState: null,\r\n  score: 0,\r\n  startedTimestamp: new Date(Date.now()),\r\n  elapsedTime: null,\r\n  back: false,\r\n  spokenCharacters: [],\r\n})\r\n\r\nexport default initialState\r\n","export default __webpack_public_path__ + \"static/media/parabens_vitoria-persistente.62184df1.svg\";","export default __webpack_public_path__ + \"static/media/parabens_vitoria-primeira.a06b772e.svg\";","export default __webpack_public_path__ + \"static/media/símbolo_feedback errado.7ae11eab.svg\";","export default __webpack_public_path__ + \"static/media/ícone_jogo1.244e8c29.svg\";","export default __webpack_public_path__ + \"static/media/Icone_jogo-tela_inicio.1e641e01.svg\";","export default __webpack_public_path__ + \"static/media/bg-forma-azul.166555e1.svg\";","export default __webpack_public_path__ + \"static/media/bg-forma-verde.60dfa7ed.svg\";","export default __webpack_public_path__ + \"static/media/bloco.18b55b9f.svg\";","export default __webpack_public_path__ + \"static/media/blocoButton.99d070aa.svg\";","import React from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport {\r\n  apiActions,\r\n  gameActions,\r\n  headerActions,\r\n  musicActions,\r\n} from \"../../_actions\";\r\nimport Init from \"./components/Init\";\r\nimport RoomSelect from \"./components/RoomSelect\";\r\nimport Sala from \"./components/Sala\";\r\nimport Character from \"./components/Character\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport \"./index.scss\";\r\nimport \"./tela-acusacao.scss\";\r\nimport \"./tela-fim-jogo.scss\";\r\nimport \"./tela-tutorial.scss\";\r\nimport AcusationLamp from \"./components/AcusationLamp\";\r\nimport initialState from \"./initialState\";\r\nimport { headerConstants } from \"../../_constants\";\r\nimport Conversa from \"./components/Conversa\";\r\nimport DialogCharacter from \"./components/DialogCharacter\";\r\nimport { Redirect } from \"react-router\";\r\n\r\nimport iconVitoriaPers from \"../../img/Game2/parabens_vitoria-persistente.svg\";\r\nimport iconVitoriaPrim from \"../../img/Game2/parabens_vitoria-primeira.svg\";\r\nimport iconDerrota from \"../../img/Game2/símbolo_feedback errado.svg\";\r\nimport iconDicas from \"../../img/ícone_jogo1.svg\";\r\nimport iconInit from \"../../img/Game2/Icone_jogo-tela_inicio.svg\";\r\nimport blobAzul from \"../../img/bg-forma-azul.svg\";\r\nimport blobLaranja from \"../../img/bg-forma-laranja.svg\";\r\nimport blobVerde from \"../../img/bg-forma-verde.svg\";\r\n\r\nimport dedao from \"../../img/Game1/Mão dedão.svg\";\r\nimport palma from \"../../img/Game1/Mão palma.svg\";\r\nimport bloco from \"../../img/Game2/bloco.svg\";\r\nimport blocoButton from \"../../img/Game2/blocoButton.svg\";\r\nimport FullscreenOverlay from \"./components/FullscreenOverlay\";\r\n\r\nconst Game2 = (props) => {\r\n  const [state, setState] = React.useState(initialState());\r\n\r\n  const id = props.match.params.id;\r\n  const dispatch = useDispatch();\r\n  let error = useSelector((state) => state.missions.error);\r\n  let mission = useSelector((state) =>\r\n    state.game.items.missions\r\n      ? state.game.items.missions.find(\r\n          (mission) => mission.id === props.match.params.id\r\n        )\r\n      : null\r\n  );\r\n  const missionData = mission ? mission.missionData : null;\r\n  const loading = useSelector((state) => state.missions.loading);\r\n  const userId = useSelector((state) => state.authentication.user.user.id);\r\n  const lang = useSelector(\r\n    (state) => state.authentication.user.user.language.id\r\n  );\r\n  let currentPlaySession = useSelector((state) =>\r\n    state.play_sessions ? state.play_sessions.items[0] : {}\r\n  );\r\n  const { play_sessionsActions } = apiActions;\r\n  // const { missionsActions, play_sessionsActions, player_actionsActions, user_game_resultsActions } = apiActions\r\n  const hasPlayed = useSelector((state) =>\r\n    state.game.items.resultsCount ? state.game.items.resultsCount > 0 : false\r\n  );\r\n  const dialogInitialState = {\r\n    dialogHistory: [],\r\n    dialogStep: 0,\r\n    correct: 0,\r\n    characterFeeling: \"init\",\r\n    preSpeech: null,\r\n    convOptions: [],\r\n  };\r\n\r\n  React.useEffect(() => {\r\n    if (mission) dispatch(musicActions.set(mission.backgroundAudio.url));\r\n    return () => dispatch(musicActions.set(\"\"));\r\n  }, [dispatch, mission]);\r\n\r\n  //fetch mission if doesn't already have\r\n  React.useEffect(() => {\r\n    if (!mission || !missionData) dispatch(gameActions.getById(\"missions\", id));\r\n  }, [id, mission, dispatch, missionData]);\r\n\r\n  // check if user already played the game\r\n  React.useEffect(() => {\r\n    let updatedState = {};\r\n    if (mission && !state.checkedPlayed) {\r\n      dispatch(\r\n        gameActions.find(\"results/count\", {\r\n          user: userId,\r\n          mission: mission.id,\r\n        })\r\n      );\r\n      updatedState.checkedPlayed = true;\r\n    }\r\n\r\n    if (hasPlayed) setState({ ...state, ...updatedState, hasPlayed });\r\n\r\n    // eslint-disable-next-line\r\n  }, [userId, mission, dispatch, hasPlayed]);\r\n\r\n  //track player actions\r\n  React.useEffect(() => {\r\n    if (!state.tracking || !currentPlaySession) return;\r\n\r\n    const getClickedObject = (e) => {\r\n      dispatch(\r\n        play_sessionsActions.update(\r\n          { id: currentPlaySession.id },\r\n          {\r\n            ...currentPlaySession,\r\n            playerActions: [\r\n              ...currentPlaySession.playerActions,\r\n              {\r\n                tag: e.target.nodeName,\r\n                alt: e.target.alt,\r\n                className: e.target.className,\r\n                innerHTML: e.target.innerHTML.includes(\"<div\")\r\n                  ? null\r\n                  : e.target.innerHTML,\r\n                clickTime: new Date(),\r\n              },\r\n            ],\r\n          }\r\n        )\r\n      );\r\n    };\r\n\r\n    document.addEventListener(\"mousedown\", getClickedObject);\r\n\r\n    setState((s) => {\r\n      return { ...s, currentPlaySession, getClickedObject };\r\n    });\r\n    return () => {\r\n      document.removeEventListener(\"mousedown\", getClickedObject);\r\n    };\r\n  }, [dispatch, play_sessionsActions, state.tracking, currentPlaySession]);\r\n  /*//Testing tool\r\n\tif(error){\r\n\t\terror = null\r\n\t\tmission = stub\r\n\t}\r\n\t*/\r\n\r\n  //Randomizar personagens para aparecer nas salas\r\n  //\tEnquanto houver personagens na lista de personagens disponíveis\r\n  //\t\tEscolhe um local ao acaso\r\n  //\t\tEscolhe um personagem dentre a lista de personagens disponíveis ao acaso\r\n  //\t\tAdiciona personagem ao local\r\n  //\t\tRetira personagem da lista de personagens disponíveis\r\n\r\n  React.useEffect(() => {\r\n    if (missionData && state.locations.length === 0) {\r\n      // safe copies\r\n      let availableCharacters = missionData.missionCharacters.slice(0);\r\n      let locations = missionData.locations.map((location) => {\r\n        delete location.characters;\r\n        return { location: location, missionCharacters: [] };\r\n      });\r\n\r\n      let tutorialRoom = missionData.tutorial;\r\n\r\n      //distribute on locations\r\n      while (availableCharacters.length > 0) {\r\n        // sorteia sala aleatoriamente com pesos que diminuem dependendo de quantos personagens já se tem\r\n        let totalWeight = 0;\r\n        let crowdestRoomPop = 0;\r\n        let emptiestRoomPop = 999;\r\n        const minPerRoom = 1;\r\n        const maxPerRoom = 5;\r\n        locations.forEach((location) => {\r\n          crowdestRoomPop = Math.max(\r\n            location.missionCharacters.length,\r\n            crowdestRoomPop\r\n          );\r\n          emptiestRoomPop = Math.min(\r\n            location.missionCharacters.length,\r\n            emptiestRoomPop\r\n          );\r\n        });\r\n\r\n        const maxWeight = (() => {\r\n          if (emptiestRoomPop < minPerRoom) return minPerRoom;\r\n          else if (emptiestRoomPop < maxPerRoom) return maxPerRoom;\r\n          else return crowdestRoomPop + 1;\r\n        })();\r\n\r\n        totalWeight = 0;\r\n        const weights = locations.map((location) => {\r\n          let weight = maxWeight - location.missionCharacters.length;\r\n          totalWeight += weight;\r\n          return weight;\r\n        });\r\n\r\n        let rand = Math.floor(Math.random() * totalWeight);\r\n        let i = 0;\r\n        while (rand >= 0) rand -= weights[i++];\r\n        const locationIndex = i - 1;\r\n\r\n        //each character has some good and bad questions that can be asked\r\n        let availableAnswers = [...availableCharacters[0].answers];\r\n        let correct = availableAnswers.filter(\r\n          (answer) => answer.question.correct\r\n        );\r\n        let ncorrect = availableAnswers.filter(\r\n          (answer) => !answer.question.correct\r\n        );\r\n\r\n        let selectedQuestions = [];\r\n        // ? E se correct/ncorrect não tiveram a quantidade necessária de perguntas?\r\n        while (selectedQuestions.length < 6) {\r\n          let source = selectedQuestions.length % 2 === 0 ? correct : ncorrect;\r\n          let index = Math.floor(Math.random(0, source.length));\r\n          selectedQuestions.push(source[index]);\r\n          source.splice(index, 1);\r\n        }\r\n\r\n        // Aleatorizando para que nem sempre venham as perguntas na ordem certo->errado\r\n        if (Math.floor(Math.random(0, 1) < 0.5)) {\r\n          let temp = selectedQuestions[0];\r\n          selectedQuestions[0] = selectedQuestions[1];\r\n          selectedQuestions[1] = temp;\r\n        }\r\n        if (Math.floor(Math.random(0, 1) > 0.5)) {\r\n          let temp = selectedQuestions[2];\r\n          selectedQuestions[2] = selectedQuestions[3];\r\n          selectedQuestions[3] = temp;\r\n        }\r\n\r\n        locations[locationIndex].missionCharacters = [\r\n          ...locations[locationIndex].missionCharacters,\r\n          {\r\n            ...availableCharacters[0],\r\n            selectedQuestions,\r\n            zDepth: Math.random(),\r\n          },\r\n        ];\r\n\r\n        availableCharacters.splice(0, 1);\r\n      }\r\n\r\n      // Aleatorizando ordem dos personagens em cada sala\r\n      for (let i = 0; i < locations.length; i++) {\r\n        let amountChars = locations[i].missionCharacters.length;\r\n        if (amountChars <= 1) continue;\r\n        for (let j = 0; j < amountChars - 1; j++) {\r\n          let exchangeWith = Math.floor(Math.random() * (amountChars - j)) + j;\r\n          if (j === exchangeWith) continue; // Não precisa trocar se for consigo mesmo\r\n          //swap\r\n          let aux = locations[i].missionCharacters[j];\r\n          locations[i].missionCharacters[j] =\r\n            locations[i].missionCharacters[exchangeWith];\r\n          locations[i].missionCharacters[exchangeWith] = aux;\r\n        }\r\n      }\r\n      const tipsCount =\r\n        missionData.missionCharacters.filter((missionCharacter) => {\r\n          return missionCharacter.tip;\r\n        }).length + 1;\r\n      setState((state) => {\r\n        return { ...state, locations, tutorialRoom, tipsCount };\r\n      });\r\n    }\r\n  }, [missionData, state.locations]);\r\n\r\n  const onStartGame = (e) => {\r\n    if (state.tracking) {\r\n      dispatch(\r\n        play_sessionsActions.create({\r\n          usersPermissionsUser: userId,\r\n          mission: mission.id,\r\n        })\r\n      );\r\n    }\r\n    //check if should start or skip tutorial\r\n    setState({ ...state, scene: \"TUTORIAL\" });\r\n  };\r\n\r\n  const endTutorial = () => {\r\n    let updateState = {\r\n      showConvo: false,\r\n      currentChar: null,\r\n      scene: \"ROOM\",\r\n      ...dialogInitialState,\r\n    };\r\n    setState({ ...state, ...updateState });\r\n  };\r\n\r\n  const setTutorialCharacter = (tutorialCharacter) => () => {\r\n    setState({\r\n      ...state,\r\n      tutorialStep: state.tutorialStep + 1,\r\n      showConvo: true,\r\n      currentChar: tutorialCharacter.character,\r\n      convOptions: tutorialCharacter.answers.map((answer) => {\r\n        return {\r\n          ...answer,\r\n          answer: answer.answer.split(\";\"),\r\n        };\r\n      }),\r\n    });\r\n  };\r\n\r\n  //shows only selected questions\r\n  const setCurrentCharacter = (character) => () => {\r\n    setState({\r\n      ...state,\r\n      showConvo: true,\r\n      currentChar: character,\r\n      dialogStep: 0,\r\n      convOptions: state.locations[state.currentRoom].missionCharacters\r\n        .find((c) => c.character.id === character.character.id)\r\n        .selectedQuestions.slice(0, state.questionsByStep),\r\n    });\r\n  };\r\n\r\n  const closeDialog = (dialogHistory) => {\r\n    setState({\r\n      ...state,\r\n      ...dialogInitialState,\r\n      showConvo: false,\r\n      shouldCloseConvo: false,\r\n      currentChar: null,\r\n    });\r\n  };\r\n\r\n  const afterWriter = () => {\r\n    if (state.scene === \"TUTORIAL\") {\r\n      setTimeout(() => {\r\n        setState({\r\n          ...state,\r\n          tutorialStep: state.tutorialStep + 1,\r\n        });\r\n      }, 1500);\r\n    } else {\r\n      let updateState = {};\r\n      if (state.dialogStep < state.totalDialogSteps) {\r\n        updateState.convOptions = state.locations[\r\n          state.currentRoom\r\n        ].missionCharacters\r\n          .find((mc) => mc.character.id === state.currentChar.character.id)\r\n          .selectedQuestions.slice(\r\n            state.questionsByStep * state.dialogStep,\r\n            state.questionsByStep * (state.dialogStep + 1)\r\n          );\r\n      } else if (state.dialogStep === state.totalDialogSteps) {\r\n        if (state.correct < state.correctMinimum) {\r\n          updateState.preSpeech = state.currentChar.wrongEndAnswer;\r\n          updateState.convOptions = [\r\n            { refresh: true, question: { question: \"Sim\" } },\r\n            {\r\n              close: true,\r\n              question: { question: \"Não\" },\r\n              answer: state.currentChar.endDialog,\r\n            },\r\n          ];\r\n        } else {\r\n          updateState.convOptions = [\r\n            {\r\n              tip: state.currentChar.tip,\r\n              question: {\r\n                question: \"Estou procurando alguém. Você pode me ajudar?\",\r\n              },\r\n              answer: state.currentChar.rightEndAnswer,\r\n              correct: true,\r\n            },\r\n          ];\r\n        }\r\n      } else {\r\n        const tchaus = [\r\n          \"Ah tá, tchau!\",\r\n          \"Ok. Valeu!\",\r\n          \"Tchau!\",\r\n          \"Até mais!\",\r\n          \"Entendi... Muito obrigado!\",\r\n          \"Até logo!\",\r\n          \"Até a próxima!\",\r\n        ];\r\n        const rIdx = Math.floor(Math.random() * tchaus.length);\r\n        updateState.convOptions = [\r\n          {\r\n            close: true,\r\n            question: { question: tchaus[rIdx], correct: true },\r\n            answer: state.currentChar.endDialog,\r\n          },\r\n        ];\r\n      }\r\n      if (state.closeAfterWritter) {\r\n        delete state.closeAfterWritter;\r\n        updateState.convOptions = [];\r\n        updateState.shouldCloseConvo = true;\r\n      }\r\n      setState({ ...state, ...updateState });\r\n    }\r\n  };\r\n\r\n  const onRefreshDialog = () => {\r\n    setState({\r\n      ...state,\r\n      ...dialogInitialState,\r\n      refreshDialog: null,\r\n      convOptions: state.locations[state.currentRoom].missionCharacters\r\n        .find((c) => c.character.id === state.currentChar.character.id)\r\n        .selectedQuestions.slice(0, state.questionsByStep),\r\n    });\r\n  };\r\n\r\n  const onMenuButtonClick = (answer) => {\r\n    let updateState = {};\r\n\r\n    if (answer.tip && state.tips.indexOf(answer.tip) === -1)\r\n      updateState = { ...updateState, tips: [...state.tips, answer.tip] };\r\n\r\n    if (answer.refresh)\r\n      updateState = { ...updateState, refreshDialog: onRefreshDialog };\r\n    else if (answer.close)\r\n      updateState = { ...updateState, closeAfterWritter: true };\r\n    else {\r\n      if (state.scene === \"TUTORIAL\") {\r\n        updateState = {\r\n          ...updateState,\r\n          characterFeeling: \"wrongQuestion\",\r\n          convOptions: [],\r\n        };\r\n      } else {\r\n        updateState = {\r\n          ...updateState,\r\n          spokenCharacters: state.spokenCharacters,\r\n          validQuestions: state.validQuestions,\r\n          characterFeeling: null,\r\n        };\r\n        if (\r\n          updateState.spokenCharacters.indexOf(\r\n            state.currentChar.character.name\r\n          ) === -1\r\n        )\r\n          updateState.spokenCharacters.push(state.currentChar.character.name);\r\n\r\n        //change character face\r\n        if (answer.correct) {\r\n          if (updateState.validQuestions.hasOwnProperty(answer.question)) {\r\n            updateState.validQuestions[answer.question]++;\r\n          } else {\r\n            updateState.validQuestions[answer.question] = 0;\r\n          }\r\n          updateState.characterFeeling = \"rightQuestion\";\r\n        } else {\r\n          updateState.characterFeeling = \"wrongQuestion\";\r\n        }\r\n      }\r\n\r\n      updateState = {\r\n        ...updateState,\r\n        dialogStep: state.dialogStep + 1,\r\n        correct: state.correct + (answer.correct ? 1 : 0),\r\n      };\r\n    }\r\n\r\n    setState({ ...state, ...updateState });\r\n  };\r\n\r\n  const checkEnd = () => {\r\n    setState({\r\n      ...state,\r\n      acusation: false,\r\n      scene: \"ENDGAME\",\r\n      gameEndState: state.currentChar.character.name === state.targetName,\r\n      characterFeeling:\r\n        state.currentChar.character.name === state.targetName\r\n          ? \"rightAccusation\"\r\n          : \"wrongAccusation\",\r\n      currentChar: null,\r\n    });\r\n\r\n    //aqui\r\n    dispatch(\r\n      gameActions.create(\"results\", {\r\n        user: userId,\r\n        mission: mission.id,\r\n        score: state.score,\r\n        tipsCount: state.tips.length,\r\n        spokenCharactersCount: state.spokenCharacters.length,\r\n        won: state.gameEndState,\r\n        validQuestionsCount: Object.keys(state.validQuestions).length,\r\n      })\r\n    );\r\n\r\n    dispatch(\r\n      headerActions.setAll(\r\n        mission.name,\r\n        mission.nameTranslate.find((name) => {\r\n          return name.language.id === lang;\r\n        }).name\r\n      )\r\n    );\r\n    dispatch(headerActions.setState(headerConstants.STATES.OVERLAY));\r\n  };\r\n\r\n  const tutorialScreen = (id) => {\r\n    return (\r\n      <div id=\"room-itself\" className=\"tutorial\">\r\n        <Sala roomData={state.tutorialRoom.location} key={-1}>\r\n          <Character\r\n            character={state.tutorialRoom.character}\r\n            onClick={setTutorialCharacter(state.tutorialRoom)}\r\n          />\r\n          <div className=\"abs-fix\">\r\n            <div id=\"tutorial-popup-1\">\r\n              <span lang=\"pt-br\">\r\n                Selecione alguém para conversar e te ajudar a encontrar o seu\r\n                guia.\r\n              </span>\r\n              <span lang=\"en\">\r\n                Select someone to talk and help you find your guide.\r\n              </span>\r\n              {hasPlayed ? (\r\n                <button\r\n                  className=\"btn btn-center\"\r\n                  id=\"btn-tutorial\"\r\n                  onClick={() => {\r\n                    setState({ ...state, scene: \"ROOM\" });\r\n                  }}\r\n                >\r\n                  Skip tutorial\r\n                </button>\r\n              ) : null}\r\n            </div>\r\n          </div>\r\n        </Sala>\r\n        {state.showConvo && (\r\n          <Conversa\r\n            onExited={() => {\r\n              setState({\r\n                ...state,\r\n                showConvo: false,\r\n                tutorialStep: state.tutorialStep - 1,\r\n              });\r\n            }}\r\n            convOptions={state.convOptions.reduce((acc, convOption) => {\r\n              let option = {\r\n                ...convOption,\r\n                answers: convOption.answer,\r\n                question: convOption.question.question,\r\n              };\r\n              delete option.answer;\r\n              return [...acc, option];\r\n            }, [])}\r\n            currentChar={state.currentChar}\r\n            charFeeling={state.characterFeeling}\r\n            afterWriter={afterWriter}\r\n            onConvoChoiceMade={onMenuButtonClick}\r\n          />\r\n        )}\r\n        {id === 2 && (\r\n          <div id=\"tutorial-popup-2-wrapper\">\r\n            <div id=\"tutorial-popup-2-content\">\r\n              <span lang=\"pt-br\">\r\n                <strong>Lembre-se:</strong> As pessoas estão ocupadas em seus\r\n                ambientes de trabalho, então tenha certeza de não gastar o tempo\r\n                delas com perguntas fora de contexto!\r\n              </span>\r\n              <span lang=\"en\">\r\n                <strong>Remember:</strong> People are busy in their workplaces,\r\n                so be sure not to waste their times with question that are out\r\n                of yout context!\r\n              </span>\r\n              <button\r\n                className=\"btn btn-center\"\r\n                id=\"btn-end-tutorial\"\r\n                onClick={endTutorial}\r\n              >\r\n                Continuar\r\n              </button>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const restart = () => {\r\n    setState({ ...initialState(true, true) });\r\n    dispatch(headerActions.setState(headerConstants.STATES.HIDDEN));\r\n  };\r\n\r\n  return (\r\n    <div id=\"game2-wrapper\">\r\n      {loading ? (\r\n        <div>Loading...</div>\r\n      ) : error ? (\r\n        <div>{error}</div>\r\n      ) : (\r\n        mission && (\r\n          <div id=\"game2-content\">\r\n            {/*<div id=\"input-tracker\">TrackInput: <input type=\"checkbox\" onChange={(e) => { setState({ ...state, tracking: e.target.checked }) }} /></div>*/}\r\n            {(function renderScene() {\r\n              // eslint-disable-next-line default-case\r\n              switch (state.scene) {\r\n                case \"INIT\":\r\n                  return (\r\n                    <Init\r\n                      icon={iconInit}\r\n                      name={mission.name}\r\n                      description={mission.description}\r\n                      nameTranslate={\r\n                        mission.nameTranslate.find((name) => {\r\n                          return name.language.id === lang;\r\n                        }).name\r\n                      }\r\n                      descriptionTranslate={\r\n                        mission.descriptionTranslate.find((description) => {\r\n                          return description.language.id === lang;\r\n                        }).description\r\n                      }\r\n                      onStart={onStartGame}\r\n                      onBack={() => setState({ ...state, back: true })}\r\n                      ready={state.tutorialRoom ? true : false}\r\n                    />\r\n                  );\r\n                case \"TUTORIAL\":\r\n                  return tutorialScreen(state.tutorialStep);\r\n                case \"ROOM\":\r\n                  return (\r\n                    <div id=\"room-itself\">\r\n                      <RoomSelect\r\n                        buttonList={state.locations.map(\r\n                          (location, index) => index\r\n                        )}\r\n                        onChange={(num) => {\r\n                          setState({ ...state, currentRoom: num });\r\n                        }}\r\n                      />\r\n                      {/* //? Pq sala recebe a location inteira? Se ela só precisa saber a imagem de fundo,\r\n\t\t\t\t\t\t\t\t\t\t//? pq passar tudo ao invés de só passar a string? Que aí poderia ser local ou na rede... */}\r\n                      {state.showTips ? (\r\n                        <FullscreenOverlay\r\n                          style={{ zIndex: 100 }}\r\n                          onClickClose={() =>\r\n                            setState({ ...state, showTips: false })\r\n                          }\r\n                        >\r\n                          <div>\r\n                            <div id=\"big-phone-wrapper\">\r\n                              <div id=\"big-phone-imgs\">\r\n                                <img src={palma} alt=\"hand\" />\r\n                                <img\r\n                                  style={{ marginLeft: \"22.5%\" }}\r\n                                  src={bloco}\r\n                                  alt=\"note\"\r\n                                />\r\n                                <img src={dedao} alt=\"thumb\" />\r\n                              </div>\r\n                              <div id=\"big-phone-screen-wrapper\">\r\n                                <div\r\n                                  id=\"big-phone-screen-content\"\r\n                                  className=\"section-title\"\r\n                                >\r\n                                  <span lang=\"pt-br\">Dicas:</span>\r\n                                  <div>\r\n                                    {state.tips.map((tip, index) => (\r\n                                      <div\r\n                                        key={index}\r\n                                        style={{\r\n                                          position: \"absolute\",\r\n                                          padding: \"10%\",\r\n                                          width: \"100%\",\r\n                                        }}\r\n                                      >\r\n                                        <div>{tip}</div>\r\n                                        <hr />\r\n                                      </div>\r\n                                    ))}\r\n                                  </div>\r\n                                </div>\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                        </FullscreenOverlay>\r\n                      ) : (\r\n                        <Button\r\n                          style={{ position: \"absolute\" }}\r\n                          onClick={() => setState({ ...state, showTips: true })}\r\n                        >\r\n                          <img\r\n                            style={{ width: 90 }}\r\n                            src={blocoButton}\r\n                            alt=\"tips\"\r\n                          />\r\n                        </Button>\r\n                      )}\r\n                      <Sala\r\n                        roomData={state.locations[state.currentRoom].location}\r\n                        key={state.currentRoom}\r\n                      >\r\n                        {state.locations[\r\n                          state.currentRoom\r\n                        ].missionCharacters.map((missionCharacter, index) => (\r\n                          <Character\r\n                            key={index}\r\n                            zDepth={missionCharacter.zDepth}\r\n                            character={missionCharacter.character}\r\n                            onClick={setCurrentCharacter(missionCharacter)}\r\n                            // showNameOnHover={true} descomentar linha se quiser que os nomes dos personagens apareça sob hover do mouse\r\n                          />\r\n                        ))}\r\n                      </Sala>\r\n                      {state.showConvo && (\r\n                        <Conversa\r\n                          shouldExit={state.shouldCloseConvo}\r\n                          prevDialogHistory={[]}\r\n                          onClearDialogHistory={state.refreshDialog}\r\n                          charPreSpeech={state.preSpeech}\r\n                          convOptions={state.convOptions.reduce(\r\n                            (acc, convOption) => {\r\n                              let option = {\r\n                                ...convOption,\r\n                                ...convOption.question,\r\n                                answers: convOption.answer,\r\n                              };\r\n                              delete option.answer;\r\n                              return [...acc, option];\r\n                            },\r\n                            []\r\n                          )}\r\n                          currentChar={state.currentChar.character}\r\n                          charFeeling={state.characterFeeling}\r\n                          afterWriter={afterWriter}\r\n                          onExited={closeDialog}\r\n                          onConvoChoiceMade={onMenuButtonClick}\r\n                        >\r\n                          <AcusationLamp\r\n                            onClick={() =>\r\n                              setState({ ...state, acusation: true })\r\n                            }\r\n                          />\r\n                        </Conversa>\r\n                      )}\r\n                    </div>\r\n                  );\r\n                case \"ENDGAME\":\r\n                  return (\r\n                    <div id=\"endGame-screen\">\r\n                      {state.gameEndState ? (\r\n                        <div id=\"end-panels\">\r\n                          <div id=\"painel-icon\">\r\n                            <img\r\n                              src={\r\n                                state.tries === 0\r\n                                  ? iconVitoriaPrim\r\n                                  : iconVitoriaPers\r\n                              }\r\n                              alt=\"\"\r\n                            />\r\n                          </div>\r\n                          <div id=\"endgame-messages\">\r\n                            {state.tries === 0 ? (\r\n                              <div className=\"painel\" id=\"painel-1\">\r\n                                <div className=\"painel-1-wrapper\">\r\n                                  <div className=\"painel-1-content\">\r\n                                    <span lang=\"pt-br\">\r\n                                      Muito bem! Você encontrou a pessoa na\r\n                                      primeira tentativa. Vai arrasar na sua\r\n                                      nova carreira!\r\n                                    </span>\r\n                                    <span lang=\"en\">\r\n                                      Well done! You have found the right person\r\n                                      on your first try. You're going to rock on\r\n                                      your new career!\r\n                                    </span>\r\n                                  </div>\r\n                                </div>\r\n                                <a href=\"#painel-2\" className=\"next-btn\">\r\n                                  {\"❯\"}\r\n                                </a>\r\n                              </div>\r\n                            ) : (\r\n                              <div className=\"painel\" id=\"painel-1\">\r\n                                <div className=\"painel-1-wrapper\">\r\n                                  <div className=\"painel-1-content\">\r\n                                    <span lang=\"pt-br\">\r\n                                      Você encontrou a pessoa certa! Parabéns!\r\n                                    </span>\r\n                                    <span lang=\"en\">\r\n                                      You have found the right person! Congrats!\r\n                                    </span>\r\n                                  </div>\r\n                                </div>\r\n                                <a href=\"#painel-2\" className=\"next-btn\">\r\n                                  {\"❯\"}\r\n                                </a>\r\n                              </div>\r\n                            )}\r\n                            <div className=\"painel\" id=\"painel-2\">\r\n                              <div className=\"painel-2-wrapper\">\r\n                                <div\r\n                                  className=\"painel-2-content\"\r\n                                  style={{\r\n                                    backgroundImage:\r\n                                      \"url(\" +\r\n                                      (state.tips.length === state.tipsCount\r\n                                        ? blobAzul\r\n                                        : blobVerde) +\r\n                                      \")\",\r\n                                  }}\r\n                                >\r\n                                  <div>\r\n                                    <span>{state.tips.length ?? 0}</span>/\r\n                                    <span>{state.tipsCount}</span>\r\n                                  </div>\r\n                                  <div>clues</div>\r\n                                </div>\r\n                              </div>\r\n                              <div className=\"painel-2-wrapper\">\r\n                                <div className=\"painel-2-content\">\r\n                                  <div>\r\n                                    <p>\r\n                                      After talking to{\" \"}\r\n                                      {state.spokenCharacters.length} people,\r\n                                      you found {state.tips.length} of the{\" \"}\r\n                                      {state.tipsCount} existing clues.\r\n                                    </p>\r\n                                    <p>\r\n                                      Regarding the questions you asked,{\" \"}\r\n                                      {Object.keys(state.validQuestions).length}{\" \"}\r\n                                      of them were useful.\r\n                                    </p>\r\n                                  </div>\r\n                                </div>\r\n                              </div>\r\n                              <a href=\"#painel-1\" className=\"prev-btn\">\r\n                                {\"❮\"}\r\n                              </a>\r\n                            </div>\r\n                          </div>\r\n                          <div id=\"endGame-action-btns\">\r\n                            <Button onClick={restart}>Tentar novamente</Button>\r\n                            <Button\r\n                              onClick={() => setState({ ...state, back: true })}\r\n                            >\r\n                              Sair do jogo\r\n                            </Button>\r\n                          </div>\r\n                        </div>\r\n                      ) : (\r\n                        <div id=\"endGame-wrong-wrapper\">\r\n                          <div>\r\n                            <div className=\"painel\" id=\"painel-1\">\r\n                              <div id=\"painel-icon-derrota\">\r\n                                <img src={iconDerrota} alt=\"\" />\r\n                              </div>\r\n                              <span lang=\"pt-br\">\r\n                                Você ainda não encontrou a pessoa certa. Como\r\n                                você vai entender o que deve ser feito em seu\r\n                                novo trabalho? Você ainda precisa descobrir\r\n                                algumas dicas.\r\n                              </span>\r\n                              <span lang=\"en\">\r\n                                You still haven't found the right person. How\r\n                                will you understand what has to be done in your\r\n                                new job? There are clues yet to be found.\r\n                              </span>\r\n                            </div>\r\n                            <div className=\"painel\" id=\"painel-3\">\r\n                              <div className=\"painel-2-wrapper\">\r\n                                <div\r\n                                  className=\"painel-2-content\"\r\n                                  style={{\r\n                                    backgroundImage: \"url(\" + blobLaranja + \")\",\r\n                                  }}\r\n                                >\r\n                                  <div>\r\n                                    <span>{state.tips.length ?? 0}</span>/\r\n                                    <span>{state.tipsCount}</span>\r\n                                  </div>\r\n                                  <div>clues</div>\r\n                                </div>\r\n                              </div>\r\n                              <div className=\"painel-2-wrapper\">\r\n                                <div className=\"painel-2-content\">\r\n                                  <div>\r\n                                    <p>\r\n                                      After talking to{\" \"}\r\n                                      {state.spokenCharacters.length} people,\r\n                                      you found {state.tips.length} of the{\" \"}\r\n                                      {state.tipsCount} existing clues.\r\n                                    </p>\r\n                                    <p>\r\n                                      Regarding the questions you asked,{\" \"}\r\n                                      {Object.keys(state.validQuestions).length}{\" \"}\r\n                                      of them were useful. Try asking more\r\n                                      relevant questions!\r\n                                    </p>\r\n                                  </div>\r\n                                </div>\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                          <div id=\"endGame-action-btns\">\r\n                            <Button onClick={restart}>Tentar novamente</Button>\r\n                            <Button\r\n                              onClick={() => setState({ ...state, back: true })}\r\n                            >\r\n                              Sair do jogo\r\n                            </Button>\r\n                          </div>\r\n                        </div>\r\n                      )}\r\n                      {state.gameEndState && (\r\n                        <DialogCharacter\r\n                          character={\r\n                            missionData.missionCharacters.find((mc) => {\r\n                              return mc.character.name === state.targetName;\r\n                            }).character\r\n                          }\r\n                          feeling={\"win\"}\r\n                        />\r\n                      )}\r\n                    </div>\r\n                  );\r\n              }\r\n            })()}\r\n            {state.acusation && (\r\n              <FullscreenOverlay\r\n                showCloseBtn={false}\r\n                shouldExit={state.closeAcusation}\r\n                onReadyToExit={() => {\r\n                  setState({\r\n                    ...state,\r\n                    closeAcusation: false,\r\n                    acusation: false,\r\n                  });\r\n                }}\r\n              >\r\n                <div id=\"dialog-accusation-wrapper\">\r\n                  <div id=\"dialog-accusation\">\r\n                    <div id=\"accusation-infos\">\r\n                      <div>\r\n                        <span lang=\"pt-br\">Tem certeza?</span>\r\n                        <span lang=\"en\">\r\n                          Are you sure it's them?\r\n                          <br />\r\n                          Check your tips.\r\n                        </span>\r\n                      </div>\r\n                      <div id=\"tips-received\">\r\n                        <div id=\"accusation-icon\">\r\n                          <img src={iconDicas} alt=\"\" />\r\n                        </div>\r\n                        {state.tips.length > 0 ? (\r\n                          state.tips.map((tip, index) => (\r\n                            <div key={index}>{tip}</div>\r\n                          ))\r\n                        ) : (\r\n                          <div>Nenhuma dica recebida.</div>\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                    <div id=\"accusation-btns\">\r\n                      <Button\r\n                        onClick={() =>\r\n                          setState({ ...state, closeAcusation: true })\r\n                        }\r\n                      >\r\n                        Não\r\n                      </Button>\r\n                      <Button onClick={checkEnd}>Sim</Button>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </FullscreenOverlay>\r\n            )}\r\n          </div>\r\n        )\r\n      )}\r\n      {state.back && <Redirect to=\"/userspace\" />}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Game2;\r\n","import React from 'react'\r\n\r\nconst zeroFill = (s, size) => {\r\n  while(s.length < size){\r\n    s = '0' + s\r\n  }\r\n  return s\r\n}\r\nconst Timer = ({seconds, onEnd, onSecondPassed, run = true}) => {\r\n  const [state, setState] = React.useState({seconds: seconds, timeout: null})\r\n  const previousRef = React.useRef();\r\n\r\n  React.useEffect(() => {\r\n    if(state === previousRef.current && state.seconds !== seconds){\r\n      //console.log('external side effect update')***\r\n      return\r\n    }\r\n\r\n    if(!run) return state.timeout ? () => clearTimeout(state.timeout) : null\r\n\r\n    if(state.seconds === 0){\r\n      if(onEnd) onEnd()\r\n    }\r\n    else if(state.seconds > 0)\r\n    {\r\n      previousRef.current = state\r\n      let timeout = setTimeout(() =>\r\n      {\r\n        setState({seconds: state.seconds - 1, timeout: timeout})\r\n        if(onSecondPassed) onSecondPassed(state.seconds - 1)\r\n      }, 1000)\r\n\r\n      return () => clearTimeout(state.timeout)\r\n    }\r\n  }, [state, onEnd, onSecondPassed, run, seconds])\r\n\r\n  return(\r\n    <div>\r\n      {zeroFill(Math.floor(state.seconds / 60).toString(), 2)}:{zeroFill((state.seconds % 60).toString(), 2)}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Timer\r\n\r\n/***\r\n    Internal setState causes Timer component to update.\r\n    onSecondPassed may cause an external setState, leading to an update which could reupdate Timer component.\r\n\r\n    To prevent useEffect of entering the if statement responsable for setTimeout call, which leads to double that frame setTimeout callback,\r\n    previous state is compared to the new state.\r\n\r\n    In the first run, new state is in fact equal to current state.\r\n    In this case, the entering seconds value is verified.\r\n*/\r\n","const stub = {\r\n  name: 'Vamos as compras!',\r\n  description: 'Bora comprar as comidas ae',\r\n  ingredients: [\r\n    {name: 'maçã'},\r\n    {name: 'uva'},\r\n    {name: 'pera'},\r\n    {name: 'carne'},\r\n    {name: 'alho'}\r\n  ],\r\n  moneyTypes:[\r\n    {\r\n      url: '',\r\n      value: 25\r\n    },\r\n    {\r\n      url: '',\r\n      value: 0.5\r\n    },\r\n    {\r\n      url: '',\r\n      value: 1\r\n    },\r\n    {\r\n      url: '',\r\n      value: 2\r\n    },\r\n    {\r\n      url: '',\r\n      value: 5\r\n    },\r\n    {\r\n      url: '',\r\n      value: 10\r\n    },\r\n    {\r\n      url: '',\r\n      value: 20\r\n    },\r\n    {\r\n      url: '',\r\n      value: 50\r\n    },\r\n    {\r\n      url: '',\r\n      value: 100\r\n    },\r\n  ],\r\n  corridors:[\r\n    {\r\n      name: 'Frutas',\r\n      shelveProducts:[\r\n        {name: 'maçã'},\r\n        {name: 'uva'},\r\n        {name: 'pera'},\r\n        {name: 'banana'},\r\n        {name: 'melancia'}\r\n      ]\r\n    },\r\n    {\r\n      name: 'frios',\r\n      shelveProducts:[\r\n        {name: 'carne'},\r\n        {name: 'queijo'},\r\n        {name: 'presunto'},\r\n        {name: 'iogurte'},\r\n        {name: 'frango'}\r\n      ]\r\n    },\r\n    {\r\n      name: 'verduras e legumes',\r\n      shelveProducts:[\r\n        {name: 'batata'},\r\n        {name: 'rabanete'},\r\n        {name: 'beterraba'},\r\n        {name: 'espinafre'},\r\n        {name: 'alface'}\r\n      ]\r\n    },\r\n    {\r\n      name: 'temperos',\r\n      shelveProducts:[\r\n        {name: 'pimenta do reino'},\r\n        {name: 'sal'},\r\n        {name: 'alho'},\r\n        {name: 'cebolinha'}\r\n      ]\r\n    }\r\n  ]\r\n}\r\n\r\nexport default stub\r\n","const initialState = () => {\r\n  return {\r\n    scene: 'INIT',\r\n    cart: [],\r\n    currentAisle: 0,\r\n    checkout: false,\r\n    onPayment: false,\r\n    payment: [],\r\n    win: false,\r\n    change: null,\r\n    paymentAmount: null,\r\n    runTimer: true,\r\n    reaminingTime: 0\r\n  }\r\n}\r\n\r\nexport default initialState\r\n","import React from 'react'\r\nimport { Redirect, Link } from 'react-router-dom'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\n\r\nimport { apiActions } from '../../_actions'\r\n\r\nimport Button from '@material-ui/core/Button'\r\n\r\nimport Init from '../Game2/components/Init'\r\nimport Timer from './Timer'\r\nimport stub from './stub'\r\nimport initialState from './initialState'\r\n\r\nconst goRound = (value, max) => value >= 0 ? value % max : max - (Math.abs(value) % max)\r\n\r\nconst Game3 = (props) => {\r\n  const [state, setState] = React.useState({...initialState()})\r\n  const dispatch = useDispatch()\r\n  const mission = useSelector( state => state.game_3_missions.items.find( m => m.id === props.match.params.id) )\r\n  const onStartGame = () => {\r\n    setState({...state, scene: 'TUTORIAL'})\r\n  }\r\n\r\n  React.useEffect(() =>{\r\n    if(!mission && props.match.params.id){\r\n      dispatch(apiActions.game_3_missionsActions.getById(props.match.params.id))\r\n    }\r\n  }, [dispatch, mission, props.match.params.id])\r\n\r\n  const addProduct = (product) => () => setState({...state, cart: [...state.cart, product]})\r\n\r\n  const removeProduct = (index) => () => {\r\n    setState({...state,\r\n      cart: [\r\n        ...state.cart.slice(0, index),\r\n        ...state.cart.slice(index + 1)\r\n      ]\r\n    })\r\n  }\r\n\r\n  const toPreviousaisle = () => setState(\r\n    {...state,\r\n      currentAisle: goRound(state.currentAisle - 1, mission.aisles.length)\r\n    })\r\n\r\n\r\n  const toNextaisle = () => setState(\r\n    {...state,\r\n      currentAisle: goRound(state.currentAisle + 1, mission.aisles.length)\r\n    })\r\n\r\n  const haveAll = () => {\r\n    for(let i = 0; i < mission.ingredients.length; i++)\r\n        if(!state.cart.find( item => item.name === mission.ingredients[i].name))\r\n          return false\r\n    return true\r\n  }\r\n\r\n  const addToPayment = (money) => () => {\r\n    setState({...state, payment: [...state.payment, money]})\r\n  }\r\n\r\n  const removeFromPayment = (index) => () => {\r\n    setState({...state, payment: [...state.payment.slice(0, index), ...state.payment.slice(index+1)]})\r\n  }\r\n\r\n  const moveToPayment = () => {\r\n    setState({...state, onPayment: true, price: state.cart.reduce( (acc, product) => product.price + acc, 0)})\r\n  }\r\n\r\n  const doPayment = () => {\r\n    let updateData = {}\r\n    updateData.paymentAmount = state.payment.reduce( (acc, money) => money.value + acc, 0)\r\n    updateData.change = updateData.paymentAmount - state.price\r\n    setState({...state, ...updateData})\r\n  }\r\n\r\n  const receiveChange = () => {\r\n    let updateData = {}\r\n    updateData.scene = 'END_GAME'\r\n    updateData.win = true\r\n    setState({...state, ...updateData})\r\n\r\n  }\r\n\r\n  //const { mission } = state\r\n  //console.log('mission:', mission)\r\n  return(\r\n    <div>\r\n    { mission ?\r\n    //verificar se é possível generalizar esses gameX-wrapper\r\n    <div id=\"game2-wrapper\">\r\n      {(function renderScene(){\r\n        switch(state.scene){\r\n            case 'INIT':\r\n              return(\r\n                <Init name={mission.name} description={mission.description}\r\n  \t\t\t\t\t\t\tonStart={ onStartGame }\r\n  \t\t\t\t\t\t\tonBack={ () => setState({...state, back: true}) }\r\n                nameTranslate={'Tradução'}\r\n                descriptionTranslate={'Tradução'}\r\n                />\r\n              )\r\n            case 'TUTORIAL':\r\n              return(\r\n                <div>\r\n                  Tutorial\r\n                  <div>\r\n                    Apresentador\r\n                  </div>\r\n                  <div>\r\n                    Fala\r\n                    <div>\r\n                      Receita\r\n                      <div>\r\n                        {mission.ingredients.map( (ingredient, index) =>\r\n                          <div key={index}>\r\n                            {ingredient.name}\r\n                          </div>\r\n                        )}\r\n                      </div>\r\n                      <button onClick={()=> setState({...state, scene: 'MARKET'})}>\r\n                        Estou pronto\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              )\r\n            case 'MARKET':\r\n              return(\r\n                <div>\r\n                  <Timer\r\n                    run={state.runTimer} seconds={mission.seconds}\r\n                    onSecondPassed={(remaining) => setState({...state, remainingTime: remaining})}\r\n                    onEnd={() => setState({...state, scene: 'END_GAME', timeUp: true})} />\r\n\r\n                  <button onClick={() => setState({...state, shopList: !state.shopList})}>\r\n                    {state.shopList? 'Fechar' : 'Abrir'} lista de compras\r\n                  </button>\r\n                  {!state.checkout &&\r\n                    <div>\r\n                      <div className='Prateleira'>\r\n                        <div>Corredor: {mission.aisles[state.currentAisle].name}</div>\r\n                        {mission.aisles[state.currentAisle].products.map((product, index) =>\r\n                          <button key={index} onClick={addProduct(product)}>{product.name}</button>\r\n                        )}\r\n                      </div>\r\n\r\n                      <button className='Voltar' onClick={toPreviousaisle}>\r\n                        Voltar ao corredor {mission.aisles[goRound(state.currentAisle - 1, mission.aisles.length)].name}\r\n                      </button>\r\n\r\n                      <button className='Avançar' onClick={toNextaisle}>\r\n                        Ir ao corredor {mission.aisles[goRound(state.currentAisle + 1, mission.aisles.length)].name}\r\n                      </button>\r\n\r\n                      <button onClick={() => setState({...state, checkout: true, runTimer: false})}>\r\n                        Ir para o caixa\r\n                      </button>\r\n                    </div>\r\n                  }\r\n\r\n                  {state.checkout &&\r\n                    <div>\r\n                      Caixa\r\n                      {haveAll() ?\r\n                        <button onClick={moveToPayment}>\r\n                          Pagar\r\n                        </button>\r\n                        :\r\n                        <div>\r\n                          Está faltando coisa aí!\r\n                          <button onClick={() => setState({...state, checkout: false, runTimer: true})}>Voltar às compras</button>\r\n                        </div>\r\n                      }\r\n                      {state.onPayment &&\r\n                        <div>\r\n                          Hora de pagar! Sua compra deu {Number.parseFloat(state.price).toFixed(2)}\r\n                          <button onClick={doPayment}>\r\n                            Finalizar Compra\r\n                          </button>\r\n                          {state.paymentAmount && state.paymentAmount < state.price &&\r\n                            <div>Opa, pagament insuficiente.</div>\r\n                          }\r\n                          {state.change &&\r\n                            <div className='PopUp'>\r\n                              <div>Seu troco! {state.change}</div>\r\n                              <div>O troco está correto?</div>\r\n                              <button onClick={receiveChange}>Yes</button>\r\n                              <button onClick={receiveChange}>No</button>\r\n                            </div>\r\n                          }\r\n                          <div>\r\n                            {mission.moneyTypes.map( (money, index) =>\r\n                              <Button key={index} onClick={addToPayment(money)}>\r\n                                <img style={{width: 50}} src={money.image.url} alt='money'/>\r\n                              </Button>\r\n                            )}\r\n                          </div>\r\n\r\n                          <div>\r\n                          {state.payment.map((money, index) =>\r\n                            <div key={index}>\r\n                              <img style={{width: 50}} src={money.image.url} alt='money'/>\r\n                              <button onClick={removeFromPayment(index)}>Remover</button>\r\n                            </div>\r\n                          )}\r\n                          </div>\r\n                        </div>\r\n                      }\r\n                    </div>\r\n                  }\r\n\r\n                  <div className='carrinho'>\r\n                    {state.cart.map((product, index) =>\r\n                      <div key={index}>{product.name}\r\n                        { !state.checkout &&\r\n                          <button onClick={removeProduct(index)}>Remover</button>\r\n                        }\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n\r\n                  {state.shopList &&\r\n                    <div className='Lista de compras'>\r\n                        <div>\r\n                          {mission.ingredients.map( (ingredient, index) =>\r\n                            <div key={index}>{ingredient.name}</div>\r\n                          )}\r\n                        </div>\r\n                    </div>\r\n                  }\r\n                </div>\r\n              )\r\n            case 'END_GAME':\r\n              return(\r\n                <div>\r\n                  {state.timeUp &&\r\n                    <div>\r\n                      Seu tempo acabou!\r\n                    </div>\r\n                  }\r\n                  {state.win &&\r\n                    <div>\r\n                      Parabens!! isso e isso deu certo, mas isso e isso deu errado!\r\n                    </div>\r\n                  }\r\n                  <button onClick={()=>setState({...initialState, mission: stub})}>\r\n                    Jogar novamente\r\n                  </button>\r\n                  <Link to={'/userspace'}>\r\n                    Sair do jogo\r\n                  </Link>\r\n                </div>\r\n              )\r\n            default:\r\n              return(\r\n                <div>\r\n                  Erro\r\n                </div>\r\n              )\r\n      }})()}\r\n    {state.back && <Redirect to={'/userspace'} />}\r\n    </div>\r\n    :\r\n    <div>Loading..</div>\r\n    }\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Game3\r\n","import React from 'react'\r\n\r\nconst Recipe = ({recipe, closeText, onClose}) => {\r\n  return(\r\n    <div>\r\n      Receita\r\n      <div>\r\n        {recipe.map( (ingredient, index) =>\r\n          <div key={index}>\r\n            {ingredient.name}\r\n          </div>\r\n        )}\r\n      </div>\r\n      <button onClick={onClose? onClose : () =>{}}>\r\n        {closeText? closeText : \"Fechar\"}\r\n      </button>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Recipe\r\n","const stub = {\r\n  name: 'Missão 4 mutcho louca',\r\n  description: 'Prepare-se pra uma missão do barulho com essa galerinha que vai agitar a sua tarde',\r\n  seconds: 180,\r\n  recipe: [\r\n    {name: 'tomate'},\r\n    {name: 'queijo'},\r\n    {name: 'pão'},\r\n    {name: 'presunto'},\r\n    {name: 'ovo'}\r\n  ],\r\n  ingredients:[\r\n    {name: 'tomate'},\r\n    {name: 'alho'},\r\n    {name: 'queijo'},\r\n    {name: 'pimentão'},\r\n    {name: 'requeijão'},\r\n    {name: 'pão'},\r\n    {name: 'feijão'},\r\n    {name: 'presunto'},\r\n    {name: 'ovo'},\r\n    {name: 'macarrão'}\r\n  ],\r\n  dishes:[\r\n    {name: 'garfo', img:'garfoImagem'},\r\n    {name: 'faca', img:'facaImagem'},\r\n    {name: 'prato', img:'pratoImagem'},\r\n    {name: 'furadeira', img:'furadeiraImagem'},\r\n    {name: 'tigela', img:'tigelaImagem'},\r\n    {name: 'copo', img:'copoImagem'},\r\n    {name: 'britadeira', img:'britadeiraImagem'}\r\n  ],\r\n  rightDishes:[\r\n    {name: 'garfo', img:'garfoImagem'},\r\n    {name: 'faca', img:'facaImagem'},\r\n    {name: 'prato', img:'pratoImagem'}\r\n  ]\r\n}\r\n\r\nexport default stub\r\n","const initialState = (runTimer = true) => {\r\n  return {\r\n    scene: 'INIT',\r\n    runTimer: runTimer,\r\n    remainingTime: 0,\r\n    timeUp: false,\r\n    showRecipe: false,\r\n\r\n    selectItem: true,\r\n    selected: null,\r\n\r\n    cookPhase: true,\r\n    shuffled: [],\r\n    orderedLetters: [],\r\n    result: '',\r\n    prepared: [],\r\n\r\n    servePhase: false,\r\n    shuffledDishes: [],\r\n    shuffledDishesNames: [],\r\n    dishImageSelected: '',\r\n    dishNameSelected: '',\r\n    pairCheck: false,\r\n    tableDish: [],\r\n    allDishes: false\r\n  }\r\n}\r\n\r\nexport default initialState\r\n","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nimport Init from '../Game2/components/Init'\r\nimport Timer from '../Game3/Timer'\r\nimport Recipe from './components/Recipe'\r\n\r\nimport stub from './stub'\r\nimport initialState from './initialState'\r\n\r\nconst shuffleArray = (array) => {\r\n  let copy = array.slice(0)\r\n  let shuffled = []\r\n  while(copy.length > 0){\r\n    let index = (Math.trunc(Math.random()*100)) % copy.length\r\n    shuffled.push(copy[ index ])\r\n    copy = [...copy.slice(0, index), ...copy.slice(index+1)]\r\n  }\r\n  return shuffled\r\n\r\n}\r\n\r\nconst shuffleString = (word) => {\r\n  let copy = word.slice(0)\r\n  let shuffled = []\r\n  while(copy.length > 0){\r\n    let index = (Math.trunc(Math.random()*100)) % copy.length\r\n    shuffled.push(copy[ index ])\r\n    copy = copy.slice(0, index) + copy.slice(index+1)\r\n  }\r\n  return shuffled\r\n}\r\n\r\nconst Game4 = () => {\r\n  const [state, setState] = React.useState(initialState())\r\n  const mission = stub\r\n  const onStartGame = () => setState({...state, scene: 'TUTORIAL'})\r\n  const onSecondPassed = remaining => setState( state => { return {...state, remainingTime: remaining} })\r\n  const onTimeEnd = () => setState({...state, scene: 'END_GAME', timeUp: true})\r\n\r\n  const next = () => {\r\n    setState({...state,\r\n      servePhase: state.allPrepared,\r\n      cookPhase: !state.allPrepared,\r\n\r\n      selectItem: true,\r\n      selected: null,\r\n      orderedLetters: []\r\n    })\r\n  }\r\n\r\n  const onLetterClick = (letter, index) => () => {\r\n    let updateState = {}\r\n    updateState.orderedLetters = [...state.orderedLetters, letter]\r\n    updateState.shuffled = [...state.shuffled.slice(0, index), ...state.shuffled.slice(index+1)]\r\n\r\n    if(updateState.shuffled.length === 0){\r\n      updateState.prepared = [...state.prepared, state.selected.name]\r\n      for(let i = 0; i < mission.recipe.length; i++){\r\n         updateState.allPrepared = updateState.prepared.includes(mission.recipe[i].name)\r\n\r\n         if(!updateState.allPrepared) break;\r\n      }\r\n    }\r\n    setState({...state, ...updateState })\r\n  }\r\n\r\n  const onNameSelected = item => () => {\r\n    let updateState = {}\r\n    let dish = mission.dishes.find( d => d.img === state.dishImageSelected)\r\n    updateState.pairCheck = item === dish.name\r\n    if(updateState.pairCheck){\r\n      updateState.tableDish = [...state.tableDish, {...dish}]\r\n      let index = state.shuffledDishes.findIndex( d => d === dish.img)\r\n      updateState.shuffledDishes = [...state.shuffledDishes.slice(0, index), ...state.shuffledDishes.slice(index+1)]\r\n      index = state.shuffledDishesNames.findIndex( d => d === dish.name)\r\n      updateState.shuffledDishesNames = [...state.shuffledDishesNames.slice(0, index), ...state.shuffledDishesNames.slice(index+1)]\r\n\r\n      for(let i = 0; i < mission.rightDishes.length; i++){\r\n         updateState.allDishes = updateState.tableDish.findIndex( d => d.name === mission.rightDishes[i].name ) !== -1\r\n\r\n         if(!updateState.allDishes) break\r\n      }\r\n      if(updateState.allDishes){\r\n        updateState.servePhase = false\r\n        updateState.win = true\r\n        updateState.scene = 'END_GAME'\r\n        updateState.runTimer = false\r\n      }\r\n    }\r\n    setState({...state,\r\n      selectItem: !state.selectItem,\r\n      dishImageSelected: '',\r\n      ...updateState\r\n    })\r\n  }\r\n\r\n  return(\r\n    <div>\r\n      {(function renderScene(){\r\n        switch(state.scene){\r\n          case 'INIT':\r\n            return (\r\n              <Init\r\n                name={mission.name}\r\n                description={mission.description}\r\n                onStart={ onStartGame }\r\n                onBack={() => setState({...state, back: true})}\r\n                onSeeTutorial={ state.hasPlayed ? () => { setState({...state, seeTutorial: true}); onStartGame()} : null }\r\n              />\r\n            )\r\n          case 'TUTORIAL':\r\n            return(\r\n              <div>\r\n                Tutorial\r\n                <div>\r\n                  Apresentador\r\n                </div>\r\n                <div>\r\n                  Fala\r\n                  <Recipe recipe={mission.recipe} closeText={'Estou pronto'} onClose={()=> setState({...state, scene: 'GAME'})} />\r\n                </div>\r\n              </div>\r\n            )\r\n          case 'GAME':\r\n            return(\r\n              <div>\r\n                <Timer\r\n                  run={state.runTimer} seconds={mission.seconds}\r\n                  onSecondPassed={onSecondPassed}\r\n                  onEnd={onTimeEnd}\r\n                />\r\n                <button onClick={ e => setState({...state, showRecipe: true})}>Ver receita</button>\r\n                {state.showRecipe && <Recipe recipe={mission.recipe} closeText={'Fechar'} onClose={ e => setState({...state, showRecipe: false})}/>}\r\n                <button onClick={() => setState({...state, cookPhase: false, servePhase: true,\r\n                    shuffledDishesNames: shuffleArray(mission.dishes.map(item => item.name)),\r\n                    shuffledDishes: shuffleArray(mission.dishes.map(item => item.img)) })}>\r\n                    Pular pra servir\r\n                </button>\r\n                {state.cookPhase &&\r\n                  (state.selectItem ?\r\n                  <div>\r\n                    {mission.ingredients.map( (item, index) =>\r\n                      <button key={index} onClick={ e => setState({...state, selected: {...item}})}>{item.name}</button>\r\n                    )}\r\n                  </div>\r\n                  :\r\n                  <div>\r\n                    <div>\r\n                      {state.shuffled.map((letter, index) =>\r\n                        <button key={index} onClick={onLetterClick(letter, index)}>\r\n                            {letter}\r\n                        </button>\r\n                      )}\r\n                    </div>\r\n                    <div>\r\n                      {state.shuffled.length === 0  &&\r\n                        (state.orderedLetters.reduce( (acc, letter) => acc + letter, '') === state.selected.name ?\r\n                        <div>\r\n                          <div>Acertou!</div>\r\n                          <Recipe recipe={mission.recipe}\r\n                            closeText={state.allPrepared ? 'Servir!' : 'Preparar próximo'}\r\n                            onClose={ next } />\r\n                        </div>\r\n                        :<div>Errou!</div>\r\n                      )}\r\n                      <button onClick={()=> setState({...state, orderedLetters: [], shuffled: shuffleString(state.selected.name)})}>\r\n                        Clear\r\n                      </button>\r\n                      {state.orderedLetters.map((letter, index) =>\r\n                        <span key={index}>-{letter}-</span>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                )}\r\n                {state.servePhase &&\r\n                  <div>\r\n                    Selecione um utensilio\r\n                    <div>\r\n                      {state.shuffledDishes.map( (item, index) =>\r\n                        <button key={index} disabled={!state.selectItem}\r\n                          onClick={()=> setState({...state, selectItem: !state.selectItem, dishImageSelected: item})}>\r\n                          {item}\r\n                        </button>\r\n                      )}\r\n                    </div>\r\n                    Nomes dos utensilios\r\n                    <div>\r\n                      {state.shuffledDishesNames.map( (item, index) =>\r\n                        <button key={index} disabled={state.selectItem}\r\n                          onClick={onNameSelected(item)}>\r\n                          {item}\r\n                        </button>\r\n                      )}\r\n                    </div>\r\n                    { state.pairCheck ? <div>Acertou!</div> : <div>Errou!</div>}\r\n                  </div>\r\n                }\r\n                  <div>\r\n                    Mesa\r\n                    <div>\r\n                      {state.selected &&\r\n                        (function showTable(){\r\n                          let item = mission.recipe.find( item => item.name === state.selected.name)\r\n                          if(item)\r\n                            return(\r\n                              <div>\r\n                                {state.selected.name}\r\n                                {!state.cook &&\r\n                                  <button onClick={()=> setState({...state, selectItem: false, shuffled: shuffleString(state.selected.name)})}>Preparar</button>\r\n                                }\r\n                              </div>\r\n                            )\r\n                          else\r\n                            return(\r\n                              <div>\r\n                                {state.selected.name}\r\n                                <div>Não faz parte da receita! :(</div>\r\n                                <button onClick={() => setState({...state, selected: null})}>Remover</button>\r\n                              </div>\r\n                            )\r\n                        })()\r\n                      }\r\n                    </div>\r\n                  </div>\r\n              </div>\r\n            )\r\n          case 'END_GAME':\r\n            return(\r\n              <div>\r\n                {state.win ?\r\n                  <div>\r\n                    Aaeaeaeee ganhou!\r\n                  </div>\r\n                  :\r\n                  <div>\r\n                    <div>Acabou o tempo!</div>\r\n                  </div>\r\n                }\r\n                <button onClick={() => setState(initialState())}>Jogar de novo</button>\r\n                <Link to={'/userspace'}>\r\n                  Sair do jogo\r\n                </Link>\r\n              </div>\r\n            )\r\n          default:\r\n            return (<div>Error</div>)\r\n        }\r\n      })()}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Game4\r\n","import React from 'react'\r\nimport { Route, Redirect } from 'react-router-dom'\r\n\r\nfunction PrivateRoute ({component: Component, roles, render, ...rest}){\r\n    return (\r\n        <Route {...rest}\r\n          render={ props => localStorage.getItem('user') ?\r\n                    Component ? <Component {...props} />\r\n                  : render && render(props)\r\n                  : <Redirect to={{ pathname: '/login', state: {from:props.location} }} />\r\n          }\r\n        />\r\n    )\r\n}\r\n\r\nexport { PrivateRoute }\r\n","import './index.scss'\r\n\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Button from '@material-ui/core/Button';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nimport React, { useState } from 'react'\r\nimport { Link, Redirect } from 'react-router-dom'\r\nimport { useDispatch, useSelector} from 'react-redux'\r\nimport { useAlert } from 'react-alert'\r\n\r\nimport { login } from '../../_actions'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n      height: '100vh',\r\n    },\r\n    image: {\r\n      backgroundImage: 'url(https://source.unsplash.com/random)',\r\n      backgroundRepeat: 'no-repeat',\r\n      backgroundColor:\r\n        theme.palette.type === 'light' ? theme.palette.grey[50] : theme.palette.grey[900],\r\n      backgroundSize: 'cover',\r\n      backgroundPosition: 'center',\r\n    },\r\n    paper: {\r\n      margin: theme.spacing(8, 4),\r\n      display: 'flex',\r\n      flexDirection: 'column',\r\n      alignItems: 'center',\r\n    },\r\n    avatar: {\r\n      margin: theme.spacing(1),\r\n      backgroundColor: theme.palette.secondary.main,\r\n    },\r\n    form: {\r\n      width: '100%', // Fix IE 11 issue.\r\n      marginTop: theme.spacing(1),\r\n    },\r\n    submit: {\r\n      margin: theme.spacing(3, 0, 2),\r\n    }\r\n  }));\r\n\r\nconst Login = () => {\r\n    const [inputs, setInputs] = useState({\r\n        email: '',\r\n        password: ''\r\n    })\r\n    const [submitted, setSubmitted ] = useState(false)\r\n    const { email, password } = inputs\r\n    const loggingIn = useSelector(state => state.authentication.loggingIn)\r\n    const user = useSelector(state => state.authentication.user)\r\n    const dispatch = useDispatch()\r\n    const classes = useStyles()\r\n    const alert = useAlert()\r\n\r\n    function handleChange(e) { \r\n        const {name, value} = e.target\r\n        setInputs(inputs => ({...inputs, [name]: value}))\r\n    }\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault()\r\n\r\n        setSubmitted(true)\r\n\r\n        if(email && password){\r\n            dispatch(login(email, password))\r\n              .catch(() => {\r\n                alert.error('Email and/or password invalid! Please, check your inputs and try again!')\r\n              })\r\n\r\n        } else {\r\n          alert.error('Email and/or password missing! Please, check your inputs and try again!')\r\n        }\r\n    }\r\n    \r\n    return (\r\n        <Grid container component=\"main\" className={classes.root}>\r\n          {user ? user.user ? <Redirect to='/userspace' /> : null : null}\r\n          <CssBaseline />\r\n          <Grid item xs={false} sm={4} md={7} className={classes.image} />\r\n          <Grid item xs={12} sm={8} md={5} component={Paper} elevation={6} square>\r\n            <div className={classes.paper}>\r\n              <Avatar className={classes.avatar}>\r\n                <LockOutlinedIcon />\r\n              </Avatar>\r\n              <Typography component=\"h1\" variant=\"h5\">\r\n                Sign in\r\n              </Typography>\r\n              <form onSubmit={handleSubmit} className={classes.form} noValidate>\r\n                <TextField\r\n                  variant=\"outlined\"\r\n                  margin=\"normal\"\r\n                  required\r\n                  fullWidth\r\n                  id=\"email\"\r\n                  label=\"E-mail\"\r\n                  name=\"email\"\r\n                  autoComplete=\"email\"\r\n                  autoFocus\r\n                  className={'form-control' + (submitted && !email ? ' is-invalid' : '')}\r\n                  onChange={handleChange}\r\n                />\r\n                <TextField\r\n                  variant=\"outlined\"\r\n                  margin=\"normal\"\r\n                  required\r\n                  fullWidth\r\n                  name=\"password\"\r\n                  label=\"Senha\"\r\n                  type=\"password\"\r\n                  id=\"password\"\r\n                  autoComplete=\"current-password\"\r\n                  className={'form-control' + (submitted && !password ? ' is-invalid' : '')}\r\n                  onChange={handleChange}\r\n                />\r\n                <Button\r\n                  type=\"submit\"\r\n                  fullWidth\r\n                  variant=\"contained\"\r\n                  color=\"primary\"\r\n                  className={classes.submit}\r\n                >\r\n                {loggingIn && <span className=\"spinner-border spinner-border-sm mr-1\"></span>}\r\n                  Sign in\r\n                </Button>\r\n                <Grid container justify=\"flex-end\">\r\n                  <Grid item>\r\n                    <Link to=\"/register\" variant=\"body2\">\r\n                    Don't have an account yet? Sign up!\r\n                    </Link>\r\n                  </Grid>\r\n                </Grid>\r\n              </form>\r\n            </div>\r\n          </Grid>\r\n        </Grid>\r\n      );\r\n\r\n\r\n}\r\n\r\nexport default Login \r\n","import './index.scss'\r\nimport React from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { Link } from 'react-router-dom'\r\nimport { gameActions } from '../../_actions'\r\n\r\nconst UserSpace = () => {\r\n\r\n  const user = useSelector(state => state.authentication.user.user)\r\n  const game = useSelector( state => state.game)\r\n  const dispatch = useDispatch()\r\n\r\n  React.useEffect(()=>{\r\n    dispatch(gameActions.getAll('missions'))\r\n  }, [dispatch])\r\n\r\n\r\n  // React.useEffect(()=>{\r\n  //   dispatch(game_1_missionsActions.getAll())\r\n  // }, [dispatch, game_1_missionsActions])\r\n\r\n  // React.useEffect(()=>{\r\n  //   dispatch(game_3_missionsActions.getAll())\r\n  // }, [dispatch, game_3_missionsActions])\r\n\r\n  return(\r\n    <div id=\"userspace\">\r\n      {!user.id ?\r\n        <div>Loading...</div>\r\n        :\r\n        <div>\r\n          <p>Oi {user.username}!</p>\r\n\r\n          {/* user.role.type === \"professor\"  && <div id=\"area-criacao\">\r\n            Área de criação\r\n            <div>\r\n              <Link to='/missions'>Ver Missões</Link>\r\n            </div>\r\n\r\n            <div>\r\n              <Link to='/characters'>Personagens</Link>\r\n            </div>\r\n\r\n            <div>\r\n              <Link to='/questions'>Perguntas</Link>\r\n            </div>\r\n          </div>\r\n        */}\r\n\r\n          <div className=\"jogos\">\r\n            <p>Jogos:</p>\r\n            <div id=\"missoes\">\r\n              {game.loading ? <div>Loading...</div> :\r\n                game.items.missions && game.items.missions.map( (mission, index) =>\r\n                <div key={index} className=\"missao\">\r\n                  <Link to={`/game${mission.gameType.game}/${mission.id}`}>\r\n                    <div id=\"imagem\"></div>\r\n                    <div id=\"card-text-wrapper\">\r\n                      <div id=\"nome-missao\">{mission.name}</div>\r\n                      <div id=\"descricao\">{mission.description}</div>\r\n                      <div id=\"recompensas\">Recompensas</div>\r\n                    </div>\r\n                  </Link>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      }\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default UserSpace\r\n","import React, { useState } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { apiActions, register } from '../../_actions'\r\nimport Avatar from '@material-ui/core/Avatar'\r\nimport Button from '@material-ui/core/Button'\r\nimport CssBaseline from '@material-ui/core/CssBaseline'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport Container from '@material-ui/core/Container'\r\nimport { useAlert } from 'react-alert'\r\nimport { Link, Redirect } from 'react-router-dom'\r\nimport { MenuItem } from '@material-ui/core'\r\n\r\nimport { login } from '../../_actions'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  form: {\r\n    width: '100%', // Fix IE 11 issue.\r\n    marginTop: theme.spacing(3),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n}))\r\n\r\n\r\nconst Register = () => {\r\n  const classes = useStyles()\r\n  const alert = useAlert()\r\n\r\n  const { languagesActions } = apiActions\r\n\r\n  const [inputs, setInputs] = useState({\r\n      email: '',\r\n      password: '',\r\n      username: '',\r\n      firstName: '',\r\n      lastName: '',\r\n      language: ''\r\n  })\r\n  const languages = useSelector(state => state.languages.items)\r\n  const [submitted, setSubmitted ] = useState(false)\r\n  const [redirect, setRedirect] = useState(false)\r\n  const [blocked, setBlocked] = useState(false)\r\n  const registering = useSelector(state => state.authentication.registering)\r\n  const user = useSelector(state => state.authentication.user)\r\n  const dispatch = useDispatch()\r\n\r\n  function handleChange(e) {\r\n      const {name, value} = e.target\r\n      setInputs(inputs => ({...inputs, [name]: value}))\r\n  }\r\n\r\n  React.useEffect(()=>{\r\n\t\tdispatch(languagesActions.getAll())\r\n\t}, [dispatch, languagesActions])\r\n\r\n  // É para executar somente no primeiro render\r\n  // Como um ComponentDidMount\r\n  React.useEffect(() => {\r\n    if( user?.user ) setRedirect(true)\r\n    // eslint-disable-next-line\r\n  }, [])\r\n\r\n  function handleSubmit(e) {\r\n      e.preventDefault()\r\n      setSubmitted(true)\r\n      setBlocked(true)\r\n      alert.info(\"Creating your account. Hold tight!\")\r\n\r\n      if(inputs.email && inputs.password && inputs.username && inputs.language){\r\n          dispatch(register(inputs))\r\n            .then(() => {\r\n              alert.success('Account succesfully created! Logging you in...')\r\n              dispatch(login(inputs.email, inputs.password))\r\n              setTimeout(()=>{\r\n                setRedirect(true)\r\n              }, 3000)\r\n            })\r\n            .catch(error => {\r\n              alert.error(error)\r\n              setBlocked(false)\r\n            })\r\n      } else {\r\n        alert.error('Required fields missing! Please, check your inputs and try again!')\r\n        setBlocked(false)\r\n      }\r\n  }\r\n\r\n  return (\r\n    <Container>\r\n    {/*<Container maxWidthXs=\"xs\">*/}\r\n      {(redirect && user?.user) && <Redirect to={'/userspace'} />}\r\n      <CssBaseline />\r\n      <div className={classes.paper}>\r\n        <Avatar className={classes.avatar}>\r\n          <LockOutlinedIcon />\r\n        </Avatar>\r\n        <Typography component=\"h1\" variant=\"h5\">\r\n          Register\r\n        </Typography>\r\n        <form onSubmit={handleSubmit} className={classes.form} noValidate>\r\n          <Grid container spacing={2}>\r\n            <Grid item xs={12} sm={6}>\r\n              <TextField\r\n                autoComplete=\"fname\"\r\n                name=\"firstName\"\r\n                variant=\"outlined\"\r\n                fullWidth\r\n                id=\"firstName\"\r\n                label=\"First Name\"\r\n                autoFocus\r\n                onChange={handleChange}\r\n                disabled={blocked}\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12} sm={6}>\r\n              <TextField\r\n                variant=\"outlined\"\r\n                fullWidth\r\n                id=\"lastName\"\r\n                label=\"Last Name\"\r\n                name=\"lastName\"\r\n                autoComplete=\"lname\"\r\n                onChange={handleChange}\r\n                disabled={blocked}\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <TextField\r\n                variant=\"outlined\"\r\n                required\r\n                fullWidth\r\n                id=\"username\"\r\n                label=\"Username\"\r\n                name=\"username\"\r\n                autoComplete=\"username\"\r\n                className={submitted && !inputs.username ? 'danger' : ''}\r\n                onChange={handleChange}\r\n                disabled={blocked}\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <TextField\r\n                variant=\"outlined\"\r\n                required\r\n                fullWidth\r\n                id=\"email\"\r\n                label=\"Email Address\"\r\n                name=\"email\"\r\n                autoComplete=\"email\"\r\n                className={submitted && !inputs.email ? 'danger' : ''}\r\n                onChange={handleChange}\r\n                disabled={blocked}\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <TextField\r\n                variant=\"outlined\"\r\n                required\r\n                fullWidth\r\n                name=\"password\"\r\n                label=\"Password\"\r\n                type=\"password\"\r\n                id=\"password\"\r\n                autoComplete=\"current-password\"\r\n                className={submitted && !inputs.password ? 'danger' : ''}\r\n                onChange={handleChange}\r\n                disabled={blocked}\r\n              />\r\n            </Grid>\r\n\r\n            <Grid item xs={12}>\r\n              <TextField\r\n                  variant=\"outlined\"\r\n                  required\r\n                  fullWidth\r\n                  name=\"language\"\r\n                  label=\"Language\"\r\n                  type=\"language\"\r\n                  id=\"language\"\r\n                  className={submitted && !inputs.language ? 'danger' : ''}\r\n                  onChange={handleChange}\r\n                  select\r\n                  disabled={blocked}\r\n                >\r\n                  {languages.map((language, index) =>\r\n                    <MenuItem value={language.id} key={index}>{language.name}</MenuItem>\r\n                  )}\r\n              </TextField>\r\n            </Grid>\r\n            \r\n          </Grid>\r\n\r\n          <Button\r\n            type=\"submit\"\r\n            fullWidth\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            className={classes.submit}\r\n            disabled={blocked}\r\n          >\r\n          {registering && <span className=\"spinner-border spinner-border-sm mr-1\"></span>}\r\n           Sign Up\r\n          </Button>\r\n          <Grid container justify=\"flex-end\">\r\n            <Grid item>\r\n              <Link to=\"/login\" variant=\"body2\">\r\n              Already have an account? Sign in!\r\n              </Link>\r\n            </Grid>\r\n          </Grid>\r\n        </form>\r\n      </div>\r\n    </Container>\r\n  )\r\n}\r\n\r\nexport default Register\r\n","import React from 'react'\r\n\r\nconst UserInfo = ({user}) => {\r\n  return(\r\n    <div>\r\n      Username: {user.username}\r\n      Email: {user.email}\r\n      Provider: {user.provider}\r\n      Confirmed: <input type='checkbox' checked={user.confirmed} />\r\n      Blocked: <input type='checkbox' checked={user.blocked} />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default UserInfo\r\n","import React from 'react'\r\n\r\nimport { useDispatch, useSelector} from 'react-redux'\r\nimport { userActions } from '../../_actions'\r\nimport Register from '../Register'\r\nimport UserInfo from '../../_components/UserInfo'\r\n\r\nconst UsersCRUD = () => {\r\n  const dispatch = useDispatch()\r\n  const users = useSelector( state => state.users )\r\n\r\n  React.useEffect(()=>{\r\n    dispatch(userActions.getAll())\r\n  }, [dispatch])\r\n\r\n  console.log('users:', users)\r\n\r\n  return (\r\n    <div>\r\n      <div>\r\n        Create User:\r\n        <Register />\r\n      </div>\r\n      <div>\r\n        All Users:\r\n        {users && users.items ? users.items.map( (user, index) =>\r\n          <div key={index}>\r\n            <UserInfo user={user} />\r\n            <button onClick={()=>{}}>\r\n              UPDATE USER\r\n            </button>\r\n            <button onClick={()=>dispatch(userActions.delete(user.id))}>\r\n              DELETE USER\r\n            </button>\r\n          </div>\r\n        ): null}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default UsersCRUD\r\n","import React from 'react'\r\n\r\nconst Mission = ({mission}) => {\r\n\r\n  return(\r\n    <div>\r\n      <div>Nome: {mission.name}</div>\r\n      <div>\r\n        <div>Descrição:</div>\r\n        <div>{mission.description}</div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Mission\r\n","import React from 'react'\r\n\r\nconst Character = ({character}) => {\r\n  const getAnswer = (qId) => {\r\n    let a = character.answers.find( answer => answer.question && answer.question.id === qId)\r\n    return a ? a.answer : ''\r\n  }\r\n\r\n  return(\r\n    <div style={{borderStyle: 'groove', borderRadius: 5}}>\r\n      <div style={{borderStyle: 'groove', borderRadius: 5}}>\r\n        <div>Name: {character.name}</div>\r\n        <div style={{display: 'flex'}}>\r\n          {character.characterAssets && character.characterAssets.length > 0 ?\r\n            character.characterAssets.map((characterAsset, index) =>\r\n              <div key={index}>\r\n                <img style={{width: 50}} src={`${character.characterAssets[index].image[0].url}`} alt={characterAsset.name}/>\r\n              </div>\r\n            ):'nenhum'\r\n          }\r\n        </div>\r\n        {character.characterAssets && <div>Layers: {character.characterAssets.length}</div>}\r\n        <div>Job: {character.job}</div>\r\n        <div>Country: {character.country}</div>\r\n        <div>Civil state: {character.civilState}</div>\r\n      </div>\r\n      <div>\r\n        <div> JOGO 1 - Missões que participa: </div>\r\n        {character.game_1_missions && character.game_1_missions.map((mission, index)=>\r\n          <div key={index}>\r\n            <div>{index+1}: {mission.name}</div>\r\n            {mission.questions.map((question, qIndex) =>\r\n              <div key={qIndex}>\r\n                <div>Pergunta: {question.question}</div>\r\n                <div>Resposta: {getAnswer(question.id)}</div>\r\n              </div>\r\n            )}\r\n          </div>\r\n        )}\r\n      </div>\r\n      <div>\r\n        <div> JOGO 2 - Missões que participa: </div>\r\n        {character.missions && character.missions.map((mission, index)=>\r\n          <div key={index}>\r\n            <div>{index+1}: {mission.name}</div>\r\n            {mission.questions.map((question, qIndex) =>\r\n              <div key={qIndex}>\r\n                <div>Pergunta: {question.question}</div>\r\n                <div>Resposta: {getAnswer(question.id)}</div>\r\n              </div>\r\n            )}\r\n          </div>\r\n        )}\r\n        <div>Errou alguma: {character.wrongAnswer}</div>\r\n        <div>Acertou o suficiente: {character.rightAnswer}</div>\r\n        <div>Dica: {character.tip}</div>\r\n        <div>Resposta à acusação: {character.acusationAnswer}</div>\r\n        <div>Despedida: {character.endDialog}</div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Character\r\n","import React from 'react'\r\n\r\nconst Question = ({question}) => {\r\n  return(\r\n    <div style={{display: 'flex', flexDirection: 'row'}}>\r\n      <span>{question.question}</span> <span>{question.correct? 'true' : 'false'}</span>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Question\r\n","import React from 'react'\r\n\r\nimport { useSelector } from 'react-redux'\r\n\r\nimport Button from '@material-ui/core/Button'\r\nimport AddIcon from '@material-ui/icons/Add'\r\nimport RemoveIcon from '@material-ui/icons/Remove'\r\nimport DoneIcon from '@material-ui/icons/Done'\r\n\r\nimport Character from '../Character'\r\nimport Question from '../Question'\r\n\r\nconst EditMission = ({mission, onDone}) => {\r\n  const [state, setState] = React.useState(mission)\r\n\r\n  const [charList, setCharList] = React.useState(mission.missionCharacters)\r\n  const [locationList, setLocationList] = React.useState(mission.locations)\r\n  const [questionList, setQuestionList] = React.useState(mission.questions)\r\n  const characters = useSelector(state => state.characters)\r\n  const locations = useSelector(state => state.locations)\r\n  const questions = useSelector(state => state.questions)\r\n\r\n  const addToMission = (character) => () => {\r\n    setCharList([...charList, character])\r\n  }\r\n\r\n  const removeFromMission = (character) => () => {\r\n    setCharList(charList.filter( c => c.id !== character.id) )\r\n  }\r\n\r\n  const addLocationToMission = (location) => () => {\r\n    setLocationList([...locationList, location])\r\n  }\r\n\r\n  const removeLocationFromMission = (location) => () => {\r\n    setLocationList(locationList.filter( l => l.id !== location.id) )\r\n  }\r\n\r\n  const addQuestionToMission = (question) => () => {\r\n    setQuestionList([...questionList, question])\r\n  }\r\n\r\n  const removeQuestionFromMission = (question) => () => {\r\n    setQuestionList(questionList.filter(c => c.id !== question.id))\r\n  }\r\n\r\n  const onClick = () => {\r\n    let newState = {\r\n      id: state.id,\r\n      name: state.name,\r\n      description: state.description\r\n    }\r\n    newState.characters = charList.reduce((acc, character) => [...acc, character.id], [] )\r\n    newState.locations = locationList.reduce((acc, location) => [...acc, location.id], [] )\r\n    newState.questions = questionList.reduce((acc, question) => [...acc, question.id], [] )\r\n    onDone(newState)\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <div>\r\n        Nome: <input value={state.name} onChange={ e => setState({...state, name: e.target.value})} />\r\n      </div>\r\n      <div>\r\n        Descrição: <input value={state.description} onChange={ e => setState({...state, description: e.target.value})} />\r\n      </div>\r\n\r\n      <div>\r\n        <div>Personagens na missão:</div>\r\n        {charList.map((character, index) =>\r\n          <div key={index} style={{display: 'flex', flexDirection: 'row'}}>\r\n            <Button onClick={removeFromMission(character)}><RemoveIcon /></Button>\r\n            <Character character={character}/>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      <div>\r\n        <div>Personagens disponíveis</div>\r\n        {characters.items && characters.items.length > 0 && characters.items\r\n          .filter( character => !charList.find( c => c.id === character.id ) )\r\n          .map( (character, index) =>\r\n          <div key={index} style={{display: 'flex', flexDirection: 'row'}}>\r\n            <Button onClick={addToMission(character)}>\r\n              <AddIcon />\r\n            </Button>\r\n            <Character character={character}/>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      <div>\r\n        <div>Locais na missão:</div>\r\n        {locationList.map((location, index) =>\r\n          <div key={index} style={{display: 'flex', flexDirection: 'row'}}>\r\n            <Button onClick={removeLocationFromMission(location)}><RemoveIcon /></Button>\r\n            <div>{location.name}</div>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      <div>\r\n        <div>Locais disponíveis</div>\r\n        {locations.items && locations.items.length > 0 && locations.items\r\n          .filter( location => !locationList.find( l => l.id === location.id ) )\r\n          .map( (location, index) =>\r\n          <div key={index} style={{display: 'flex', flexDirection: 'row'}}>\r\n            <Button onClick={addLocationToMission(location)}>\r\n              <AddIcon />\r\n            </Button>\r\n            <div>{location.name}</div>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      <div>\r\n        <div>Questions:</div>\r\n        {questionList.map( ( question, index) =>\r\n          <div key={index} style={{display: 'flex', flexDirection: 'row'}}>\r\n            <Button onClick={removeQuestionFromMission(question)}><RemoveIcon /></Button>\r\n            <Question question={question}/>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      <div>\r\n        <div>Preset questions</div>\r\n        {questions.items && questions.items.length > 0 && questions.items\r\n          .filter( question => !questionList.find( c => c.id === question.id) )\r\n          .map( (question, index) =>\r\n          <div key={index} style={{display: 'flex', flexDirection: 'row'}}>\r\n            <Button onClick={addQuestionToMission(question)}>\r\n              <AddIcon />\r\n            </Button>\r\n            <Question question={question}/>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      <Button onClick={onClick}><DoneIcon/></Button>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default EditMission\r\n","import React from 'react'\r\nimport { Link, Redirect } from 'react-router-dom'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\n\r\nimport { apiActions } from '../../_actions'\r\n\r\nimport Button from '@material-ui/core/Button'\r\nimport DeleteIcon from '@material-ui/icons/Delete'\r\nimport EditIcon from '@material-ui/icons/Edit'\r\nimport CancelIcon from '@material-ui/icons/Cancel'\r\n\r\nimport Mission from '../Mission'\r\nimport EditMission from '../EditMission'\r\n\r\nconst Missions = () => {\r\n  const { missionsActions, game_1_missionsActions } = apiActions\r\n  const dispatch = useDispatch()\r\n  const missions = useSelector( state => state.missions)\r\n  const game1missions = useSelector( state => state.game_1_missions)\r\n  const [ createMission, setCreateMission ] = React.useState(false)\r\n  const [ edit, setEdit ] = React.useState(-1)\r\n\r\n  React.useEffect(()=> {\r\n    setEdit(-1)\r\n    setCreateMission(false)\r\n  }, [missions])\r\n\r\n  React.useEffect(() => {\r\n    dispatch(game_1_missionsActions.getAll())\r\n  }, [dispatch, game_1_missionsActions])\r\n\r\n  React.useEffect(() => {\r\n    dispatch(missionsActions.getAll())\r\n  }, [dispatch, missionsActions])\r\n\r\n  return(\r\n    <div>\r\n      <div>\r\n        <div>Missões jogo 1</div>\r\n        {game1missions.items && game1missions.items.length > 0 && game1missions.items.map((mission, index) =>\r\n          <div key={index} style={{display: 'flex', flexDirection: 'row'}}>\r\n            {edit !== index ?\r\n              <Mission key={index} mission={mission} />\r\n              : <EditMission mission={mission} onDone={(newState) => {\r\n                  setEdit(-1)\r\n                  dispatch(game_1_missionsActions.update(newState))\r\n                }} /> }\r\n\r\n            {edit !== index ?\r\n              <Button><Link to={`missions/edit/game_1_missions/${mission.id}`}><EditIcon/></Link></Button>\r\n              : <Button onClick={() => setEdit(-1) }><CancelIcon/></Button>\r\n             }\r\n\r\n            <Button onClick={() => dispatch(game_1_missionsActions.delete(mission.id))}><DeleteIcon/></Button>\r\n          </div>\r\n        )}\r\n        <Button onClick={() => setCreateMission(!createMission)}>\r\n          {createMission? 'Cancelar' : 'Criar Missão'}\r\n        </Button>\r\n        {createMission &&  <Redirect to='missions/create'/>}\r\n      </div>\r\n      <div>\r\n        <div>Missões jogo 2</div>\r\n        {missions.items && missions.items.length > 0 && missions.items.map((mission, index) =>\r\n          <div key={index} style={{display: 'flex', flexDirection: 'row'}}>\r\n            {edit !== index ?\r\n              <Mission key={index} mission={mission} />\r\n              : <EditMission mission={mission} onDone={(newState) => {\r\n                  setEdit(-1)\r\n                  dispatch(missionsActions.update(newState))\r\n                }} /> }\r\n\r\n            {edit !== index ?\r\n              <Button><Link to={`missions/edit/${mission.id}`}><EditIcon/></Link></Button>\r\n              : <Button onClick={() => setEdit(-1) }><CancelIcon/></Button>\r\n             }\r\n\r\n            <Button onClick={() => dispatch(missionsActions.delete(mission.id))}><DeleteIcon/></Button>\r\n          </div>\r\n        )}\r\n        <Button onClick={() => setCreateMission(!createMission)}>\r\n          {createMission? 'Cancelar' : 'Criar Missão'}\r\n        </Button>\r\n        {createMission &&  <Redirect to='missions/create'/>}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Missions\r\n","import React from 'react'\r\nimport Radio from '@material-ui/core/Radio'\r\nimport { useDispatch } from 'react-redux'\r\nimport { apiActions } from '../../_actions'\r\nimport { useAlert } from 'react-alert'\r\n\r\nconst CreateCharacter = () => {\r\n  const { charactersActions } = apiActions\r\n  const [name, setName] = React.useState('')\r\n  const [job, setJob] = React.useState('')\r\n  const [civilState, setCivilState] = React.useState('single')\r\n  const civilStates = ['single', 'married', 'divorced', 'widowed']\r\n  const estadosCivis = ['solteir@', 'casad@', 'divorciad@', 'viúv@']\r\n  const dispatch = useDispatch()\r\n  const alert = useAlert()\r\n\r\n  const create = () => {\r\n    dispatch(charactersActions.create({name: name, job: job, civilState: civilState})).then(() => {\r\n        alert.success('Character created!')\r\n    })\r\n    .catch(error => {\r\n        alert.error(error)\r\n    })\r\n    setName('')\r\n    setJob('')\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <div>Criador de personagens:</div>\r\n      <div>Nome: <input type='text' value={name} onChange={ e => setName(e.target.value)} /> </div>\r\n      <div>Trabalho: <input type='text' value={job} onChange={ e => setJob(e.target.value)} /> </div>\r\n      <div>Estado civil:\r\n        {civilStates.map((cs, index) =>\r\n          <div key={index}>\r\n            <Radio checked={civilState === civilStates[index]} value={civilStates[index]} onChange={ e => setCivilState(e.target.value)}/>\r\n            {estadosCivis[index]}\r\n          </div>\r\n        )}\r\n      </div>\r\n      <button onClick={create}>Criar</button>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default CreateCharacter\r\n","import React from 'react'\r\nimport { useDispatch } from 'react-redux'\r\nimport { apiActions } from '../../_actions'\r\n\r\nimport Button from '@material-ui/core/Button'\r\n\r\nconst CreateLocation = () => {\r\n  const [state, setState] = React.useState({name: ''})\r\n  const dispatch = useDispatch()\r\n  const { locationsActions } = apiActions\r\n\r\n  const create = () => {\r\n    dispatch(locationsActions.create(state))\r\n    setState({name: ''})\r\n  }\r\n  return (\r\n    <div>\r\n      Nome: <input value={state.name} onChange={ e => setState({...state, name:e.target.value})} placeholder='Sala de estar' />\r\n      <Button onClick={create}>Salvar</Button>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default CreateLocation\r\n","import { React, useState } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { apiActions } from '../../_actions'\r\nimport Button from '@material-ui/core/Button'\r\nimport CssBaseline from '@material-ui/core/CssBaseline'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport Container from '@material-ui/core/Container'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { FormControlLabel, FormLabel, Radio, RadioGroup } from '@material-ui/core'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  form: {\r\n    width: '100%', // Fix IE 11 issue.\r\n    marginTop: theme.spacing(3),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n}))\r\n\r\nconst CreateQuestion = () => {\r\n    const { questionsActions }= apiActions\r\n    const dispatch = useDispatch()\r\n    const [inputs, setInputs] = useState({\r\n        question: '',\r\n        group: 0,\r\n        correct: true\r\n    })\r\n    const submitted = false\r\n    const classes = useStyles()\r\n    const creating = useSelector(state => state.authentication.registering)\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault()\r\n        console.log('inputs', inputs)\r\n        dispatch(questionsActions.create(inputs))\r\n    }\r\n\r\n    return (\r\n        <Container component=\"main\" maxWidth=\"sm\">\r\n            <CssBaseline />\r\n            <div className={classes.paper}>\r\n                <Typography component=\"h1\" variant=\"h5\">\r\n                Create Question\r\n                </Typography>\r\n                <form id=\"create-question-form\" onSubmit={handleSubmit} className={classes.form} noValidate>\r\n                    <Grid container spacing={2}>\r\n                        <Grid item xs={12}>\r\n                            <TextField\r\n                            type=\"textArea\"\r\n                            name=\"question\"\r\n                            variant=\"outlined\"\r\n                            id=\"question\"\r\n                            label=\"Question\"\r\n                            fullWidth\r\n                            required\r\n                            className={submitted && (inputs.question === \"\") ? 'danger' : ''}\r\n                            onChange={e => {setInputs(inputs => ({...inputs, question: e.target.value}))}}\r\n                            />\r\n                        </Grid>\r\n                        <Grid item xs={12} sm={6}>\r\n                            <TextField\r\n                            type=\"number\"\r\n                            variant=\"outlined\"\r\n                            fullWidth\r\n                            id=\"group\"\r\n                            label=\"Group\"\r\n                            name=\"group\"\r\n                            required\r\n                            aria-describedby=\"my-helper-text\"\r\n                            className={submitted && !inputs.group ? 'danger' : ''}\r\n                            onChange={e => {setInputs(inputs => ({...inputs,  group: parseInt(e.target.value)}))}}\r\n                            />\r\n                            <span id=\"my-helper-text\">Group is a integer that defines the which questions to show in every step. For example, if a question is group 1, it will be displayed on the first user interaction with a character.</span>\r\n                        </Grid>\r\n                        <Grid item xs={12} sm={6} justify=\"center\">\r\n                            <FormLabel component=\"legend\">Is question correct?</FormLabel>\r\n\r\n                            <RadioGroup\r\n                            aria-label=\"correct\"\r\n                            id=\"correct\"\r\n                            name=\"correct\"\r\n                            value={inputs.correct.toString()}\r\n                            required\r\n                            onChange={e => {setInputs(inputs => ({...inputs, correct: e.target.value === \"true\" ? true : false}))}}\r\n                            >\r\n                                <FormControlLabel value=\"true\" control={<Radio />} label=\"Correct\"/>\r\n                                <FormControlLabel value=\"false\" control={<Radio />} label=\"Incorrect\"/>\r\n                            </RadioGroup>\r\n                        </Grid>\r\n                    </Grid>\r\n\r\n                    <Button\r\n                    type=\"submit\"\r\n                    fullWidth\r\n                    variant=\"contained\"\r\n                    color=\"primary\"\r\n                    className={classes.submit}\r\n                    >\r\n                    {creating && <span className=\"spinner-border spinner-border-sm mr-1\"></span>}\r\n                    Create\r\n                    </Button>\r\n                </form>\r\n            </div>\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default CreateQuestion\r\n","import React from 'react'\r\nimport _ from 'lodash'\r\n\r\nconst EditMissionCharacter = ({missionCharacter, onDone, questions, cancel}) => {\r\n\r\n  const [state, setState] = React.useState({\r\n    answers: missionCharacter.answers ? [...missionCharacter.answers] : []\r\n  })\r\n\r\n  const editAnswer = (question, index) => e => {\r\n    console.log('question:', question)\r\n    let aQ = _.cloneDeep(missionCharacter.answers.find( answer => answer.question && answer.question.id === question.id))\r\n\r\n    let changedIndex = {...state.answers[index], answer: e.target.value}\r\n    if(!aQ) changedIndex.question = question.id\r\n\r\n    setState({\r\n      ...state,\r\n      answers: [\r\n        ...state.answers.slice(0, index),\r\n        changedIndex,\r\n        ...state.answers.slice(index+1)\r\n      ]\r\n    })\r\n  }\r\n  const getAnswer = (qId) => {\r\n    let a = state.answers.find( answer => answer.question && answer.question.id ? answer.question.id === qId : answer.question === qId)\r\n    console.log('a:', a)\r\n    return a ? a.answer : ''\r\n  }\r\n\r\n  return(\r\n    <div>\r\n      <div>\r\n        <div>\r\n          <div>Answers:</div>\r\n            {questions.map( (question, qIndex) =>\r\n              <div key={qIndex}>\r\n                <div>{question.question}</div>\r\n                <input type='text' value={getAnswer(question.id)}\r\n                  onChange={editAnswer(question, qIndex)} placeholder='Resposta'/>\r\n              </div>\r\n            )}  \r\n          <div>\r\n            <div>\r\n              Errou alguma opção:\r\n            </div>\r\n            <input type='text' value={missionCharacter.wrongAnswer} onChange={e => setState({...state, wrongAnswer: e.target.value})} placeholder='Errou alguma'/>\r\n          </div>\r\n          <div>\r\n            <div>\r\n              Acertou o suficiente:\r\n            </div>\r\n            <input type='text' value={missionCharacter.rightAnswer} onChange={e => setState({...state, rightAnswer: e.target.value})} placeholder='Acertou o suficiente'/>\r\n          </div>\r\n          <div>\r\n            <div>\r\n              Dica:\r\n            </div>\r\n            <input type='text' value={missionCharacter.tip} onChange={e => setState({...state, tip: e.target.value})} placeholder='Dica'/>\r\n          </div>\r\n          <div>\r\n            <div>\r\n              Resposta da acusação certa:\r\n            </div>\r\n            <input type='text' value={missionCharacter.rightAcusationAnswer} onChange={e => setState({...state, rightAcusationAnswer: e.target.value})} placeholder='Resposta à acusação'/>\r\n          </div>\r\n          <div>\r\n            <div>\r\n              Resposta da acusação errada:\r\n            </div>\r\n            <input type='text' value={missionCharacter.wrongAcusationAnswer} onChange={e => setState({...state, wrongAcusationAnswer: e.target.value})} placeholder='Resposta à acusação'/>\r\n          </div>\r\n          <div>\r\n            <div>\r\n              Despedida:\r\n            </div>\r\n            <input type='text' value={missionCharacter.endDialog} onChange={e => setState({...state, endDialog: e.target.value})} placeholder='Despedida'/>\r\n          </div>\r\n        </div>\r\n        <button onClick={onDone(state)}>Salvar</button>\r\n        <button onClick={cancel()}>Cancel</button>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\nexport default EditMissionCharacter","import React from 'react'\r\nimport _ from 'lodash'\r\n\r\nconst EditNewMissionCharacter = ({character, onDone, questions, cancel}) => {\r\n\r\n  const [missionCharacter, setmissionCharacter] = React.useState({...character})\r\n\r\n  const editAnswer = (question, index) => e => {\r\n    let aQ = _.cloneDeep(missionCharacter.answers.find( answer => answer.question && answer.question.id === question.id))\r\n\r\n    let changedIndex = {...missionCharacter.answers[index], answer: e.target.value}\r\n    if(!aQ) changedIndex.question = question.id\r\n\r\n    setmissionCharacter({\r\n      ...missionCharacter,\r\n      answers: [\r\n        ...missionCharacter.answers.slice(0, index),\r\n        changedIndex,\r\n        ...missionCharacter.answers.slice(index+1)\r\n      ]\r\n    })\r\n  }\r\n\r\n  const getAnswer = (qId) => {\r\n    let a = missionCharacter.answers.find( answer => answer.question && answer.question.id ? answer.question.id === qId : answer.question === qId)\r\n    \r\n    return a ? a.answer : ''\r\n  }\r\n\r\n  return(\r\n    <div>\r\n      <div>\r\n        <div>\r\n          <div>Answers:</div>\r\n            {questions.map( (question, qIndex) =>\r\n              <div key={qIndex}>\r\n                <div>{question.question}</div>\r\n                <input type='text' value={getAnswer(question.id)}\r\n                  onChange={editAnswer(question, qIndex)} placeholder='Resposta'/>\r\n              </div>\r\n            )}  \r\n          <div>\r\n            <div>\r\n              Errou alguma opção:\r\n            </div>\r\n            <input type='text' value={missionCharacter.wrongAnswer} onChange={e => setmissionCharacter({...missionCharacter, wrongAnswer: e.target.value})} placeholder='Errou alguma'/>\r\n          </div>\r\n          <div>\r\n            <div>\r\n              Acertou o suficiente:\r\n            </div>\r\n            <input type='text' value={missionCharacter.rightAnswer} onChange={e => setmissionCharacter({...missionCharacter, rightAnswer: e.target.value})} placeholder='Acertou o suficiente'/>\r\n          </div>\r\n          <div>\r\n            <div>\r\n              Dica:\r\n            </div>\r\n            <input type='text' value={missionCharacter.tip} onChange={e => setmissionCharacter({...missionCharacter, tip: e.target.value})} placeholder='Dica'/>\r\n          </div>\r\n          <div>\r\n            <div>\r\n              Resposta da acusação certa:\r\n            </div>\r\n            <input type='text' value={missionCharacter.rightAcusationAnswer} onChange={e => setmissionCharacter({...missionCharacter, rightAcusationAnswer: e.target.value})} placeholder='Resposta à acusação'/>\r\n          </div>\r\n          <div>\r\n            <div>\r\n              Resposta da acusação errada:\r\n            </div>\r\n            <input type='text' value={missionCharacter.wrongAcusationAnswer} onChange={e => setmissionCharacter({...missionCharacter, wrongAcusationAnswer: e.target.value})} placeholder='Resposta à acusação'/>\r\n          </div>\r\n          <div>\r\n            <div>\r\n              Despedida:\r\n            </div>\r\n            <input type='text' value={missionCharacter.endDialog} onChange={e => setmissionCharacter({...missionCharacter, endDialog: e.target.value})} placeholder='Despedida'/>\r\n          </div>\r\n        </div>\r\n        <button onClick={onDone(missionCharacter)}>Salvar</button>\r\n        <button onClick={cancel()}>Cancel</button>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\nexport default EditNewMissionCharacter\r\n","// eslint-disable-next-line import/no-anonymous-default-export\r\nconst missionCharacterInitialState = (character) => ({\r\n  character: character,\r\n  answers: [],\r\n  tip: '',\r\n  endDialog: '',\r\n  wrongAnswer: '',\r\n  rightAnswer: '',\r\n  wrongAcusationAnswer: '',\r\n  rightAcusationAnswer: '',\r\n  targetCharacter: false,\r\n})\r\n  \r\nexport default missionCharacterInitialState\r\n  \r\n","import React from 'react'\r\nimport { useDispatch } from 'react-redux'\r\nimport { apiActions } from '../../../_actions'\r\nimport Checkbox from '@material-ui/core/Checkbox'\r\n\r\nconst CreateGame1Data = ({data, characters}) => {\r\n\r\n  const dispatch = useDispatch()\r\n\r\n  const onCheckChange = (id, type) => e => {\r\n\r\n    let payload = {id: id, [type]: e.target.checked}\r\n    dispatch(apiActions.game_1_mission_charactersActions.update(payload))\r\n  }\r\n\r\n  return(\r\n    <div>\r\n      Dados do Game1:\r\n      {data && data.map((d, index) =>\r\n        <div>\r\n          <div>{characters.find(character => d.character === character.id).name}</div>\r\n          <div>\r\n            <Checkbox checked={d.showJob} onChange={onCheckChange(d.id, 'showJob')}/>\r\n            Show Job\r\n          </div>\r\n          <div>\r\n            <Checkbox checked={d.showCountry} label='ShowCountry' onChange={onCheckChange(d.id, 'showCountry')}/>\r\n            Show Country\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default CreateGame1Data\r\n","import React from 'react'\r\n\r\nconst Game2Data = () => {\r\n  return (\r\n    <div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Game2Data\r\n","import React from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\n\r\nimport AddIcon from '@material-ui/icons/Add'\r\nimport RemoveIcon from '@material-ui/icons/Remove'\r\nimport Button from '@material-ui/core/Button'\r\n\r\nimport CreateCharacter from '../CreateCharacter'\r\nimport CreateLocation from '../CreateLocation'\r\nimport Question from '../Question'\r\nimport CreateQuestion from '../CreateQuestion'\r\nimport EditMissionCharacter from './components/EditMissionCharacter'\r\nimport EditNewMissionCharacter from './components/EditNewMissionCharacter'\r\nimport missionCharacterInitialState from './missionCharacterInitialState'\r\n\r\n// import { useAlert } from 'react-alert'\r\n\r\nimport CreateGame1Data from './Game1Data'\r\nimport Game2Data from './Game2Data'\r\n\r\nimport { apiActions } from '../../_actions'\r\n\r\n//used for game 1 and 2 coincident data\r\nconst CreateMissionGame1 = (props) => {\r\n  const dispatch = useDispatch()\r\n  // const alert = useAlert()\r\n\r\n  //for edit\r\n  const game = props && props.match? props.match.params.game : null\r\n  const id = props && props.match ? props.match.params.id : null\r\n  const originalMission = useSelector( state => id && state[game].items.length > 0 ? state[game].items.filter(m => m.id === id)[0] : null )\r\n\r\n  const characters = useSelector( state => state.characters)\r\n  const locations = useSelector( state => state.locations)\r\n  const questions = useSelector( state => state.questions)\r\n\r\n  const [state, setState] = React.useState({\r\n    mission: {\r\n      name: '',\r\n      description: '',\r\n      missionCharacters: [],\r\n      locations: [],\r\n      questions:[]\r\n    },\r\n    charactersList: [],\r\n    charactersConfigList: [],\r\n    characterConfig: null,\r\n    newCharacterConfig: null,\r\n  })\r\n\r\n  //for edit\r\n  if(originalMission && !state.mission.id)\r\n    setState({...state, mission: {...originalMission}})\r\n\r\n  //refrashed route\r\n  React.useEffect(() => {\r\n    if(id && !originalMission)\r\n      dispatch(apiActions[game+\"Actions\"].getById(id))\r\n    if(characters.items.length === 0)\r\n      dispatch(apiActions.charactersActions.getAll())\r\n    if(locations.items.length === 0)\r\n      dispatch(apiActions.locationsActions.getAll())\r\n    if(questions.items.length === 0)\r\n      dispatch(apiActions.questionsActions.getAll())\r\n  }, [dispatch, id, originalMission, questions.items.length, locations.items.length, characters.items.length, game])\r\n\r\n  const [createCharacter, setCreateCharacter] = React.useState(false)\r\n  const [createLocation, setCreateLocation] = React.useState(false)\r\n  const [createQuestion, setCreateQuestion] = React.useState(false)\r\n\r\n  const createMission = () => {\r\n/*\r\n    let data = {...state.mission,\r\n      missionCharacters: state.mission.missionCharacters.map(missionCharacter => {\r\n        return missionCharacter.id\r\n      }),\r\n      missionCharactersCreate: [...state.charactersConfigList, ...state.charactersList]\r\n    }\r\n\r\n//  algo muito errado aqui\r\n\r\n//\r\n    state.charactersConfigList = []\r\n    state.charactersList = []\r\n\r\n    dispatch(apiActions.missionsActions.create(data))\r\n\r\n    data = {...state.mission}\r\n\r\n    let data = {...state.mission}\r\n    dispatch(apiActions[game+\"Actions\"].create(data))\r\n  */\r\n  }\r\n\r\n  const editMission = () => {\r\n    // state.mission.missionCharacters = [...state.mission.missionCharacters]\r\n    // state.charactersConfigList = []\r\n    // state.charactersList = []\r\n    let data = {...state.mission,\r\n      missionCharacters: state.mission.missionCharacters.map(missionCharacter => {\r\n        return missionCharacter.id\r\n      }),\r\n      missionCharactersCreate: [...state.charactersConfigList, ...state.charactersList]\r\n    }\r\n\r\n\r\n//  algo errado aqui\r\n//\r\n    state.charactersConfigList = []\r\n    state.charactersList = []\r\n\r\n    dispatch(apiActions.missionsActions.update(data))\r\n\r\n    // data = {...state.mission}\r\n    // dispatch(apiActions[game+\"Actions\"].update(data))\r\n\r\n    data = {...state.mission}\r\n    dispatch(apiActions[game+\"Actions\"].update(data))\r\n  }\r\n\r\n  const addToMission = (type, data) => () => {\r\n    setState({...state, mission: {...state.mission, [type]:[...state.mission[type], data]}})\r\n  }\r\n\r\n  const removeFromMission = (type, data) => () => {\r\n      setState({...state, mission: {...state.mission, [type]: state.mission[type].filter(d => d.id !== data.id)}})\r\n  }\r\n\r\n  const editCharacterConfig = (character) => () => {\r\n    setState({...state, characterConfig: character})\r\n  }\r\n\r\n  const createCharacterConfig = (character) => () => {\r\n    setState({...state, newCharacterConfig: character})\r\n  }\r\n\r\n  const cancelCharacterConfig = () => () => {\r\n    setState({...state, characterConfig: null, newCharacterConfig: null})\r\n  }\r\n\r\n  const addCharacterToList = (character) => () => {\r\n    setState({...state, charactersList: [...state.charactersList, missionCharacterInitialState(character)]})\r\n  }\r\n\r\n  const removeCharacterFromList = (character) => () => {\r\n    setState({...state, charactersList: state.charactersList.filter(d => d.character.id !== character.character.id)})\r\n  }\r\n\r\n  const removeCharacterFromConfigList = (character) => () => {\r\n    setState({...state, charactersConfigList: state.charactersList.filter(d => d.character.id !== character.character.id)})\r\n  }\r\n\r\n  const updateCharacterConfig = (character) => () => {\r\n    dispatch(apiActions.mission_charactersActions.update(character))\r\n    setState({...state, characterConfig: null})\r\n  }\r\n\r\n  const addCharacterConfig = (missionCharacter) => () => {\r\n    setState({...state, charactersConfigList: [...state.charactersConfigList, missionCharacter], charactersList: state.charactersList.filter(d => d.character.id !== missionCharacter.character.id), newCharacterConfig: null})\r\n  }\r\n\r\n\r\n  return(\r\n    <div>\r\n      <div style={{\r\n          display: 'flex', flexGrow: 1,\r\n          flexShrink: 1,\r\n          flexBasis: 0,\r\n          flexDirection: 'row'}}>\r\n        <div>\r\n          <div>\r\n            <div>Nome:</div>\r\n            <div>\r\n              <input type='text' value={state.mission.name} onChange={e => setState({...state, mission: {...state.mission, name: e.target.value}})} placeholder='Missão maneira'/>\r\n            </div>\r\n          </div>\r\n\r\n          <div>Texto da missão:</div>\r\n          <textarea value={state.mission.description} onChange={e => setState({...state, mission: {...state.mission, description: e.target.value}})} />\r\n          <div>\r\n            {id ?\r\n              <Button onClick={editMission}>{'Salvar Missão'}</Button>\r\n              :<Button onClick={createMission}>{'Criar Missão'}</Button>\r\n            }\r\n          </div>\r\n\r\n          <div>\r\n            <div>Personagens na missão:</div>\r\n            {state.mission.missionCharacters.map( ( missionCharacter, index) =>\r\n              <div key={index} style={{display: 'flex', flexDirection: 'row'}}>\r\n                <Button onClick={removeFromMission('missionCharacters', missionCharacter)}><RemoveIcon /></Button>\r\n                <Button onClick={editCharacterConfig(missionCharacter)}>\r\n                  {missionCharacter.character.name}\r\n                </Button>\r\n              </div>\r\n            )}\r\n            {state.charactersConfigList.map( ( missionCharacter, index) =>\r\n              <div key={index} style={{display: 'flex', flexDirection: 'row'}}>\r\n                <Button onClick={removeCharacterFromConfigList('missionCharacters', missionCharacter)}><RemoveIcon /></Button>\r\n                <Button onClick={editCharacterConfig(missionCharacter)}>\r\n                  {missionCharacter.character.name}\r\n                </Button>\r\n              </div>\r\n            )}\r\n            {state.charactersList.map( ( character, index) =>\r\n              <div key={index} style={{display: 'flex', flexDirection: 'row'}}>\r\n                <Button onClick={removeCharacterFromList(character)}><RemoveIcon /></Button>\r\n                <Button onClick={createCharacterConfig(character)}>\r\n                  {character.character.name}\r\n                </Button>\r\n                {state.charactersList.indexOf(character) !== -1 ? <div >!\r\n                  <span>This character has no config!</span>\r\n                </div> : null}\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          <div>\r\n            <div>Locais na missão:</div>\r\n            {state.mission.locations.map((location, index) =>\r\n              <div key={index} style={{display: 'flex', flexDirection: 'row'}}>\r\n                <Button onClick={removeFromMission('locations', location)}><RemoveIcon /></Button>\r\n                <div>{location.name}</div>\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          <div>\r\n            <div>Questions:</div>\r\n            {state.mission.questions.map((question, index) =>\r\n              <div key={index} style={{display: 'flex', flexDirection: 'row'}}>\r\n                <Button onClick={removeFromMission('questions', question)}><RemoveIcon /></Button>\r\n                <Question question={question}/>\r\n              </div>\r\n            )}\r\n          </div>\r\n            {game === 'game_1_missions' &&\r\n              <CreateGame1Data data={state.mission.game_1_mission_characters} characters={state.mission.characters}\r\n                onChangeCharacter={()=>{}} onJobCheckChange={()=>{}} onCountryCheckChange={()=>{}}/>\r\n            }\r\n            {game === 'game2' &&\r\n              <Game2Data />\r\n            }\r\n        </div>\r\n\r\n        <div>\r\n          <div>\r\n            <div>Personagens disponíveis</div>\r\n            {characters.items && characters.items.length > 0 && characters.items\r\n              .filter( character => !state.mission.missionCharacters.find( c => c.character.id === character.id) && !state.charactersList.find( c => c.character.id === character.id) && !state.charactersConfigList.find( c => c.character.id === character.id))\r\n              .map( (character, index) =>\r\n              <div key={index} style={{display: 'flex', flexDirection: 'row'}}>\r\n                <Button onClick={addCharacterToList(character)}>\r\n                  <AddIcon />\r\n                </Button>\r\n                <Button onClick={editCharacterConfig(character)}>\r\n                  {character.name}\r\n                </Button>\r\n              </div>\r\n            )}\r\n            <Button onClick={() => setCreateCharacter(!createCharacter)}>\r\n              {createCharacter ? \"Cancelar\" : \"Criar personagem\"}\r\n            </Button>\r\n            {createCharacter && <CreateCharacter /> }\r\n          </div>\r\n\r\n          <div>\r\n            <div>Locais disponíveis</div>\r\n            {locations.items && locations.items.length > 0 && locations.items\r\n              .filter( location => !state.mission.locations.find( l => l.id === location.id) )\r\n              .map( (location, index) =>\r\n              <div key={index} style={{display: 'flex', flexDirection: 'row'}}>\r\n                <Button onClick={addToMission('locations', location)}>\r\n                  <AddIcon />\r\n                </Button>\r\n                <div>{location.name}</div>\r\n              </div>\r\n            )}\r\n            <Button onClick={() => setCreateLocation(!createLocation)}>\r\n            {createLocation ? \"Cancelar\" : \"Criar local\"}\r\n            </Button>\r\n            {createLocation && <CreateLocation />}\r\n          </div>\r\n\r\n          <div>\r\n            <div>Preset questions</div>\r\n            {questions.items && questions.items.length > 0 && questions.items\r\n              .filter( question => !state.mission.questions.find( c => c.id === question.id) )\r\n              .map( (question, index) =>\r\n              <div key={index} style={{display: 'flex', flexDirection: 'row'}}>\r\n                <Button onClick={addToMission('questions', question)}>\r\n                  <AddIcon />\r\n                </Button>\r\n                <Question question={question}/>\r\n              </div>\r\n            )}\r\n            <Button onClick={() => setCreateQuestion(!createQuestion)}>\r\n              {createQuestion ? \"Cancel\" : \"Create question\"}\r\n            </Button>\r\n            {createQuestion && <CreateQuestion /> }\r\n          </div>\r\n        </div>\r\n\r\n        <div>\r\n          <h5>Detalhes do personagem:</h5>\r\n          {state.characterConfig && <EditMissionCharacter missionCharacter={state.characterConfig} onDone={updateCharacterConfig} questions={state.mission.questions} cancel={cancelCharacterConfig}/>}\r\n          {state.newCharacterConfig && <EditNewMissionCharacter character={state.newCharacterConfig} onDone={addCharacterConfig} questions={state.mission.questions} cancel={cancelCharacterConfig}/>}\r\n        </div>\r\n\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default CreateMissionGame1\r\n","import React from 'react'\r\nimport _ from 'lodash'\r\n\r\nconst EditCharacter = ({character, onDone}) => {\r\n  const [state, setState] = React.useState({\r\n    name: character.name,\r\n    job: character.job ? character.job : '',\r\n    id: character.id,\r\n    answers: character.answers ? [...character.answers] : []\r\n  })\r\n\r\n  const editAnswer = (question, index) => e => {\r\n    let aQ = _.cloneDeep(character.answers.find( answer => answer.question && answer.question.id === question.id))\r\n\r\n    let changedIndex = {...state.answers[index], answer: e.target.value}\r\n    if(!aQ) changedIndex.question = question.id\r\n\r\n    setState({\r\n      ...state,\r\n      answers: [\r\n        ...state.answers.slice(0, index),\r\n        changedIndex,\r\n        ...state.answers.slice(index+1)\r\n      ]\r\n    })\r\n  }\r\n  const getAnswer = (qId) => {\r\n    let a = state.answers.find( answer => answer.question && answer.question.id ? answer.question.id === qId : answer.question === qId)\r\n    \r\n    return a ? a.answer : ''\r\n  }\r\n\r\n  return(\r\n    <div>\r\n      <div>\r\n        <div>\r\n          Name:<input type='text' value={state.name} onChange={ e => setState({...state, name: e.target.value}) }/>\r\n        </div>\r\n        <div>\r\n          Job:<input type='text' value={state.job} onChange={ e => setState({...state, job: e.target.value}) } />\r\n        </div>\r\n        <div>\r\n          Country:<input type='text' value={state.country} onChange={ e => setState({...state, country: e.target.value}) } />\r\n        </div>\r\n        <div>{character.civilState}</div>\r\n        <div>\r\n          <div>JOGO 1 - Missões que participa:</div>\r\n          {character.game_1_missions.map((mission, mIndex) =>\r\n            <div key={mIndex}>\r\n              <div>{mIndex+1}: {mission.name}</div>\r\n              <div>\r\n                {mission.questions.map( (question, qIndex) =>\r\n                  <div key={qIndex}>\r\n                    <div>{question.question}</div>\r\n                    <input type='text' value={getAnswer(question.id)}\r\n                      onChange={editAnswer(question, qIndex)} placeholder='Resposta'/>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n        <div>\r\n          <div>JOGO 2 - Missões que participa:</div>\r\n          {character.missions.map((mission, mIndex) =>\r\n            <div key={mIndex}>\r\n              <div>{mIndex+1}: {mission.name}</div>\r\n              <div>\r\n                {mission.questions.map( (question, qIndex) =>\r\n                  <div key={qIndex}>\r\n                    <div>{question.question}</div>\r\n                    <input type='text' value={getAnswer(question.id)}\r\n                      onChange={editAnswer(question, qIndex)} placeholder='Resposta'/>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n          )}\r\n          <div>\r\n            <div>\r\n              Errou alguma opção:\r\n            </div>\r\n            <input type='text' value={character.wrongAnswer} onChange={e => setState({...state, wrongAnswer: e.target.value})} placeholder='Errou alguma'/>\r\n          </div>\r\n          <div>\r\n            <div>\r\n              Acertou o suficiente:\r\n            </div>\r\n            <input type='text' value={character.rightAnswer} onChange={e => setState({...state, rightAnswer: e.target.value})} placeholder='Acertou o suficiente'/>\r\n          </div>\r\n          <div>\r\n            <div>\r\n              Dica:\r\n            </div>\r\n            <input type='text' value={character.tip} onChange={e => setState({...state, tip: e.target.value})} placeholder='Dica'/>\r\n          </div>\r\n          <div>\r\n            <div>\r\n              Resposta da acusação:\r\n            </div>\r\n            <input type='text' value={character.acusationAnswer} onChange={e => setState({...state, acusationAnswer: e.target.value})} placeholder='Resposta à acusação'/>\r\n          </div>\r\n          <div>\r\n            <div>\r\n              Despedida:\r\n            </div>\r\n            <input type='text' value={character.endDialog} onChange={e => setState({...state, endDialog: e.target.value})} placeholder='Despedida'/>\r\n          </div>\r\n        </div>\r\n        <button onClick={onDone(state)}>Salvar</button>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\nexport default EditCharacter\r\n","import React from 'react'\r\n\r\nimport { useDispatch, useSelector} from 'react-redux'\r\nimport { apiActions } from '../../_actions'\r\n\r\nimport EditIcon from '@material-ui/icons/Edit'\r\nimport CancelIcon from '@material-ui/icons/Cancel'\r\nimport Button from '@material-ui/core/Button'\r\n\r\nimport Character from '../Character'\r\nimport CreateCharacter from '../CreateCharacter'\r\nimport EditCharacter from '../EditCharacter'\r\n\r\nconst Characters = ({onAdd}) => {\r\n  const { charactersActions } = apiActions\r\n  const [createCharacter, setCreateCharacter] = React.useState(false)\r\n  const [edit, setEdit] = React.useState(-1)\r\n  const dispatch = useDispatch()\r\n  const characters = useSelector( state => state.characters)\r\n\r\n  React.useEffect(()=>{\r\n      dispatch(charactersActions.getAll())\r\n  }, [dispatch, charactersActions])\r\n\r\n  React.useEffect(()=>{\r\n    setEdit(-1)\r\n  }, [characters])\r\n\r\n  return (\r\n    <div>\r\n      <div>Área de personagens</div>\r\n      <button onClick={() => setCreateCharacter(!createCharacter)}>{createCharacter? 'Cancelar' : 'Criar personagem'} </button>\r\n      { createCharacter && <CreateCharacter /> }\r\n      <div>\r\n        <div>All Characters:</div>\r\n        { characters.loading && <div>Loading...</div> }\r\n        <div>\r\n          <span>Nome</span> <span>Estado civil</span> <span>Trabalho</span>\r\n        </div>\r\n        <div>\r\n          {characters.items.map((character, index) =>\r\n            <React.Fragment key={index}>\r\n              {edit === index ?\r\n                <div>\r\n                  <EditCharacter character={character} onDone={ state => () => dispatch(charactersActions.update(state))}/>\r\n                  <Button onClick={ () => setEdit(-1) }><CancelIcon /></Button>\r\n                </div>\r\n                : <div style={{display: 'flex', flexDirection: 'row'}}>\r\n                    <Character character={character}/>\r\n                    <Button onClick={ () => setEdit(index) }><EditIcon /></Button>\r\n                  </div>\r\n              }\r\n              <br/>\r\n            </React.Fragment>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Characters\r\n","import React from 'react'\r\n\r\nimport { useDispatch, useSelector} from 'react-redux'\r\nimport { apiActions } from '../../_actions'\r\n\r\nimport Question from '../Question'\r\nimport CreateQuestion from '../CreateQuestion'\r\n\r\nimport Button from '@material-ui/core/Button'\r\nimport EditIcon from '@material-ui/icons/Edit'\r\nimport DeleteIcon from '@material-ui/icons/Delete'\r\n\r\n\r\nconst Questions = ({onAdd}) => {\r\n  const { questionsActions } = apiActions\r\n  const [createQuestion, setCreateQuestion] = React.useState(false)\r\n  const dispatch = useDispatch()\r\n  const questions = useSelector( state => state.questions)\r\n\r\n  React.useEffect(()=>{\r\n    if(questions.items.length === 0)\r\n      dispatch(questionsActions.getAll())\r\n  }, [dispatch, questionsActions, questions.items.length])\r\n\r\n  const editQuestion = (question) => () => {\r\n\r\n  }\r\n\r\n  const deleteQuestion = (question) => () => dispatch(questionsActions.delete(question.id))\r\n\r\n  return (\r\n    <div>\r\n      <div>Questions</div>\r\n      <button onClick={() => setCreateQuestion(!createQuestion)}>{createQuestion? 'Cancelar' : 'Criar pergunta'} </button>\r\n      { createQuestion && <CreateQuestion /> }\r\n      <div>\r\n        <div>All questions:</div>\r\n        <div>\r\n          <span>Question</span> <span>Correct</span>\r\n        </div>\r\n        <div>\r\n          {questions.items.map((question, index) =>\r\n            <div key={index}>\r\n              <Question question={question}/>\r\n              <Button onClick={editQuestion(question)}><EditIcon/></Button>\r\n              <Button onClick={deleteQuestion(question)}><DeleteIcon/></Button>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Questions\r\n","import React from 'react'\r\n\r\nimport { useDispatch, useSelector} from 'react-redux'\r\nimport { apiActions } from '../../_actions'\r\n\r\nimport Questionnaire from '../Questionnaire'\r\n// import CreateQuestionnaire from '../CreateQuestionnaire'\r\n\r\nimport Button from '@material-ui/core/Button'\r\nimport EditIcon from '@material-ui/icons/Edit'\r\nimport DeleteIcon from '@material-ui/icons/Delete'\r\n\r\n\r\nconst Questionnaires = ({onAdd}) => {\r\n  const { questionnairesActions } = apiActions\r\n  const dispatch = useDispatch()\r\n  const questionnaires = useSelector( state => state.questionnaires)\r\n\r\n  React.useEffect(()=>{\r\n    if(questionnaires.items.length === 0)\r\n      dispatch(questionnairesActions.getAll())\r\n  }, [dispatch, questionnairesActions, questionnaires.items.length])\r\n\r\n  const editQuestionnaire = (questionnaire) => () => {\r\n\r\n  }\r\n\r\n  const deleteQuestionnaire = (questionnaire) => () => dispatch(questionnairesActions.delete(questionnaire.id))\r\n\r\n  return (\r\n    <div>\r\n      <div>Questionnaires</div>\r\n      {/* <button onClick={() => setCreateQuestionnaire(!createQuestionnaire)}>{createQuestionnaire? 'Cancel' : 'Create Questionnaire'} </button>\r\n      { createQuestionnaire && <CreateQuestionnaire /> } */}\r\n      <div>\r\n        <div>All questionnaires:</div>\r\n        <div>\r\n          <span>Questionnaire</span>\r\n        </div>\r\n        <div>\r\n          {questionnaires.items.map((questionnaire, index) =>\r\n            <div key={index}>\r\n              <Questionnaire questionnaire={questionnaire}/>\r\n              <Button onClick={editQuestionnaire(questionnaire)}><EditIcon/></Button>\r\n              <Button onClick={deleteQuestionnaire(questionnaire)}><DeleteIcon/></Button>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Questionnaires\r\n","import React from 'react'\r\nimport { apiActions } from '../../_actions'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\n\r\nconst PlaySessions = () => {\r\n  const dispatch = useDispatch()\r\n  const playSessions = useSelector( state => state.play_sessions.items)\r\n  const { play_sessionsActions } = apiActions\r\n\r\n  React.useEffect(() => {\r\n    dispatch(play_sessionsActions.getAll())\r\n  }, [dispatch, play_sessionsActions])\r\n\r\n  return(\r\n    <div>\r\n      <div>PlaySessions:</div>\r\n      {playSessions.length > 0 && playSessions.map((playSession, index) =>\r\n        <div key={index}>\r\n          <div>User: {playSession.usersPermissionsUser.firstName} {playSession.usersPermissionsUser.lastName}</div>\r\n          <div>Missão: {playSession.mission.name}</div>\r\n          <div>\r\n          <div>PlayerActions:</div>\r\n          {playSession.player_actions.map((playerAction, index) =>\r\n            <div key={index}>TAG:{playerAction.data.tag}</div>\r\n          )}\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default PlaySessions\r\n","import React from 'react'\r\nimport './index.scss'\r\n\r\nconst Config = (props) => {\r\n  return(\r\n    <div id=\"config-dialog\">\r\n      {props.children}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Config\r\n","import React from 'react'\r\nimport Config from '../Config'\r\n\r\nconst ConfigWindow = ({onConfig, onStatistics, onLeave, onClose}) => {\r\n  return(\r\n    <Config>\r\n      <div className=\"config-option\" onClick={onConfig}>\r\n        <span lang=\"pt-br\">Configurações de jogo</span>\r\n        <div className=\"divider\"></div>\r\n        <span lang=\"en\">Game settings</span>\r\n      </div>\r\n      <div className=\"config-option\" onClick={onStatistics}>\r\n        <span lang=\"pt-br\">Estatísticas</span>\r\n        <div className=\"divider\"></div>\r\n        <span lang=\"en\">Statistics</span>\r\n      </div>\r\n      <div className=\"config-option\" onClick={onLeave}>\r\n        <span lang=\"pt-br\">Sair do jogo</span>\r\n        <div className=\"divider\"></div>\r\n        <span lang=\"en\">Leave game</span>\r\n      </div>\r\n      <div id=\"config-fechar\" onClick={onClose}>×</div>\r\n    </Config>\r\n  )\r\n}\r\n\r\nexport default ConfigWindow\r\n","import React from 'react'\r\nimport Config from '../Config'\r\nimport Button from '@material-ui/core/Button'\r\nimport VolumeMute from '@material-ui/icons/VolumeMute'\r\nimport VolumeUp from '@material-ui/icons/VolumeUp'\r\nimport Slider from '@material-ui/core/Slider'\r\nimport Checkbox from '@material-ui/core/Checkbox'\r\n\r\n\r\nconst GameConfig = (\r\n  {\r\n    onVolumeMute, onVolumeUp, volume, onVolumeChange,\r\n    fontSize, onFontSizeChange, assistMode, onAssistModeChange,\r\n    onAccessibilityLeft, onAccessibilityRight,\r\n    onBack, onClose\r\n  }) => {\r\n  return(\r\n    <Config>\r\n      <div id=\"title\">\r\n        <span lang=\"pt-br\">Configurações de jogo</span>\r\n        <div className=\"divider\"></div>\r\n        <span lang=\"en\">Game settings</span>\r\n      </div>\r\n      <table id=\"game-options\">\r\n        <tbody>\r\n          <tr>\r\n            <td>\r\n              <span lang=\"pt-br\">Volume</span>\r\n              <span lang=\"en\">Volume</span>\r\n            </td>\r\n            <td>\r\n              <Button onClick={onVolumeMute}>\r\n                <VolumeMute />\r\n              </Button>\r\n                <Slider value={volume} onChange={onVolumeChange}/>\r\n              <Button onClick={onVolumeUp}>\r\n                <VolumeUp />\r\n              </Button>\r\n            </td>\r\n          </tr>\r\n          <tr>\r\n            <td>\r\n              <span lang=\"pt-br\">Tamanho da fonte</span>\r\n              <span lang=\"en\">Font size</span>\r\n            </td>\r\n            <td id=\"tamanho-fonte\">\r\n              <span className=\"label-pequeno\">Aa</span>\r\n              <Slider value={fontSize} onChange={onFontSizeChange}/>\r\n              <span className=\"label-grande\">Aa</span>\r\n            </td>\r\n          </tr>\r\n          <tr>\r\n            <td>\r\n              <span lang=\"pt-br\">Modo assistência</span>\r\n              <span lang=\"en\">Assist mode</span>\r\n            </td>\r\n            <td>\r\n              <Checkbox checked={assistMode} onChange={onAssistModeChange}/>\r\n            </td>\r\n          </tr>\r\n          <tr>\r\n            <td>\r\n              <span lang=\"pt-br\">Acessibilidade</span>\r\n              <span lang=\"en\">Accessibility</span>\r\n            </td>\r\n            <td id=\"tipo-acessibilidade\">\r\n              <Button onClick={onAccessibilityLeft}> {'❮'} </Button>\r\n              <div>\r\n                <span lang=\"pt-br\">Nenhum</span>\r\n                <span lang=\"en\">None</span>\r\n              </div>\r\n              <Button onClick={onAccessibilityRight}> {'❯'} </Button>\r\n            </td>\r\n          </tr>\r\n          <tr>\r\n            <td id=\"voltar-cell\" colSpan=\"2\">\r\n              <Button onClick={onBack}>Voltar</Button>\r\n            </td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n      <div id=\"config-fechar\" onClick={onClose}>×</div>\r\n    </Config>\r\n  )\r\n}\r\n\r\nexport default GameConfig\r\n","import React from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { Redirect } from 'react-router-dom'\r\nimport { headerActions } from '../../_actions'\r\nimport ConfigWindow from '../../_components/ConfigWindow'\r\nimport GameConfig from '../../_components/GameConfig'\r\nimport ReactAudioPlayer from 'react-audio-player'\r\nimport config from '../../img/i-settings.svg'\r\nimport './index.scss'\r\nimport { headerConstants } from '../../_constants'\r\n\r\nconst GameContext = (props) => {\r\n  const [state, setState] = React.useState({\r\n    volume: 15,\r\n    fontSize: 12,\r\n    assistMode: false,\r\n    accessibility: 'NONE',\r\n    gameConfig: false,\r\n    back: false,\r\n    config: false,\r\n  })\r\n\r\n  const dispatch = useDispatch()\r\n  const music = useSelector(state => state.music)\r\n  let headerInfo = useSelector(state => state.header)\r\n\r\n  let { children } = props\r\n  children = {...children, props: {...props} }\r\n\r\n\tReact.useEffect(() => {\r\n\t\tdispatch(headerActions.setState(headerConstants.STATES.HIDDEN))\r\n\t\treturn () => {\r\n      dispatch(headerActions.clearAll())\r\n      dispatch(headerActions.setState(headerConstants.STATES.NORMAL))\r\n    }\r\n\t}, [dispatch])\r\n\r\n  return(\r\n    <div id=\"game-context\">\r\n      { (headerInfo.state === headerConstants.STATES.HIDDEN) &&\r\n        <div id=\"floating-config-btn\" onClick={() => setState({...state, config: true}) }>\r\n          <img src={config} alt='config' />\r\n        </div>\r\n      }\r\n      <ReactAudioPlayer\r\n\t\t\t\tsrc={music.url}\r\n\t\t\t\tautoPlay volume={state.volume/100}\r\n        loop={true}\r\n\t\t\t/>\r\n      { state.config &&\r\n        <ConfigWindow\r\n          onConfig={()=>setState({...state, config: false, gameConfig: true})}\r\n          onStatistics={()=>{}}\r\n          onLeave={()=>setState({...state, back: true})}\r\n          onClose={()=>setState({...state, config: false})}\r\n        />\r\n      }\r\n      {\r\n        state.gameConfig &&\r\n        <GameConfig\r\n          volume={state.volume}\r\n          onVolumeMute={()=> setState({...state, volume: 0})}\r\n          onVolumeUp={()=> setState({...state, volume: 100})}\r\n          onVolumeChange={(e, newValue)=> setState({...state, volume: newValue})}\r\n          fontSize={state.fontSize} onFontSizeChange={(e, newValue) => setState({...state, fontSize: newValue})}\r\n          assistMode={state.assistMode} onAssistModeChange={(e)=>setState({...state, assistMode: e.target.checked})}\r\n          onAccessibilityLeft={()=>{}} onAccessibilityRight={()=>{}}\r\n          onBack={()=>setState({...state, gameConfig: false, config: true})}\r\n          onClose={()=>setState({...state, gameConfig: false})}\r\n        />\r\n      }\r\n      {children}\r\n      { state.back && <Redirect to='/userspace' />}\r\n    </div>\r\n  )\r\n}\r\nexport default GameContext\r\n","import React from 'react'\r\nimport { useDispatch } from 'react-redux'\r\nimport Conversa from './pages/Game2/components/Conversa'\r\nimport { headerActions } from './_actions'\r\nimport { headerConstants } from './_constants'\r\n\r\nconst TestPage = () => {\r\n\tconst dispatch = useDispatch()\r\n\tReact.useEffect( () => {\r\n\t\tdispatch(headerActions.setState(headerConstants.STATES.HIDDEN))\r\n\t\treturn () => {dispatch(headerActions.setState(headerConstants.STATES.NORMAL))}\r\n\t}, [dispatch] )\r\n\t\r\n\tconst divStyle = {position:\"absolute\", top: 0, right: 0, bottom:0, left:0}\r\n\r\n\t// -------------------------------------------\r\n\t// MODIFICAR SOMENTE DAQUI PARA BAIXO\r\n\t// -------------------------------------------\r\n\r\n\r\n\r\n\treturn (\r\n\t\t<div style={divStyle}> {/* NÃO MODIFICAR ESSA LINHA */}\r\n\t\t\t<Conversa convOptions={[\r\n\t\t\t\t{question: \"Pergunta 1\", answers: [\"Resposta 1.1\", \"Resposta 1.2\"]},\r\n\t\t\t\t{question: \"Pergunta 2\", answers: [\"Resposta 2.1\"]},\r\n\t\t\t\t{question: \"Pergunta 3\", answers: [\"Resposta 3.1\"]},\r\n\t\t\t\t{question: \"Pergunta 4\", answers: [\"Resposta 4.1\"]},\r\n\t\t\t]}/>\r\n\t\t</div> /* NÃO MODIFICAR ESSA LINHA */\r\n\t)\r\n\r\n\t// -------------------------------------------\r\n\t// MODIFICAR SOMENTE ATÉ AQUI\r\n\t// -------------------------------------------\r\n}\r\n\r\nexport default TestPage\r\n","\r\nconst rootUrl = process.env.NODE_ENV === 'development'? ''\r\n              : process.env.NODE_ENV === 'production'? process.env.PUBLIC_URL\r\n              : ''\r\n\r\nexport default rootUrl\r\n","import './App.scss'\r\nimport AppHeader from './_components/AppHeader'\r\nimport Home from './pages/Home'\r\nimport Game1 from './pages/Game1'\r\nimport Game2 from './pages/Game2'\r\nimport Game3 from './pages/Game3'\r\nimport Game4 from './pages/Game4'\r\n\r\nimport {\r\n  BrowserRouter as Router,\r\n  Switch,\r\n  Route,\r\n  Redirect\r\n} from \"react-router-dom\"\r\n\r\nimport React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport { PrivateRoute } from './_components/PrivateRoute'\r\n// import { history } from './_helpers'\r\nimport Login from './pages/Login'\r\nimport UserSpace from './pages/UserSpace'\r\nimport UsersCRUD from './pages/UsersCRUD'\r\nimport Missions from './pages/Missions'\r\nimport CreateMission from './pages/CreateMission'\r\nimport Characters from './pages/Characters'\r\nimport Questions from './pages/Questions'\r\nimport Register from './pages/Register'\r\nimport Questionnaires from './pages/Questionnaires'\r\nimport PlaySessions from './pages/PlaySessions'\r\nimport GameContext from './pages/GameContext'\r\nimport { headerConstants } from './_constants'\r\nimport TestPage from './TestPage'\r\nimport rootUrl from './rootUrl'\r\n\r\nconst App = () => {\r\n\r\n  let palette = \"palette01\"\r\n  document.getElementsByTagName('html')[0].className = palette\r\n\r\n  let gameMode = useSelector( state => state.header.state ) !== headerConstants.STATES.NORMAL;\r\n  console.log('env:', process.env.NODE_ENV)\r\n  console.log('rootUrl:', rootUrl)\r\n  return (\r\n    <div className={ \"App\" + (gameMode? \" game-mode\" : \"\")}>\r\n      <Router basename={rootUrl}>\r\n        <AppHeader props={{isLogged: useSelector(state => state.authentication.loggedIn)}} />\r\n        <Switch>\r\n          <Redirect path={'/EADLearningTool'} to={'/userspace'}/>\r\n          <Route exact path={'/'} component={Home} />\r\n          <Route exact path={'/home'} component={Home} />\r\n          <Route path={`/login`} component={Login} />\r\n          <Route path={`/register`} component={Register} />\r\n          <PrivateRoute exact path={`/game1/:id`} render={(props) => <GameContext {...props}><Game1 /></GameContext>} />\r\n          <PrivateRoute exact path={`/game2/:id`} render={(props) => <GameContext {...props}><Game2 /></GameContext>} />\r\n          <PrivateRoute exact path={`/game3/:id`} render={(props) => <GameContext {...props}><Game3 /></GameContext>} />\r\n          <PrivateRoute exact path={`/game4/:id`} render={(props) => <GameContext {...props}><Game4 /></GameContext>} />\r\n          <PrivateRoute exact path={`/test`} component={TestPage} />\r\n          <PrivateRoute exact path={`/userspace`} component={UserSpace} />\r\n          <PrivateRoute exact path={`/missions`} component={Missions} />\r\n          <PrivateRoute exact path={`/questions`} component={Questions} />\r\n          <PrivateRoute exact path={`/questionnaires`} component={Questionnaires} />\r\n          <PrivateRoute exact path={`/missions/create`} component={CreateMission} />\r\n          <PrivateRoute exact path={`/missions/edit/:game/:id`} component={CreateMission} />\r\n          <PrivateRoute exact path={`/characters`} component={Characters} />\r\n          <PrivateRoute exact path={`/users`} component={UsersCRUD} />\r\n          <PrivateRoute exact path={`/playSessions`} component={PlaySessions}/>\r\n        </Switch>\r\n      </Router>\r\n\r\n    </div>\r\n  );\r\n}\r\nexport default App;\r\n\r\n/*\r\nreturn (\r\n  <div>\r\n    {/* { alert.message &&\r\n      <div className={`alert ${alert.type}`}>{alert.message}</div>\r\n    })\r\n*/\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.scss';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport { Provider } from 'react-redux';\r\nimport {positions, Provider as AlertProvider} from 'react-alert'\r\nimport AlertTemplate from 'react-alert-template-basic'\r\nimport { store } from './_helpers'\r\n\r\nconst options = {\r\n  timeout: 5000,\r\n  position: positions.TOP_RIGHT\r\n}\r\n\r\nReactDOM.render(\r\n    <Provider store={store}>\r\n      <AlertProvider template={AlertTemplate} {...options}>\r\n        <App />\r\n      </AlertProvider>\r\n    </Provider>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}