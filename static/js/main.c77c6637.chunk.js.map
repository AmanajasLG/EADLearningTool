{"version":3,"sources":["img/avatar1.svg","img/i-home.svg","img/i-notification.svg","img/i-settings.svg","_constants/alert.constants.js","_constants/user.constants.js","_constants/header.constants.js","apiValues.js","_constants/api.constants.js","_helpers/apiConstantBuilder.js","_constants/music.constants.js","_actions/alert.actions.js","_helpers/history.js","_reducers/authentication.reducer.js","_helpers/reducerBuilder.js","_reducers/api.reducers.js","_reducers/index.js","_reducers/registration.reducer.js","_reducers/users.reducer.js","_reducers/alert.reducer.js","_reducers/header.reducer.js","_reducers/music.reducer.js","_helpers/store.js","_helpers/auth-header.js","_services/api.services.js","_services/user.services.js","_actions/user.actions.js","_actions/header.actions.js","_actions/api.actions.js","_actions/music.actions.js","_components/UserHeader/index.js","_components/DefaultHeader/index.js","_components/AppHeader/index.js","pages/Home/index.js","img/pic-people-talk.svg","pages/Game2/components/Init/index.js","pages/Game2/components/Result/index.js","pages/Game2/components/RoomSelect/index.js","pages/Game2/components/Sala/index.js","pages/Game2/components/Character/index.js","pages/Game1/initialState.js","pages/Game1/stub.js","pages/Game1/index.js","pages/Game2/initialState.js","img/lampada_apagada.svg","img/lampada_acesa.svg","pages/Game2/components/AcusationLamp/index.js","pages/Game2/components/DialogCharacter/index.js","pages/Game2/components/DialogHistory/index.js","pages/Game2/components/Menu/index.js","pages/Game2/components/Writer/index.js","pages/Game2/index.js","_components/PrivateRoute/index.js","pages/Login/index.js","pages/UserSpace/index.js","pages/Register/index.js","_components/UserInfo/index.js","pages/UsersCRUD/index.js","pages/Mission/index.js","pages/Character/index.js","pages/Question/index.js","pages/EditMission/index.js","pages/Missions/index.js","pages/CreateCharacter/index.js","pages/CreateLocation/index.js","pages/CreateQuestion/index.js","pages/CreateMission/index.js","pages/EditCharacter/index.js","pages/Characters/index.js","pages/Questions/index.js","pages/Questionnaires/index.js","pages/PlaySessions/index.js","_components/Config/index.js","_components/ConfigWindow/index.js","_components/GameConfig/index.js","pages/GameContext/index.js","App.js","reportWebVitals.js","index.js"],"names":["alertConstants","userConstants","headerConstants","NORMAL","HIDDEN","OVERLAY","apiValues","apiConstants","map","value","UPDATE_REQUEST","apiDataType","UPDATE_SUCCESS","UPDATE_FAILURE","CREATE_REQUEST","CREATE_SUCCESS","CREATE_FAILURE","GETALL_REQUEST","GETALL_SUCCESS","GETALL_FAILURE","GETBYID_REQUEST","GETBYID_SUCCESS","GETBYID_FAILURE","DELETE_REQUEST","DELETE_SUCCESS","DELETE_FAILURE","musicConstants","alertActions","success","message","type","error","clear","createBrowserHistory","user","JSON","parse","localStorage","getItem","initialState","loggedIn","loading","items","apiReducers","Object","keys","forEach","apiType","constants","toLowerCase","state","action","creating","data","updating","index","findIndex","item","id","copy","slice","deleting","filter","deleteError","rootReducer","combineReducers","authentication","loggingIn","logginFailure","registration","registering","users","userCopy","alert","header","title","subtitle","newTitle","newSubtitle","newState","music","url","volume","loggerMiddleware","createLogger","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMiddleware","authHeader","jwt","api","axios","create","baseURL","getByIdBuilder","routeName","method","replace","headers","then","handleResponse","createBuilder","updateBuilder","deleteBuilder","response","status","location","reload","Promise","reject","statusText","apiServices","getAll","getById","update","delete","userService","login","email","password","identifier","setItem","stringify","logout","register","console","log","removeItem","userActions","dispatch","failure","toString","request","resolve","messages","headerActions","setTitle","setSubtitle","setAll","clearTitle","clearSubtitle","clearAll","setState","requester","service","payload","getAllConstructor","getByIdConstructor","createConstructor","createData","updateConstructor","updateData","deleteConstructor","deleteData","apiActions","musicActions","UserHeader","pageInfo","headerInfo","useSelector","React","useState","view","useDispatch","useAlert","className","onClick","show","src","home","alt","notifications","settings","avatar","style","position","backgroundColor","top","margin","width","height","Button","DefaultHeader","Navbar","Nav","Link","href","AppHeader","props","isLogged","Home","to","Init","name","description","onClose","onStart","onBack","classImage","Result","gameEndState","split","str","RoomSelect","buttonList","onChange","lang","num","Sala","children","roomData","img","setCurrentChar","backgroundAssets","length","image","backgroundImage","Character","character","dragPosition","x","y","pos","setPos","dragging","setDragging","useEffect","left","draggable","onDragStart","onDragEnd","characterAssets","find","asset","bodyPart","initialValue","back","scene","endGame","currentLocationIndex","locations","dialogHistory","currentChar","showContacts","stub","characters","answers","answer","question","Game1","missionsActions","play_sessionsActions","player_actionsActions","match","params","missions","mission","userId","currentPlaySession","play_sessions","tracking","getClickedObject","e","tag","target","nodeName","innerHTML","includes","clickTime","Date","document","addEventListener","s","removeEventListener","onStartGame","usersPermissionsUser","onMenuButtonClick","onPhoneEnterClick","onPhoneExitClick","addContact","checked","buttonIndex","changeTitle","charData","dialog","placeholder","tries","currentRoom","isOnDialog","found","tips","acusation","validQuestions","tutorialStep","tryAgain","checkPlayed","dialogStep","characterFeeling","totalDialogSteps","questionsByStep","questions","targetName","correct","ncorrect","correctMinimum","score","startedTimestamp","now","elapsedTime","spokenCharacters","AcusationLamp","lamp_apagada","lamp_acesa","DialogCharacter","feeling","DialogHistory","speaker","text","Menu","onButtonClick","button","Writer","characterTime","onWritten","afterWrittenTime","setTimeout","substring","Game2","tipsCount","tip","dialogInitialState","backgroundAudios","availableCharacters","locationIndex","Math","floor","random","characterIndex","availableAnswers","selectedQuestions","source","push","splice","temp","setCurrentCharacter","c","closeDialog","restart","close","showAnswer","updateState","stop","refresh","rightAnswer","reduce","acc","indexOf","hasOwnProperty","nameTranslate","PrivateRoute","Component","component","render","roles","rest","pathname","from","useStyles","makeStyles","theme","root","backgroundRepeat","palette","grey","backgroundSize","backgroundPosition","paper","spacing","display","flexDirection","alignItems","secondary","main","form","marginTop","submit","Login","inputs","setInputs","submitted","setSubmitted","classes","handleChange","Grid","container","CssBaseline","xs","sm","md","Paper","elevation","square","Avatar","Typography","variant","onSubmit","preventDefault","catch","noValidate","TextField","required","fullWidth","label","autoComplete","autoFocus","color","justify","UserSpace","username","Register","firstName","lastName","Container","maxWidth","UserInfo","provider","confirmed","blocked","UsersCRUD","Mission","getAnswer","qId","a","borderStyle","borderRadius","characterAsset","job","civilState","qIndex","wrongAnswer","acusationAnswer","endDialog","Question","EditMission","onDone","charList","setCharList","locationList","setLocationList","questionList","setQuestionList","addToMission","removeFromMission","addLocationToMission","removeLocationFromMission","l","addQuestionToMission","removeQuestionFromMission","Missions","createMission","setCreateMission","edit","setEdit","CreateCharacter","charactersActions","setName","setJob","setCivilState","civilStates","estadosCivis","cs","Radio","CreateLocation","locationsActions","CreateQuestion","questionsActions","group","aria-describedby","parseInt","FormLabel","RadioGroup","aria-label","FormControlLabel","control","CreateMissionGame1","originalMission","m","characterDetails","createCharacter","setCreateCharacter","createLocation","setCreateLocation","createQuestion","setCreateQuestion","d","viewDetails","flexGrow","flexShrink","flexBasis","EditCharacter","editAnswer","aQ","_","cloneDeep","changedIndex","mIndex","Characters","onAdd","Fragment","Questions","deleteQuestion","Questionnaires","questionnairesActions","questionnaires","deleteQuestionnaire","questionnaire","PlaySessions","playSessions","playSession","player_actions","playerAction","Config","ConfigWindow","onConfig","onStatistics","onLeave","GameConfig","onVolumeMute","onVolumeUp","onVolumeChange","fontSize","onFontSizeChange","assistMode","onAssistModeChange","onAccessibilityLeft","onAccessibilityRight","Slider","Checkbox","colSpan","GameContext","accessibility","gameConfig","config","autoPlay","newValue","App","getElementsByTagName","gameMode","exact","path","CreateMission","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","options","timeout","positions","TOP_RIGHT","ReactDOM","template","AlertTemplate","getElementById"],"mappings":"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","file":"static/js/main.c77c6637.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/avatar1.48f082ac.svg\";","export default __webpack_public_path__ + \"static/media/i-home.fdfacf95.svg\";","export default __webpack_public_path__ + \"static/media/i-notification.3ced7286.svg\";","export default __webpack_public_path__ + \"static/media/i-settings.b457df7a.svg\";","export const alertConstants = {\r\n    SUCCESS: 'ALERT_SUCCESS',\r\n    ERROR: 'ALERT_ERROR',\r\n    CLEAR: 'ALERT_CLEAR'\r\n}","export const userConstants = {\r\n    REGISTER_REQUEST: 'USER_REGISTER_REQUEST',\r\n    REGISTER_SUCCESS: 'USER_REGISTER_SUCCESS',\r\n    REGISTER_FAILURE: 'USER_REGISTER_FAILURE',\r\n\r\n    LOGIN_REQUEST: 'USER_LOGIN_REQUEST',\r\n    LOGIN_SUCCESS: 'USER_LOGIN_SUCCESS',\r\n    LOGIN_FAILURE: 'USER_LOGIN_FAILURE',\r\n\r\n    UPDATE_REQUEST: 'USER_UPDATE_REQUEST',\r\n    UPDATE_SUCCESS: 'USER_UPDATE_SUCCESS',\r\n    UPDATE_FAILURE: 'USER_UPDATE_FAILURE',\r\n\r\n    LOGOUT: 'USERS_LOGOUT',\r\n\r\n    GETALL_REQUEST: 'USER_GETALL_REQUEST',\r\n    GETALL_SUCCESS: 'USER_GETALL_SUCCESS',\r\n    GETALL_FAILURE: 'USER_GETALL_FAILURE',\r\n\r\n    GETBYID_REQUEST: 'USER_GETBYID_REQUEST',\r\n    GETBYID_SUCCESS: 'USER_GETBYID_SUCCESS',\r\n    GETBYID_FAILURE: 'USER_GETBYID_FAILURE',\r\n\r\n    DELETE_REQUEST: 'USER_DELETE_REQUEST',\r\n    DELETE_SUCCESS: 'USER_DELETE_SUCCESS',\r\n    DELETE_FAILURE: 'USER_DELETE_FAILURE',\r\n}","export const headerConstants = {\r\n\tSET_TITLE:\t\t'SET_HEADER_TITLE',\r\n\tSET_SUBTITLE:\t'SET_HEADER_SUBTITLE',\r\n\tSET_ALL:\t\t'SET_HEADER_ALL',\r\n\r\n\tCLEAR_TITLE:\t'CLEAR_HEADER_TITLE',\r\n\tCLEAR_SUBTITLE:\t'CLEAR_HEADER_SUBTITLE',\r\n\tCLEAR_ALL:\t\t'CLEAR_HEADER_ALL',\r\n\r\n\tSET_STATE:\t\t'SET_HEADER_STATE',\r\n\tSTATES:\t\t\t{\r\n\t\tNORMAL:\t\t'NORMAL',\r\n\t\tHIDDEN:\t\t'HIDDEN',\r\n\t\tOVERLAY:\t'OVERLAY'\r\n\t},\r\n}\r\n","const apiValues = ['CHARACTERS', 'MISSIONS', 'LOCATIONS', 'QUESTIONS',\r\n 'BACKGROUND_ASSETS', 'QUESTIONNAIRES', 'QUESTIONNAIRE_QUESTIONS', 'GAMES',\r\n 'PLAY_SESSIONS', 'PLAYER_ACTIONS', 'BACKGROUND_AUDIOS']\r\n\r\nexport default apiValues\r\n","import { apiConstantBuilder } from '../_helpers/apiConstantBuilder'\r\nimport apiValues from '../apiValues'\r\n\r\nlet apiConstants = {}\r\n\r\napiValues.map( value => apiConstants[value] = apiConstantBuilder(value) )\r\n\r\nexport { apiConstants }\r\n","export const apiConstantBuilder = apiDataType => {\r\n  return {\r\n    UPDATE_REQUEST: `${apiDataType}_UPDATE_REQUEST`,\r\n    UPDATE_SUCCESS: `${apiDataType}_UPDATE_SUCCESS`,\r\n    UPDATE_FAILURE: `${apiDataType}_UPDATE_FAILURE`,\r\n\r\n    CREATE_REQUEST: `${apiDataType}_CREATE_REQUEST`,\r\n    CREATE_SUCCESS: `${apiDataType}_CREATE_SUCCESS`,\r\n    CREATE_FAILURE: `${apiDataType}_CREATE_FAILURE`,\r\n\r\n    GETALL_REQUEST: `${apiDataType}_GETALL_REQUEST`,\r\n    GETALL_SUCCESS: `${apiDataType}_GETALL_SUCCESS`,\r\n    GETALL_FAILURE: `${apiDataType}_GETALL_FAILURE`,\r\n\r\n    GETBYID_REQUEST: `${apiDataType}_GETBYID_REQUEST`,\r\n    GETBYID_SUCCESS: `${apiDataType}_GETBYID_SUCCESS`,\r\n    GETBYID_FAILURE: `${apiDataType}_GETBYID_FAILURE`,\r\n\r\n    DELETE_REQUEST: `${apiDataType}_DELETE_REQUEST`,\r\n    DELETE_SUCCESS: `${apiDataType}_DELETE_SUCCESS`,\r\n    DELETE_FAILURE: `${apiDataType}_DELETE_FAILURE`,\r\n  }\r\n}\r\n","export const musicConstants = {\r\n\tSET:\t'SET'\r\n}\r\n","import { alertConstants } from '../_constants'\r\n\r\nexport const alertActions = {\r\n    success,\r\n    error,\r\n    clear\r\n}\r\n\r\nfunction success(message) {\r\n    return {\r\n        type: alertConstants.SUCCESS, \r\n        message\r\n    }\r\n}\r\n\r\nfunction error(message) {\r\n    return {\r\n        type: alertConstants.ERROR,\r\n        message\r\n    }\r\n}\r\n\r\nfunction clear() {\r\n    return {\r\n        type: alertConstants.CLEAR\r\n    }\r\n}","import { createBrowserHistory } from 'history'\r\n\r\nexport const history = createBrowserHistory()","import { userConstants } from '../_constants'\r\n\r\nlet user = JSON.parse(localStorage.getItem('user'))\r\nconst initialState = user ? { loggedIn: true, user } : {}\r\n\r\nexport function authentication (state = initialState, action){\r\n    switch (action.type) {\r\n        case userConstants.LOGIN_REQUEST:\r\n            return {\r\n                loggingIn: true,\r\n                user: action.user\r\n            }\r\n        case userConstants.LOGIN_SUCCESS:\r\n            return {\r\n                loggedIn: true,\r\n                user: action.user\r\n            }\r\n        case userConstants.LOGIN_FAILURE:\r\n            return {\r\n                logginFailure: true\r\n            }\r\n        case userConstants.LOGOUT:\r\n            return {}\r\n        default:\r\n            return state\r\n    }\r\n}\r\n","\r\nconst initialState = {\r\n  loading: false,\r\n  items: []\r\n}\r\n\r\nexport const reducerBuilder = constants => (state = initialState, action) =>\r\n{\r\n  switch (action.type) {\r\n      case constants.CREATE_REQUEST:\r\n          return {...state,\r\n            error: null,\r\n            creating: true\r\n          }\r\n      case constants.CREATE_SUCCESS:\r\n          return {...state,\r\n            creating: false,\r\n            items: [...state.items, action.data]\r\n          }\r\n      case constants.CREATE_FAILURE:\r\n          return {\r\n            error: action.error\r\n          }\r\n\r\n      case constants.UPDATE_REQUEST:\r\n          return {...state,\r\n            error: null,\r\n            updating: true\r\n          }\r\n      case constants.UPDATE_SUCCESS:\r\n          let index = state.items.findIndex( item => item.id === action.data.id )\r\n          let copy = [...state.items.slice(0, index), action.data, ...state.items.slice(index + 1)]\r\n          return {...state, updating: false,\r\n            items: copy\r\n          }\r\n      case constants.UPDATE_FAILURE:\r\n          return {...state, updating: false}\r\n\r\n      case constants.GETALL_REQUEST:\r\n          return {...state,\r\n              error: null,\r\n              loading: true\r\n          };\r\n      case constants.GETALL_SUCCESS:\r\n          return {...state,\r\n              loading: false,\r\n              items: action.data\r\n          };\r\n      case constants.GETALL_FAILURE:\r\n          return {...state,\r\n              loading: false,\r\n              error: action.error\r\n          };\r\n\r\n      case constants.GETBYID_REQUEST:\r\n          return {...state,\r\n              error: null,\r\n              loading: true\r\n          };\r\n      case constants.GETBYID_SUCCESS:\r\n          return {...state,\r\n              items: [...state.items, action.data],\r\n              loading: false\r\n          };\r\n      case constants.GETBYID_FAILURE:\r\n          return {...state,\r\n              loading: false,\r\n              error: action.error\r\n          };\r\n\r\n      case constants.DELETE_REQUEST:\r\n          // add 'deleting:true' property to character being deleted\r\n          return {\r\n              ...state,\r\n              items: state.items.map(item =>\r\n                  item.id === action.id\r\n                      ? { ...item, deleting: true }\r\n                      : item\r\n              )\r\n          };\r\n      case constants.DELETE_SUCCESS:\r\n          // remove deleted character from state\r\n          return {...state,\r\n              items: state.items.filter(item => item.id !== action.id)\r\n          }\r\n      case constants.DELETE_FAILURE:\r\n          // remove 'deleting:true' property and add 'deleteError:[error]' property to character\r\n          return {\r\n              ...state,\r\n              items: state.items.map(item => {\r\n                  if (item.id === action.id) {\r\n                      // make copy of character without 'deleting:true' property\r\n                      const { deleting, ...copy } = item;\r\n                      // return copy of character with 'deleteError:[error]' property\r\n                      return { ...copy, deleteError: action.error };\r\n                  }\r\n                  return item;\r\n              })\r\n          };\r\n      default:\r\n          return state\r\n  }\r\n}\r\n","import { reducerBuilder } from '../_helpers/reducerBuilder'\r\nimport { apiConstants } from '../_constants'\r\n\r\nconst apiReducers = { }\r\nObject.keys(apiConstants).forEach(apiType => {\r\n  apiReducers[apiType.toLowerCase()] = reducerBuilder(apiConstants[apiType])\r\n})\r\n\r\n\r\nexport default apiReducers\r\n","import { combineReducers } from 'redux'\r\n\r\nimport { authentication } from './authentication.reducer'\r\nimport { registration } from './registration.reducer'\r\nimport { users } from './users.reducer'\r\nimport { alert } from './alert.reducer'\r\nimport { header } from './header.reducer'\r\nimport { music } from './music.reducer'\r\nimport apiReducers from './api.reducers'\r\n\r\nconst rootReducer = combineReducers({\r\n    authentication,\r\n    registration,\r\n    users,\r\n    alert,\r\n    header,\r\n    music,\r\n    ...apiReducers,\r\n})\r\n\r\nexport default rootReducer\r\n","import { userConstants } from '../_constants'\r\n\r\nexport function registration (state = {}, action) {\r\n    switch (action.type) {\r\n        case userConstants.REGISTER_REQUEST:\r\n            return {registering: true}\r\n        case userConstants.REGISTER_SUCCESS:\r\n            return {}\r\n        case userConstants.REGISTER_FAILURE:\r\n            return {}\r\n        default:\r\n            return state\r\n    }\r\n}","import { userConstants } from '../_constants';\r\n\r\nexport function users(state = {}, action) {\r\n    switch (action.type) {\r\n        case userConstants.UPDATE_REQUEST:\r\n            return {updating: true}\r\n        case userConstants.UPDATE_SUCCESS:\r\n            return {}\r\n        case userConstants.UPDATE_FAILURE:\r\n            return {}\r\n        case userConstants.GETALL_REQUEST:\r\n            return {...state,\r\n                loading: true\r\n            };\r\n        case userConstants.GETALL_SUCCESS:\r\n            return {...state,\r\n                items: action.users\r\n            };\r\n        case userConstants.GETALL_FAILURE:\r\n            return {...state,\r\n                error: action.error\r\n            };\r\n        case userConstants.GETBYID_REQUEST:\r\n            return {...state,\r\n                loading: true\r\n            };\r\n        case userConstants.GETBYID_SUCCESS:\r\n            return {...state,\r\n                items: action.user\r\n            };\r\n        case userConstants.GETBYID_FAILURE:\r\n            return {...state,\r\n                error: action.error\r\n            };\r\n        case userConstants.DELETE_REQUEST:\r\n            // add 'deleting:true' property to user being deleted\r\n            return {\r\n                ...state,\r\n                items: state.items.map(user =>\r\n                    user.id === action.id\r\n                        ? { ...user, deleting: true }\r\n                        : user\r\n                )\r\n            };\r\n        case userConstants.DELETE_SUCCESS:\r\n            // remove deleted user from state\r\n            return {...state,\r\n                items: state.items.filter(user => user.id !== action.id)\r\n            };\r\n        case userConstants.DELETE_FAILURE:\r\n            // remove 'deleting:true' property and add 'deleteError:[error]' property to user\r\n            return {\r\n                ...state,\r\n                items: state.items.map(user => {\r\n                    if (user.id === action.id) {\r\n                        // make copy of user without 'deleting:true' property\r\n                        const { deleting, ...userCopy } = user;\r\n                        // return copy of user with 'deleteError:[error]' property\r\n                        return { ...userCopy, deleteError: action.error };\r\n                    }\r\n\r\n                    return user;\r\n                })\r\n            };\r\n        default:\r\n            return state\r\n    }\r\n}\r\n","import { alertConstants} from '../_constants'\r\n\r\nexport function alert (state = {}, action) {\r\n    switch(action.type) {\r\n        case alertConstants.SUCCESS:\r\n            return {\r\n                type: 'alert-succes',\r\n                message: action.message\r\n            }\r\n        case alertConstants.ERROR:\r\n            return {\r\n                type: 'alert-danger',\r\n                message: action.message\r\n            }\r\n        case alertConstants.CLEAR:\r\n            return {}\r\n        default:\r\n            return state\r\n    }\r\n}\r\n","import { headerConstants } from '../_constants'\r\n\r\nexport function header (state = {state: headerConstants.STATES.NORMAL, title: \"\", subtitle: \"\"}, action) {\r\n    switch(action.type) {\r\n        case headerConstants.SET_TITLE:\r\n\t\t\treturn {...state, title: action.newTitle};\r\n\r\n\t\tcase headerConstants.SET_SUBTITLE:\r\n\t\t\treturn {...state, subtitle: action.newSubtitle};\r\n\r\n\t\tcase headerConstants.SET_ALL:\r\n\t\t\treturn {...state, title: action.newTitle, subtitle: action.newSubtitle};\r\n\r\n\t\tcase headerConstants.CLEAR_TITLE:\r\n\t\t\treturn {...state, title: \"\"};\r\n\r\n\t\tcase headerConstants.CLEAR_SUBTITLE:\r\n\t\t\treturn {...state, subtitle: \"\"};\r\n\r\n\t\tcase headerConstants.CLEAR_ALL:\r\n\t\t\treturn {...state, title: \"\", subtitle: \"\"};\r\n\r\n\t\tcase headerConstants.SET_STATE:\r\n\t\t\treturn {...state, state: action.newState};\r\n\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n    }\r\n}\r\n","import { musicConstants } from '../_constants/music.constants'\r\n\r\nexport function music ( state = {url: '', volume: 15}, action ) {\r\n\tswitch( action.type ) {\r\n\t\tcase musicConstants.SET:\r\n\t\t\treturn {...state, url: action.url};\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n}\r\n","import { createStore, applyMiddleware, compose } from 'redux'\r\nimport thunkMiddleware from 'redux-thunk'\r\nimport { createLogger } from 'redux-logger'\r\nimport rootReducer from '../_reducers'\r\n\r\nconst loggerMiddleware = createLogger()\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose\r\nconst store = createStore(\r\n    rootReducer,\r\n    composeEnhancers(\r\n      applyMiddleware(\r\n          thunkMiddleware,\r\n          loggerMiddleware\r\n      )\r\n    )\r\n)\r\n\r\nexport { store }\r\n","export function authHeader () {\r\n    const user = JSON.parse(localStorage.getItem('user'))\r\n    return user && user.jwt ? {\r\n        'Authorization': 'Bearer ' + user.jwt\r\n    } : {}\r\n}\r\n","import axios from 'axios'\r\nimport { authHeader } from '../_helpers'\r\nimport apiValues from '../apiValues'\r\n\r\nconst baseURL = 'https://learning-tool-backend.herokuapp.com'\r\nconst api  = axios.create({ baseURL })\r\n\r\nconst getAllBuilder = (routeName) => function getAll() {\r\n    // pegar rota\r\n    return api(\r\n      {\r\n        method: 'get',\r\n        url: `/${routeName.toLowerCase().replace('_', '-')}`,\r\n        headers: authHeader()\r\n      })\r\n      .then(handleResponse)\r\n}\r\n\r\nconst getByIdBuilder = (routeName) => function getById(id){\r\n    return api(\r\n        {\r\n          method: 'get',\r\n          url: `/${routeName.toLowerCase().replace('_', '-')}/${id}`,\r\n          headers: authHeader()\r\n        })\r\n        .then(handleResponse)\r\n}\r\n\r\nconst createBuilder = (routeName) => function create(data) {\r\n    return api(\r\n      {\r\n        method: 'post',\r\n        url: `/${routeName.toLowerCase().replace('_', '-')}`,\r\n        headers: authHeader(),\r\n        data: data\r\n      })\r\n      .then(handleResponse)\r\n}\r\n\r\nconst updateBuilder = (routeName) => function update(data){\r\n    return api(\r\n        {\r\n          method: 'put',\r\n          url: `/${routeName.toLowerCase().replace('_', '-')}/${data.id}`,\r\n          headers:  {\r\n            ...authHeader(),\r\n          'Content-Type': 'application/json'\r\n          },\r\n          data: data\r\n        })\r\n        .then(handleResponse)\r\n}\r\n\r\nconst deleteBuilder = (routeName) => function _delete(id){\r\n    return api(\r\n        {\r\n          method: 'delete',\r\n          url: `/${routeName.toLowerCase().replace('_', '-')}/${id}`,\r\n          headers: authHeader()\r\n        })\r\n        .then(handleResponse)\r\n}\r\n\r\nfunction handleResponse(response) {\r\n  if(response.status !== 200){\r\n      if(response.status === 401){\r\n          window.location.reload()\r\n      }\r\n      return Promise.reject(response.statusText)\r\n  }\r\n\r\n  return response.data\r\n}\r\n\r\nlet apiServices = {}\r\n\r\napiValues.map( apiDataType =>\r\n  apiServices[`${apiDataType}`] = {\r\n    getAll:  getAllBuilder(apiDataType),\r\n    getById: getByIdBuilder(apiDataType),\r\n    create:  createBuilder(apiDataType),\r\n    update:  updateBuilder(apiDataType),\r\n    delete:  deleteBuilder(apiDataType)\r\n})\r\n\r\nexport { apiServices, baseURL }\r\nexport default api\r\n","import { authHeader } from '../_helpers'\r\nimport api from './api.services'\r\n\r\nexport const userService = {\r\n    login,\r\n    logout,\r\n    register,\r\n    getAll,\r\n    getById,\r\n    update,\r\n    delete: _delete\r\n}\r\n\r\nfunction login(email, password) {\r\n    return api(\r\n        {\r\n            method: 'post',\r\n            url: '/auth/local',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n            data: {\r\n                identifier: email,\r\n                password: password\r\n            }\r\n        })\r\n        .then(response => {\r\n          if(response.data.jwt){\r\n            localStorage.setItem('user',JSON.stringify(response.data))\r\n          }\r\n            \r\n          return response.data\r\n        })\r\n}\r\n\r\nfunction logout(){\r\n    localStorage.removeItem('user')\r\n}\r\n\r\nfunction getAll() {\r\n    // pegar rota\r\n    return api(\r\n      {\r\n        method: 'get',\r\n        url: '/users',\r\n        headers: authHeader()\r\n      })\r\n      .then(handleResponse)\r\n}\r\n\r\nfunction getById(id){\r\n    return api(\r\n        {\r\n          method: 'get',\r\n          url: `/users/${id}`,\r\n          headers: authHeader()\r\n        })\r\n        .then(handleResponse)\r\n}\r\n\r\nfunction register(user) {\r\n  console.log(user)\r\n    return api(\r\n        {\r\n          method: 'post',\r\n          url: '/auth/local/register',\r\n          headers: {\r\n            'Content-Type': 'application/json'\r\n            },\r\n          data: user,\r\n        })\r\n        .then(response => {\r\n          if(response.data.jwt){\r\n            localStorage.setItem('user',JSON.stringify(response.data))\r\n          }\r\n            \r\n          return response.data\r\n        })\r\n}\r\n\r\nfunction update(user){\r\n    // checar rotausers\r\n    return api(\r\n        {\r\n          method: 'put',\r\n          url: `/users/${user.id}`,\r\n          headers:  {\r\n            ...authHeader(),\r\n          'Content-Type': 'application/json'\r\n          },\r\n          data: user\r\n        })\r\n        .then(response => {\r\n          console.log(response)\r\n        })\r\n}\r\n\r\nfunction _delete(id){\r\n    return api(\r\n        {\r\n          method: 'delete',\r\n          url: `/users/${id}`,\r\n          headers: authHeader()\r\n        })\r\n        .then(handleResponse)\r\n}\r\n\r\nfunction handleResponse(response) {\r\n  console.log(response)\r\n\r\n  if(response.status !== 200){\r\n      if(response.status === 401){\r\n          logout()\r\n          window.location.reload()\r\n      }\r\n\r\n      return Promise.reject(response.statusText)\r\n  }\r\n\r\n  return response.data\r\n}\r\n","import { userConstants } from '../_constants'\r\nimport { userService } from '../_services'\r\nimport { alertActions } from './'\r\n\r\nexport const userActions = {\r\n    getAll,\r\n    getById,\r\n    delete: _delete\r\n}\r\n\r\nexport const login = (email, password) => dispatch => {\r\n    dispatch(request({email}))\r\n\r\n    return userService.login(email, password)\r\n        .then(\r\n            user => {\r\n                dispatch(success(user))\r\n                return Promise.resolve()\r\n            },\r\n            error => {\r\n                dispatch(failure(error.toString()))\r\n                dispatch(alertActions.error(error.toString()))\r\n                return Promise.reject(error.response.data.data[0].messages[0].message)\r\n            }\r\n        )\r\n\r\n    function request(user) { return {type: userConstants.LOGIN_REQUEST, user} }\r\n    function success(user) { return {type: userConstants.LOGIN_SUCCESS, user} }\r\n    function failure(error) { return {type: userConstants.LOGIN_FAILURE, error} }\r\n}\r\n\r\nexport const logout = () => dispatch => {\r\n    userService.logout()\r\n    dispatch({type: userConstants.LOGOUT})                        \r\n}\r\n\r\nexport const register = (user) => dispatch => {\r\n    dispatch(request(user))\r\n\r\n    return userService.register(user)\r\n        .then(\r\n            user => {\r\n                dispatch(success())\r\n                return Promise.resolve()\r\n            },\r\n            error => {\r\n                dispatch(failure(error.toString()))\r\n                dispatch(alertActions.error(error.toString()))\r\n                return Promise.reject(error.response.data.data[0].messages[0].message)\r\n            }\r\n        )\r\n    function request(user) { return {type: userConstants.REGISTER_REQUEST, user} }\r\n    function success(user) { return {type: userConstants.REGISTER_SUCCESS, user} }\r\n    function failure(error) { return {type: userConstants.REGISTER_FAILURE, error} }\r\n}\r\n\r\nexport const update = (user) => dispatch => {\r\n    dispatch(request(user))\r\n\r\n    return userService.update(user)\r\n        .then(\r\n            user => {\r\n                dispatch(success())\r\n                return Promise.resolve()\r\n            },\r\n            error => {\r\n                dispatch(failure(error.toString()))\r\n                dispatch(alertActions.error(error.toString()))\r\n                return Promise.reject()\r\n            }\r\n        )\r\n\r\n    function request(user) { return {type: userConstants.UPDATE_REQUEST, user} }\r\n    function success(user) { return {type: userConstants.UPDATE_SUCCESS, user} }\r\n    function failure(error) { return {type: userConstants.UPDATE_FAILURE, error} }\r\n}\r\n\r\nfunction getAll(){\r\n    return dispatch => {\r\n        dispatch(request())\r\n\r\n        const r = userService.getAll()\r\n            r.then(\r\n                users => dispatch(success(users)),\r\n                error => dispatch(failure(error.toString()))\r\n            )\r\n    }\r\n\r\n    function request() { return {type: userConstants.GETALL_REQUEST} }\r\n    function success(users) { return {type: userConstants.GETALL_SUCCESS, users} }\r\n    function failure(error) { return {type: userConstants.GETALL_FAILURE, error} }\r\n}\r\n\r\nfunction getById(id){\r\n    return dispatch => {\r\n        dispatch(request())\r\n\r\n        userService.getById(id)\r\n            .then(\r\n                user => dispatch(success(user)),\r\n                error => dispatch(failure(error.toString()))\r\n            )\r\n    }\r\n\r\n    function request() { return {type: userConstants.GETBYID_REQUEST} }\r\n    function success(user) { return {type: userConstants.GETBYID_SUCCESS, user} }\r\n    function failure(error) { return {type: userConstants.GETBYID_FAILURE, error} }\r\n}\r\n\r\nfunction _delete(id){\r\n    return dispatch => {\r\n        dispatch(request(id))\r\n\r\n        userService.delete(id)\r\n            .then(\r\n                user => dispatch(success(id)),\r\n                error => dispatch(failure(id, error.toString()))\r\n            )\r\n    }\r\n\r\n    function request(id) { return {type: userConstants.DELETE_REQUEST, id} }\r\n    function success(id) { return {type: userConstants.DELETE_SUCCESS, id} }\r\n    function failure(id, error) { return {type: userConstants.DELETE_FAILURE, id, error} }\r\n}\r\n","import { headerConstants } from '../_constants'\r\n\r\nconst setTitle = (title) => {return {type: headerConstants.SET_TITLE, newTitle: title}};\r\nconst setSubtitle = (subtitle) => {return {type: headerConstants.SET_SUBTITLE, newSubtitle: subtitle}};\r\nconst setAll = (title, subtitle) => {return {type: headerConstants.SET_ALL, newTitle: title, newSubtitle: subtitle}};\r\n\r\nconst clearTitle = () => {return {type: headerConstants.CLEAR_TITLE}};\r\nconst clearSubtitle = () => {return {type: headerConstants.CLEAR_SUBTITLE}};\r\nconst clearAll = () => {return {type: headerConstants.CLEAR_ALL}};\r\n\r\nconst setState = (state) => {return {type: headerConstants.SET_STATE, newState: state}};\r\n\r\nexport const headerActions = {\r\n\tsetTitle,\r\n\tsetSubtitle,\r\n\tsetAll,\r\n\tclearTitle,\r\n\tclearSubtitle,\r\n\tclearAll,\r\n\tsetState\r\n}","import { apiConstants } from '../_constants'\r\nimport { apiServices } from '../_services'\r\n\r\nfunction requester(service, request, success, failure, payload){\r\n  return dispatch => {\r\n      dispatch(request(payload))\r\n\r\n      return service(payload)\r\n        .then(\r\n            data => {\r\n              dispatch(success(data))\r\n              return Promise.resolve()\r\n              },\r\n            error => {\r\n                dispatch(failure(error.toString()))\r\n\r\n                try {\r\n                  return Promise.reject(error.response.data.data[0].messages[0].message)\r\n                } catch{\r\n                  console.log(error)\r\n                }\r\n            }\r\n          )\r\n  }\r\n}\r\n\r\n//Could use some code refactory\r\nconst getAllConstructor = (service, apiDataType) => {\r\n  return function(){\r\n    return requester(service.getAll, request, success, failure)\r\n\r\n    function request() { return { type: apiConstants[apiDataType].GETALL_REQUEST }}\r\n    function success(data) { return {type: apiConstants[apiDataType].GETALL_SUCCESS, data} }\r\n    function failure(error) { return {type: apiConstants[apiDataType].GETALL_FAILURE, error} }\r\n  }\r\n}\r\n\r\nconst getByIdConstructor = (service, apiDataType) => {\r\n  return function(id){\r\n    return requester(service.getById, request, success, failure, id)\r\n\r\n    function request() { return {type: apiConstants[apiDataType].GETBYID_REQUEST} }\r\n    function success(data) { return {type: apiConstants[apiDataType].GETBYID_SUCCESS, data} }\r\n    function failure(error) { return {type: apiConstants[apiDataType].GETBYID_FAILURE, error} }\r\n  }\r\n}\r\n\r\nconst createConstructor = (service, apiDataType) => {\r\n  return function(createData){\r\n    return requester(service.create, request, success, failure, createData)\r\n\r\n    function request(data) { return {type: apiConstants[apiDataType].CREATE_REQUEST, [apiDataType]: data}}\r\n    function success(data) { return {type: apiConstants[apiDataType].CREATE_SUCCESS, data} }\r\n    function failure(error) { return {type: apiConstants[apiDataType].CREATE_FAILURE, error} }\r\n  }\r\n}\r\n\r\nconst updateConstructor = (service, apiDataType) => {\r\n  return function(updateData){\r\n      return requester(service.update, request, success, failure, updateData)\r\n\r\n      function request(data) { return {type: apiConstants[apiDataType].UPDATE_REQUEST, [apiDataType]: data} }\r\n      function success(data) { return {type: apiConstants[apiDataType].UPDATE_SUCCESS, data} }\r\n      function failure(error) { return {type: apiConstants[apiDataType].UPDATE_FAILURE, error} }\r\n  }\r\n}\r\n\r\nconst deleteConstructor = (service, apiDataType) => {\r\n  return function(deleteData){\r\n    return requester(service.delete, request, success, failure, deleteData)\r\n\r\n    function request(data) { return {type: apiConstants[apiDataType].DELETE_REQUEST, [apiDataType]: data} }\r\n    function success(data) { return {type: apiConstants[apiDataType].DELETE_SUCCESS, id: data.id} }\r\n    function failure(error) { return {type: apiConstants[apiDataType].DELETE_FAILURE, error} }\r\n  }\r\n}\r\n\r\nlet apiActions = {}\r\nObject.keys(apiConstants).forEach( (apiDataType) => {\r\n  apiActions[`${apiDataType.toLowerCase()}Actions`] = {\r\n    getAll:  getAllConstructor(apiServices[apiDataType], apiDataType),\r\n    getById: getByIdConstructor(apiServices[apiDataType], apiDataType),\r\n    create:  createConstructor(apiServices[apiDataType], apiDataType),\r\n    update:  updateConstructor(apiServices[apiDataType], apiDataType),\r\n    delete:  deleteConstructor(apiServices[apiDataType], apiDataType)\r\n  }\r\n})\r\n\r\nexport { apiActions }\r\n","import { musicConstants } from '../_constants'\r\n\r\nconst set = (music) => { return { type: musicConstants.SET, url: music } }\r\n\r\nexport const musicActions = \r\n{\r\n  set\r\n}\r\n","import './index.scss'\r\nimport React from 'react'\r\nimport avatar from '../../img/avatar1.svg'\r\nimport home from '../../img/i-home.svg'\r\nimport notifications from '../../img/i-notification.svg'\r\nimport settings from '../../img/i-settings.svg'\r\nimport { logout } from '../../_actions'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { useAlert } from 'react-alert';\r\nimport Button from '@material-ui/core/Button'\r\n\r\nconst UserHeader = ({pageInfo}) => {\r\n\tlet headerInfo = useSelector(state => state.header)\r\n    const [state, setState] = React.useState( {view: 'default'} );\r\n\tconst dispatch = useDispatch()\r\n\tconst alert = useAlert()\r\n\r\n\tconst clickProfile = () => {\r\n\t\tsetState({...state, view: 'profile'});\r\n\t\talert.show(\"Vc achou onde faz para abrir o seu perfil! \\n\\n Ending 3/15\");\r\n\t}\r\n\r\n\tconst clickHome = () => {\r\n\t\tsetState({...state, view: 'home'});\r\n\t\talert.show(\"Vc achou onde faz para voltar ao início! \\n\\n Ending 1/15\");\r\n\t}\r\n\r\n\tconst clickNotif = () => {\r\n\t\tsetState({...state, view: 'notif'});\r\n\t\talert.show(\"Vc achou onde faz para ver suas notificações! \\n\\n Ending 7/15\");\r\n\t}\r\n\r\n\tconst clickSettings = () => {\r\n\t\tsetState({...state, view: 'settings'});\r\n\t\talert.show(\"Vc achou onde faz para abrir suas configurações! \\n\\n Ending 8/15\");\r\n\t}\r\n\r\n    return (\r\n        <header id=\"app-header\" className={ headerInfo.state.toLowerCase() }>\r\n\t\t\t<div className=\"group-btns\" id=\"left-btns\">\r\n\t\t\t\t<div className=\"header-btn\" id=\"home-btn\" onClick={clickHome}><img src={home} alt=\"Home\"></img></div>\r\n\t\t\t\t<div className=\"header-btn\" id=\"notif-btn\" onClick={clickNotif}><img src={notifications} alt=\"Notifications\"></img></div>\r\n\t\t\t\t<div className=\"header-btn\" id=\"settings-btn\" onClick={clickSettings}><img src={settings} alt=\"Settings\"></img></div>\r\n\t\t\t</div>\r\n\t\t\t<div id=\"pageTitle\">\r\n\t\t\t\t<div id=\"mainTitle\">{headerInfo.title}</div>\r\n\t\t\t\t<div id=\"subTitle\">{headerInfo.subtitle}</div>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"group-btns\" id=\"right-btns\">\r\n\t\t\t\t<div id=\"profilePic\" onClick={clickProfile}><img src={avatar} alt=\"Profile_Picture\"/></div>\r\n\t\t\t\t<div className=\"header-btn\" id=\"logout-btn\" onClick={() => {dispatch(logout())}}>Logout</div>\r\n\t\t\t</div>\r\n\t\t\t{/* style provisório para teste*/}\r\n\t\t\t{ state.view === 'settings' &&\r\n\t\t\t\t<div className='ConfigPopUp' style={{position: 'absolute', backgroundColor: '#ddddee', top: 100, margin: '0 auto', width: '50%', height: 500}}>\r\n\t\t\t\t\tConfigurações\r\n\t\t\t\t\t<Button>Config 1</Button>\r\n\t\t\t\t\t<Button>Config 2</Button>\r\n\t\t\t\t\t<Button>Config 3</Button>\r\n\t\t\t\t\t<Button onClick={() => setState({...state, view: 'default'})}>X</Button>\r\n\t\t\t\t</div>\r\n\t\t\t}\r\n\t\t</header>\r\n  )\r\n\t/**/\r\n}\r\n\r\nexport default UserHeader\r\n","import React from 'react'\r\nimport {Nav, Navbar} from 'react-bootstrap'\r\n\r\nconst DefaultHeader = ({pageInfo}) => {\r\n\r\n\treturn (\r\n\t\t<Navbar id=\"app-header\">\r\n            {/* <Navbar.Brand href=\"/\">Navbar</Navbar.Brand> */}\r\n            <Nav className=\"mr-auto\">\r\n                <Nav.Link href=\"/\">Home</Nav.Link>\r\n                <Nav.Link href=\"/\">Sobre</Nav.Link>\r\n                {/* <Nav.Link href=\"/login\">Login</Nav.Link> */}\r\n            </Nav>\r\n        </Navbar>\r\n\t)\r\n\t\r\n}\r\n\r\nexport default DefaultHeader","import './index.scss'\r\nimport React from 'react'\r\nimport UserHeader from '../UserHeader'\r\nimport DefaultHeader from '../DefaultHeader'\r\n\r\nconst AppHeader = ({props}) => {\r\n\treturn props.isLogged ? <UserHeader pageInfo={props} /> : <DefaultHeader />\r\n}\r\n\r\nexport default AppHeader","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport './index.scss'\r\n\r\nconst Home = () => {\r\n  return(\r\n    <div id=\"message\">\r\n      Aqui é a home. Nada muito interessante aqui. Se quiser fazer login:\r\n      <Link to='/login' className=\"btn-normal\">Login</Link>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Home\r\n","export default __webpack_public_path__ + \"static/media/pic-people-talk.3d385cc4.svg\";","import React from 'react'\r\nimport './index.scss'\r\nimport classImage from '../../../../img/pic-people-talk.svg'\r\n\r\nconst Init = ({name, description, onClose, onStart, onBack}) => {\r\n    return (\r\n        <div className=\"main-init-wrapper\">\r\n          <div className=\"inner-content\">\r\n            <div name=\"infos\">\r\n              <img className=\"classImage\" src={classImage} alt=\"\"/>\r\n              <h1 className=\"margin-half-top type-l type-display type-center\">{name}</h1>\r\n              <h1 className=\"type-m type-display type-center subtitle\">Em inglês</h1>\r\n\r\n              <h2 className=\"margin-half-top type-s type-center\">{description}</h2>\r\n              <h2 className=\"type-s type-center subdescription\">Em inglês</h2>\r\n            </div>\r\n            <div id=\"btns\">\r\n              { onBack && <button className=\"btn btn-center\" id=\"btn-back\" onClick={onBack}>Voltar</button> }\r\n              { onStart && <button className=\"btn btn-center\" id=\"btn-start\" onClick={onStart}>Iniciar</button> }\r\n              { onClose && <button className=\"btn btn-center\" id=\"btn-close\" onClick={onClose}>Fechar</button> }\r\n            </div>\r\n          </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Init\r\n","import React from 'react'\r\nimport './index.scss'\r\n\r\nconst Result = ({gameEndState}) => {\r\n    return (\r\n        <div>\r\n            {/* Não era pra a gente precisar checar se a string é null, pq era pra isso\r\n            só aparecer quando já tivesse um valor na string... WTF */}\r\n            { gameEndState ? gameEndState.split('\\n').map( str => <p>{str}</p>) : null}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Result\r\n","import React from 'react'\r\nimport './index.scss'\r\n\r\nconst RoomSelect = ({buttonList, onChange}) => {\r\n\tconst [state, setState] = React.useState(0)\r\n\r\n\tconst buttonClick = (num) => () => {\r\n\t\tonChange(num)\r\n\t\tsetState(num)\r\n\t}\r\n\r\n    return (\r\n\t\t<div id=\"RoomSelect\">\r\n\t\t\t<div className=\"section-title\">\r\n\t\t\t\t<span lang=\"pt-br\">Salas</span>\r\n\t\t\t\t<span lang=\"en\">Rooms</span>\r\n\t\t\t</div>\r\n\t\t\t<div id=\"button-rows\">\r\n\t\t\t\t{buttonList.map( (name, index) =>\r\n\t\t\t\t\t<button className=\"RoomBtn\" key={index}\r\n\t\t\t\t\tid={ state === index ? \"selected\" : \"\" }\r\n\t\t\t\t\tonClick={buttonClick(index)}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{index+1}\r\n\t\t\t\t\t</button> )}\r\n\t\t\t</div>\r\n\t\t</div>\r\n    )\r\n}\r\n\r\nexport default RoomSelect\r\n","import React from 'react'\r\nimport './sala.scss'\r\n\r\nconst Sala = ({children, roomData, setCurrentChar}) => {\r\n\r\n  const img = roomData.location.backgroundAssets.length > 0 ? roomData.location.backgroundAssets[0].image[0].url : \"\"\r\n  return (\r\n      <div id=\"sala\" style={{backgroundImage: `url(\"${img}\")`}}>\r\n        <div>\r\n          {children}\r\n        </div>\r\n      </div>\r\n  )\r\n}\r\n\r\nexport default Sala\r\n","import React from 'react'\r\nimport './character.scss'\r\n\r\nconst Character = ({character, dragPosition, position, onClick}) => {\r\n    const [pos, setPos] = React.useState({x:0, y:0})\r\n    const [dragging, setDragging] = React.useState(false)\r\n\r\n    React.useEffect(()=>{\r\n      if(dragging) setPos(dragPosition)\r\n    }, [dragging, dragPosition])\r\n\r\n    return (\r\n    <div className=\"CharDiv\" style={pos.x ? {position: 'absolute', left:pos.x, top: pos.y} : null}\r\n      draggable onDragStart={()=>setDragging(true)} onDragEnd={()=>setDragging(false)} onClick={onClick}>\r\n        <img src={character.characterAssets.length > 0 ? character.characterAssets.find(asset => asset.bodyPart === 'fullbody'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t).image[0].url : \"\"} alt={`${character.name}`}/>\r\n        <div>{character.name}</div>\r\n    </div>\r\n    )\r\n}\r\n\r\nexport default Character\r\n","const initialValue = {\r\n//METADATA\r\n  back: false,\r\n//GAME STATE\r\n  scene: \"INIT\",\r\n  endGame: false,\r\n  currentLocationIndex: 0,\r\n  locations:[],\r\n//DIALOG\r\n  dialogHistory: [],\r\n  currentChar: null,\r\n  showContacts: false,\r\n}\r\n\r\n\r\nexport default initialValue\r\n","const stub = {\r\n  name: 'Stub mission',\r\n  description: 'Local stub mission for tests',\r\n  locations: [\r\n    {name: 'sala', backgroundAssets: []},\r\n    {name: 'cozinha', backgroundAssets: []},\r\n    {name: 'biblioteca', backgroundAssets: []},\r\n    {name: 'escritório', backgroundAssets: []}],\r\n  characters: [\r\n    {\r\n      name: 'Joao', characterAssets: [],\r\n      answers: [\r\n        {\r\n          answer: 'oi',\r\n          question: {question: \"oi?\"}\r\n        },\r\n        {\r\n          answer: 'turusim',\r\n          question: {question: \"turubem?\"}\r\n        },\r\n\r\n        {\r\n          answer: 'kiésim',\r\n          question: {question: \"cumékié?\"}\r\n        }\r\n      ]\r\n    },\r\n    {name: 'Pedro', characterAssets: [], answers: [{question: {question: \"oi?\"}}]},\r\n    {name: 'Marta', characterAssets: [], answers: [{question: {question: \"oi?\"}}]},\r\n    {name: 'Suzane', characterAssets: [], answers: [{question: {question: \"oi?\"}}]},\r\n    {name: 'Maria', characterAssets: [], answers: [{question: {question: \"oi?\"}}]},\r\n    {name: 'Pablo', characterAssets: [], answers: [{question: {question: \"oi?\"}}]},\r\n  ]\r\n}\r\n\r\nexport default stub\r\n","import React from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { Redirect } from 'react-router-dom'\r\n\r\nimport { apiActions, headerActions } from '../../_actions'\r\n\r\nimport Init from '../Game2/components/Init'\r\nimport Result from '../Game2/components/Result'\r\nimport RoomSelect from '../Game2/components/RoomSelect'\r\nimport Sala from '../Game2/components/Sala'\r\nimport Character from '../Game2/components/Character'\r\nimport Button from '@material-ui/core/Button'\r\nimport '../Game2/index.scss'\r\nimport initialState from './initialState.js'\r\nimport stub from './stub.js'\r\nimport './index.scss'\r\n\r\nconst Game1 = (props) => {\r\n\tconst [state, setState] = React.useState(initialState);\r\n\r\n\tconst { missionsActions, play_sessionsActions, player_actionsActions } = apiActions\r\n\tconst id = props.match.params.id\r\n\tconst dispatch = useDispatch()\r\n\r\n\tconst loading = useSelector( state => state.missions.loading)\r\n\tlet error = useSelector( state => state.missions.error)\r\n\tlet mission = useSelector( state => state.missions.items.find(mission => mission.id === props.match.params.id))\r\n\tconst userId = useSelector( state => state.authentication.user.user.id )\r\n\tconst currentPlaySession = useSelector( state => state.play_sessions ? state.play_sessions.items[0] : {} )\r\n\r\n\t//Track playerActions\r\n\tReact.useEffect(() => {\r\n\t\tif(!state.tracking || !currentPlaySession)\r\n\t\t\treturn\r\n\r\n\t\tconst\tgetClickedObject = (e) => {\r\n\t\t\t\tdispatch(player_actionsActions.create({\r\n\t\t\t\t\t'play_session': currentPlaySession.id,\r\n\t\t\t\t\tdata:\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\ttag: e.target.nodeName,\r\n\t\t\t\t\t\t\t\talt: e.target.alt,\r\n\t\t\t\t\t\t\t\tclassName: e.target.className,\r\n\t\t\t\t\t\t\t\tinnerHTML: e.target.innerHTML.includes('<div') ? null : e.target.innerHTML, clickTime: new Date()\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t}))\r\n\t\t\t}\r\n\t\tdocument.addEventListener(\"mousedown\", getClickedObject)\r\n\r\n\t\tsetState( s => { return {...s, currentPlaySession, getClickedObject} })\r\n\t\treturn () => {\r\n\t\t\tdocument.removeEventListener(\"mousedown\", getClickedObject)\r\n\t\t}\r\n\t}, [dispatch, currentPlaySession, player_actionsActions, state.tracking])\r\n\r\n\tReact.useEffect(() => {\r\n\t\tif(id && !mission) dispatch(missionsActions.getById(props.match.params.id))\r\n\t}, [dispatch, id, mission, missionsActions, props.match.params.id])\r\n\r\n\t//React.useEffect(()=>{\r\n\t//\tdispatch(headerTitleActions.showHeader(false))\r\n\t//}, [dispatch, headerTitleActions])\r\n\r\n\tif(error){\r\n\t\terror = null\r\n\t\tmission = stub\r\n\t}\r\n\r\n\t//aplicar lógica de espalhamento de personagens\r\n\tif(mission && state.locations.length === 0){\r\n\t\tlet locations = mission.locations.map( location => { return {location: location, characters: [...mission.characters]} })\r\n\t\tsetState({...state, locations: locations})\r\n\t}\r\n\r\n\tconst onStartGame = (e) => {\r\n\t\tif(state.tracking){\r\n\t\t\tdispatch(play_sessionsActions.create({\r\n\t\t\t\tusersPermissionsUser: userId,\r\n\t\t\t\tmission: mission.id\r\n\t\t\t}))\r\n\t\t}\r\n\r\n\t\tsetState({...state, scene: 'ROOM'})\r\n\t}\r\n\r\n\tconst onMenuButtonClick = (answer) => () =>{\r\n\t\t//\r\n\t\t//\tAplicar lógica adicional de click nos botões do menu\r\n\t\t//\r\n\r\n\t\tsetState({...state,\r\n\t\t\tdialogHistory:\r\n\t\t\t[...state.dialogHistory,\r\n\t\t\t\tanswer.question.question,\r\n\t\t\t\tanswer.answer\r\n\t\t\t]\r\n\t\t})\r\n\t}\r\n\r\n\tconst onPhoneEnterClick = () => {\r\n\t\tsetState({...state, showContacts: true})\r\n\t}\r\n\r\n\tconst onPhoneExitClick = () => {\r\n\t\tsetState({...state, showContacts: false})\r\n\t}\r\n\r\n\tconst addContact = () => {\r\n\t\t// TODO\r\n\t\t// Pegar nome, profissão e nacionalidade do form,\r\n\t\t// colocar em state.contactList e limpar o form\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t{loading ? <div>Loading...</div> : error ? <div>{error}</div> : mission &&\r\n\t\t\t<div>\r\n\t\t\t\t<div style={{width: '100%', height: '100%'}}>\r\n\t\t\t\t\t<div id=\"input-tracker\">TrackInput: <input type=\"checkbox\" onChange={(e)=>{ setState({...state, tracking: e.target.checked}) }} /></div>\r\n\t\t\t\t\t{(function renderScene(){\r\n\t\t\t\t\t\tswitch(state.scene){\r\n\t\t\t\t\t\t\tcase \"INIT\":\r\n\t\t\t\t\t\t\t\treturn <Init\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname={mission.name} description={mission.description}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonStart={ onStartGame }\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonBack={ ()=> setState({...state, back: true}) }\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\tcase \"ROOM\":\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t<RoomSelect\r\n\t\t\t\t\t\t\t\t\t\t\tbuttonList={mission.locations.map((location) => location.name)}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={(buttonIndex) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tsetState({...state, currentLocationIndex: buttonIndex})\r\n\t\t\t\t\t\t\t\t\t\t\t\tdispatch(headerActions.changeTitle(state.locations[buttonIndex].name))\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t\t\t\t\t<Sala roomData={state.locations[state.currentLocationIndex]}>\r\n\t\t\t\t\t\t\t\t\t\t\t{state.locations[state.currentLocationIndex].characters.map((character, index) =>\r\n\t\t\t\t\t\t            <Character key={index}\r\n\t\t\t\t\t\t              character={character}\r\n\t\t\t\t\t\t              setCurrentChar={(charData) => () => setState({...state, currentChar: charData})}\r\n\t\t\t\t\t\t            />\r\n\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t</Sala>\r\n\r\n\t\t\t\t\t\t\t\t\t\t{ state.currentChar &&\r\n\t\t\t\t\t\t\t\t\t\t\t<div id=\"conversa\" className='DialogPopUp'>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Button onClick={() => setState({...state, currentChar: null, dialogHistory: []})}>X</Button>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className='CharacterPortrait' style={{width: 100}}>\r\n\t\t\t\t\t\t\t\t\t        {<img src={state.currentChar.characterAssets.length > 0 ? state.currentChar.characterAssets[1].image[0].url: \"\"} alt=\"portrait\" />}\r\n\t\t\t\t\t\t\t\t\t        {<img src={state.currentChar.characterAssets.length > 0 ? state.currentChar.characterAssets[2].image[0].url : \"\"} alt=\"portrait\" />}\r\n\t\t\t\t\t\t\t\t\t      </div>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className='DialogHistory'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{state.dialogHistory.map((dialog, index)=>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div key={index}>{dialog}</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className='Menu'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{state.currentChar.answers.map( (answer,index) =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button key={index} onClick={onMenuButtonClick(answer)}>{answer.question.question}</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t{ state.showContacts &&\r\n\t\t\t\t\t\t\t\t\t\t\t<div id=\"contacts\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div id=\"btn-fechar\" onClick={onPhoneExitClick}><span>×</span></div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div id=\"fullPhone\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<p>Lista de contatos</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div id=\"lista-contatos\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{// TODO\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// Assim que contactList estiver implementado, isso aqui deve funcionar\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/* { state.contactList.map((contact, index)=>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"contato\" key={index}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"contact-profile-pic\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<img>{contact.pic}</img> // Provavelmente vai ser a mesma para todos, então de onde puxar?\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span>{index}</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"contact-info\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"name\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p>Nome</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p>{contact.name}</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"profession\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p>Profissão</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p>{contact.profession}</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"nationality\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p>Nacionalidade</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p>{contact.nationality}</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t) } */}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div id=\"add-contato\" className=\"contato\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"contact-profile-pic\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{/* <img></img> Se for para usar a mesma imagem que seria usada lá em cima, tira o div e usa isso */}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div></div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span>+</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"contact-info\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"name\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p>Nome</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" name=\"nome\" placeholder=\"Nome do contato\"></input>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"profession\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p>Profissão</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<select name=\"profissao\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{ /* Melhor ainda se tiver ccomo trazer as opções automaticamente, mesmo que não seja do backend*/ }\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=\"\">-- Profissão --</option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=\"Cebelereiro\">Cabelereiro</option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=\"Pintor\">Pintor</option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=\"Professor\">Professor</option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"nationality\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p>Nacionalidade</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<select name=\"Nacionalidade\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{ /* Melhor ainda se tiver ccomo trazer as opções automaticamente, mesmo que não seja do backend*/ }\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=\"\">-- Nacionalidade --</option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=\"Brasileira\">Brasileira</option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=\"Americana\">Americana</option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=\"Japonesa\">Japonesa</option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=\"Finlandesa\">Finlandesa</option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div id=\"btn-add-contato\" onClick={addContact}>Adicionar contato</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div id=\"btn-terminei\">Terminei!</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t{ !state.showContacts && <div id=\"phone\" onClick={onPhoneEnterClick}><p>Agenda de contatos</p></div> }\r\n\t\t\t\t\t\t\t\t\t</div>)\r\n\t\t\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\t\t\treturn(<div>Error</div>)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}())}\r\n\r\n\t\t\t\t\t{ !state.gameEndState && // Não dá para ser !endGame pq ele vira true na hora que aparece para o jogador se apresentar\r\n\t\t\t\t\t\t<div></div>\r\n\t\t\t\t\t}\r\n\t\t\t\t\t{\tstate.endGame ? <Result gameEndState={state.gameEndState}/> : null }\r\n\t\t\t\t\t{ state.tries > 0 ? <div>{state.tries} tentativa{state.tries > 1? 's' : ''}!</div> : null}\r\n\t\t\t\t\t{ state.back && <Redirect to='/userspace' />}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t}\r\n\t\t</div>\r\n  )\r\n}\r\n\r\nexport default Game1\r\n","// eslint-disable-next-line import/no-anonymous-default-export\r\nexport default {\r\n//GAME STATE\r\n  scene: \"INIT\",\r\n  currentRoom: 0,\r\n  isOnDialog: false,\r\n  endGame: false,\r\n  found: false,\r\n  locations:[],\r\n  tips: [],\r\n  acusation: false,\r\n  tries: 0,\r\n  validQuestions: [],\r\n  tutorialStep: 0,\r\n  tryAgain: false,\r\n  checkPlayed: false,\r\n//DIALOG\r\n  dialogHistory: [],\r\n  dialogStep: 0,\r\n  characterFeeling: 'init',\r\n  totalDialogSteps: 2,\r\n  questionsByStep: 2,\r\n  currentChar: null,\r\n  questions: [],\r\n  targetName: 'Leila',\r\n  correct: 0,\r\n  ncorrect: 0,\r\n  correctMinimum: 2,\r\n  gameEndState: null,\r\n  score: 0,\r\n  startedTimestamp: new Date(Date.now()),\r\n  elapsedTime: null,\r\n  back: false,\r\n  spokenCharacters: [],\r\n}\r\n","export default __webpack_public_path__ + \"static/media/lampada_apagada.3f2311d7.svg\";","export default __webpack_public_path__ + \"static/media/lampada_acesa.aeef7b84.svg\";","import React from 'react'\r\nimport lamp_apagada from '../../../../img/lampada_apagada.svg'\r\nimport lamp_acesa from '../../../../img/lampada_acesa.svg'\r\n\r\nconst AcusationLamp = ({onClick}) => {\r\n  return(\r\n    <div id=\"acusar\" onClick={onClick}>\r\n      <img id=\"lamp-apagada\" src={lamp_apagada} alt=\"\"></img>\r\n      <img id=\"lamp-acesa\" src={lamp_acesa} alt=\"\"></img>\r\n      <span>É você!</span>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default AcusationLamp\r\n","import React from 'react'\r\n\r\nconst DialogCharacter = ({character, feeling}) => {\r\n  return(\r\n    <div id='CharacterPortrait'>\r\n      {<img src={character.characterAssets.length > 0 ?\r\n        character.characterAssets\r\n        .find(asset =>  asset.bodyPart === 'upperBody' && asset.type === feeling)\r\n        .image[0].url: \"\"} alt=\"portrait\" />}\r\n</div>\r\n  )\r\n}\r\n\r\nexport default DialogCharacter\r\n","import React from 'react'\r\n\r\nconst DialogHistory = ({dialogHistory}) => {\r\n  return(\r\n    <div id='DialogHistory'>\r\n      <span></span>\r\n      {dialogHistory.map((dialog, index)=>\r\n        <div className={\"mensagem\" + (dialog.speaker==='player'? 0 : 1) } key={index}>{dialog.text}</div>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default DialogHistory\r\n","import React from 'react'\r\nimport Button from '@material-ui/core/Button'\r\n\r\nconst Menu = ({buttonList, onButtonClick}) => {\r\n  return(\r\n    <div id='Menu'>\r\n      {buttonList.map( (button,index) =>\r\n        <Button key={index} onClick={onButtonClick(button)}>{button.text}</Button>\r\n        )}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Menu\r\n","import React from 'react'\r\n\r\nconst Writer = ({text, characterTime, onWritten, afterWrittenTime}) => {\r\n  const [state, setState] = React.useState({text: text, index: 0})\r\n\r\n  React.useEffect(()=>{\r\n    setState({text: text, index: 0})\r\n  }, [text])\r\n  return(\r\n\r\n  <div className=\"Writer\">\r\n    { (() => {\r\n      if(state.index < state.text.length)\r\n        setTimeout( () => setState({...state, index: state.index + 1}), characterTime)\r\n      else\r\n        setTimeout( onWritten , afterWrittenTime)\r\n\r\n      return state.text.substring(0, state.index)\r\n    })()}\r\n  </div>\r\n  )\r\n}\r\n\r\nexport default Writer\r\n","import React from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { apiActions, headerActions, musicActions } from '../../_actions'\r\nimport Init from './components/Init'\r\nimport RoomSelect from './components/RoomSelect'\r\nimport Sala from './components/Sala'\r\nimport Character from './components/Character'\r\nimport Button from '@material-ui/core/Button'\r\nimport './index.scss'\r\nimport initialState from './initialState'\r\nimport AcusationLamp from './components/AcusationLamp'\r\nimport DialogCharacter from './components/DialogCharacter'\r\nimport DialogHistory from './components/DialogHistory'\r\nimport Menu from './components/Menu'\r\nimport Writer from './components/Writer'\r\nimport { headerConstants } from '../../_constants'\r\n\r\nconst Game2 = (props) => {\r\n\tconst [state, setState] = React.useState({...initialState});\r\n\r\n\tconst id = props.match.params.id\r\n\tconst dispatch = useDispatch()\r\n\tlet error = useSelector( state => state.missions.error)\r\n\tlet mission = useSelector( state => state.missions.items.find(mission => mission.id === props.match.params.id))\r\n\tconst loading = useSelector( state => state.missions.loading)\r\n\tconst userId = useSelector( state => state.authentication.user.user.id )\r\n\tconst currentPlaySession = useSelector( state => state.play_sessions ? state.play_sessions.items[0] : {} )\r\n\tconst { missionsActions, play_sessionsActions, player_actionsActions } = apiActions\r\n\r\n\tlet tipsCount\r\n\r\n\tif(mission)\r\n\t\ttipsCount = mission.characters.filter(character => {\r\n\t\treturn character.tip\r\n\t}).length\r\n\tconst dialogInitialState = { dialogHistory: [], dialogStep: 0, correct: 0, characterFeeling: 'init' }\r\n\r\n\tReact.useEffect(()=>{\r\n\t\tif(mission)\r\n\t\t\tdispatch(musicActions.set(mission.backgroundAudios[0].music[0].url))\r\n\t\treturn () => dispatch(musicActions.set(''))\r\n\t}, [dispatch, mission])\r\n\r\n\t//fetch mission if doesn't already have\r\n\tReact.useEffect(() => {\r\n\t\tif(id && !mission) dispatch(missionsActions.getById(props.match.params.id))\r\n\t}, [id, mission, dispatch, missionsActions, props.match.params.id])\r\n\r\n\t// check if user already played the game\r\n\t// React.useEffect(() => {\r\n\t// \tif(!state.checkPlayed){\r\n\t// \t\tdispatch(user_game_resultActions)\r\n\t// \t} \r\n\t// }, [id, mission, dispatch, user_game_resultActions, state])\r\n\r\n\t//track player actions\r\n\tReact.useEffect(() => {\r\n\t\tif(!state.tracking || !currentPlaySession)\r\n\t\t\treturn\r\n\r\n\t\tconst\tgetClickedObject = (e) => {\r\n\t\t\t\tdispatch(player_actionsActions.create({\r\n\t\t\t\t\t'play_session': currentPlaySession.id,\r\n\t\t\t\t\tdata:\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\ttag: e.target.nodeName,\r\n\t\t\t\t\t\t\t\talt: e.target.alt,\r\n\t\t\t\t\t\t\t\tclassName: e.target.className,\r\n\t\t\t\t\t\t\t\tinnerHTML: e.target.innerHTML.includes('<div') ? null : e.target.innerHTML, clickTime: new Date()\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t}))\r\n\t\t\t}\r\n\t\tdocument.addEventListener(\"mousedown\", getClickedObject)\r\n\r\n\t\tsetState(s => {return {...s, currentPlaySession, getClickedObject }})\r\n\t\treturn () => {\r\n\t\t\tdocument.removeEventListener(\"mousedown\", getClickedObject)\r\n\t\t}\r\n\t}, [dispatch, player_actionsActions, state.tracking, currentPlaySession])\r\n\t/*//Testing tool\r\n\tif(error){\r\n\t\terror = null\r\n\t\tmission = stub\r\n\t}\r\n\t*/\r\n\t//Randomizar personagens para aparecer nas salas\r\n\t//\tEnquanto houver personagens na lista de personagens disponíveis\r\n\t//\t\tEscolhe um local ao acaso\r\n\t//\t\tEscolhe um personagem dentre a lista de personagens disponíveis ao acaso\r\n\t//\t\tAdiciona personagem ao local\r\n\t//\t\tRetira personagem da lista de personagens disponíveis\r\n\r\n\tif(mission && state.locations.length === 0){\r\n\t\t// safe copies\r\n\t\tlet availableCharacters = mission.characters.slice(0)\r\n\t\tlet locations = mission.locations.map( location => { return {location: location, characters: []} })\r\n\r\n\t\t//distribute on locations\r\n\t\twhile(availableCharacters.length > 0){\r\n\r\n\t\t\tconst locationIndex = Math.floor((Math.random() * 100)) % locations.length\r\n\t\t\tconst characterIndex = Math.floor(Math.random(0, availableCharacters.length))\r\n\r\n\t\t\t//each character has some good and bad questions that can be asked\r\n\t\t\tlet availableAnswers = [...availableCharacters[characterIndex].answers]\r\n\t\t  let correct = availableAnswers.filter(answer => answer.question.correct)\r\n\t\t  let ncorrect = availableAnswers.filter(answer => !answer.question.correct)\r\n\r\n\t\t  let selectedQuestions = []\r\n\t\t  while(selectedQuestions.length < 4){\r\n\t\t    let source = selectedQuestions.length % 2 === 0? correct : ncorrect\r\n\t\t    let index = Math.floor(Math.random(0, source.length))\r\n\t\t    selectedQuestions.push( source[index] )\r\n\t\t    source.splice(index, 1)\r\n\t\t  }\r\n\r\n\t\t  if(Math.floor(Math.random(0,1) < .5)){\r\n\t\t    let temp = selectedQuestions[0]\r\n\t\t    selectedQuestions[0] = selectedQuestions[1]\r\n\t\t    selectedQuestions[1] = temp\r\n\t\t  }\r\n\t\t  if(Math.floor(Math.random(0, 1) > .5)){\r\n\t\t    let temp = selectedQuestions[2]\r\n\t\t    selectedQuestions[2] = selectedQuestions[3]\r\n\t\t    selectedQuestions[3] = temp\r\n\t\t  }\r\n\r\n\t\t\tconsole.log('selectedQuestions:', selectedQuestions)\r\n\r\n\t\t\tlocations[locationIndex].characters = [...locations[locationIndex].characters,\r\n\t\t\t\t{...availableCharacters[characterIndex],\r\n\t\t\t\t\tselectedQuestions\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t\tavailableCharacters.splice(characterIndex, 1)\r\n\t\t}\r\n\t\tsetState({...state, locations})\r\n\t}\r\n\r\n\tconst onStartGame = (e) => {\r\n\t\tif(state.tracking){\r\n\t\t\tdispatch(play_sessionsActions.create({\r\n\t\t\t\tusersPermissionsUser: userId,\r\n\t\t\t\tmission: mission.id\r\n\t\t\t}))\r\n\t\t}\r\n\r\n\t\t//check if should start or skip tutorial\r\n\t\tsetState({...state, scene: state.tryAgain ? \"ROOM\" : \"TUTORIAL\"})\r\n\t}\r\n\r\n\tconst endTutorial = () => {\r\n\t\tsetState(\r\n\t\t\t{...state, \r\n\t\t\t\tscene: \"ROOM\", \r\n\t\t\t\ttutorialStep: state.tutorialStep + 1,\r\n\t\t\t\tcurrentChar: null, \r\n\t\t\t\t...dialogInitialState\r\n\t\t\t})\r\n\t}\r\n\r\n\tconst setTutorialCharacter = (character) => () => {\r\n\t\tsetState(\r\n\t\t\t{...state,\r\n\t\t\t\ttutorialStep: state.tutorialStep + 1,\r\n\t\t\t\tcurrentChar: character,\r\n\t\t\t\tanswers:\r\n\t\t\t\t[\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tanswer: 'Olha, não sei quem você está procurando, cheguei aqui semana passada. A cabelereira deve saber!',\r\n\t\t\t\t\t\tquestion: {\r\n\t\t\t\t\t\t\tquestion: 'Estou procurando alguém. Você pode me ajudar?'\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tclose: false\r\n\t\t\t\t\t}\r\n\t\t\t\t]\r\n\t\t\t})\r\n\t}\r\n\r\n\t//shows only selected questions\r\n\tconst setCurrentCharacter = (character) => () => setState(\r\n\t\t{...state,\r\n\t\t\tcurrentChar: character,\r\n\t\t\tanswers: state.locations[state.currentRoom].characters\r\n\t\t\t\t\t\t\t\t\t\t.find(c => c.id === character.id).selectedQuestions\r\n\t\t\t\t\t\t\t\t\t\t.slice(0, state.questionsByStep)\r\n\t\t})\r\n\r\n\t\r\n\tconst closeDialog = () =>\r\n\t\tsetState({...state, currentChar: null, ...dialogInitialState})\r\n\tconst refreshDialog = () =>\r\n\t\tsetState({...state, ...dialogInitialState,\r\n\t\t\tanswers: state.locations[state.currentRoom].characters\r\n\t\t\t\t\t\t\t\t\t.find(c => c.id === state.currentChar.id).selectedQuestions\r\n\t\t\t\t\t\t\t\t\t.slice(0, state.questionsByStep)})\r\n\r\n\tconst afterWriter = () => {\r\n\r\n\t\tlet updateState = {\r\n\t\t\tshowAnswer: null,\r\n\t\t\tdialogHistory: [...state.dialogHistory, {text: state.showAnswer.text, speaker: 'character'}],\r\n\t\t}\r\n\t\tconsole.log('state.showAnswer', state.showAnswer)\r\n\r\n\t\tif(state.dialogStep !== state.totalDialogSteps){\r\n\t\t\tupdateState.answers = state.locations[state.currentRoom].characters\r\n\t\t\t\t\t\t\t\t\t\t.find(c => c.id === state.currentChar.id).selectedQuestions\r\n\t\t\t\t\t\t\t\t\t\t.slice(state.questionsByStep * state.dialogStep, state.questionsByStep * (state.dialogStep + 1))\r\n\t\t}else{\r\n\t\t\tif(state.showAnswer && state.showAnswer.stop)\r\n\t\t\t\tupdateState.showAnswer = null\r\n\t\t\telse{\r\n\t\t\t\tif(state.correct < state.correctMinimum){\r\n\t\t\t\t\tupdateState.answers = [{refresh: true, question:{question: 'Sim'}}, {close: true, question:{question: 'Não'}}]\r\n\t\t\t\t\tupdateState.showAnswer = {text: 'Não estou entendendo. Quer começar de novo?', index: 0, stop: true}\r\n\t\t\t\t}\r\n\t\t\t\telse{\r\n\t\t\t\t\tupdateState.answers = [{answer: state.currentChar.tip, question:{question: 'Estou procurando alguém. Você pode me ajudar?', tip:state.currentChar.rightAnswer }}]\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tsetState({...state, ...updateState})\r\n\t}\r\n\r\n\tconst onMenuButtonClick = (answer) => () =>{\r\n\r\n\t\tif(answer.refresh)\r\n\t\t\trefreshDialog()\r\n\t\telse if(answer.close){\r\n\t\t\tif(answer.tip)\r\n\t\t\t\tsetState({...state, tips: [...state, answer.tip]})\r\n\t\t\tcloseDialog()\r\n\t\t}else if (state.scene === \"TUTORIAL\"){\r\n\t\t\tstate.characterFeeling = 'wrongQuestion'\r\n\r\n\t\t\tlet updateState = {\r\n\t\t\t\tdialogHistory: [...state.dialogHistory,\r\n\t\t\t\t\tanswer.question.question,\r\n\t\t\t\t\tanswer.answer\r\n\t\t\t\t],\r\n\t\t\t\ttutorialStep: state.tutorialStep + 1,\r\n\t\t\t\ttips: [\r\n\t\t\t\t\t'A cabelereira sabe'\r\n\t\t\t\t],\r\n\t\t\t\tanswers: []\r\n\t\t\t}\r\n\r\n\t\t\tsetState({...state, ...updateState})\r\n\r\n\t\t}else{\r\n\r\n\t\t\tif (state.spokenCharacters.indexOf(state.currentChar.name))\r\n\t\t\t\tstate.spokenCharacters.push(state.currentChar.name)\r\n\r\n\t\t\t//change character face\r\n\t\t\tif(answer.question.correct){\r\n\t\t\t\tif(state.validQuestions.hasOwnProperty(answer.question.question)){\r\n\t\t\t\t\tstate.validQuestions[answer.question.question]++\r\n\t\t\t\t} else {\r\n\t\t\t\t\tstate.validQuestions[answer.question.question] = 0\r\n\t\t\t\t}\r\n\t\t\t\tstate.characterFeeling = 'rightQuestion'\r\n\t\t\t} else {\r\n\t\t\t\tstate.characterFeeling = 'wrongQuestion'\r\n\t\t\t}\r\n\r\n\t\t\tlet updateState = {\r\n\t\t\t\tdialogHistory: [...state.dialogHistory,\r\n\t\t\t\t\t{text: answer.question.question, speaker: 'player'}\r\n\t\t\t\t],\r\n\t\t\t\tdialogStep: state.dialogStep + 1,\r\n\t\t\t\tcorrect: state.correct + (answer.question.correct? 1 : 0),\r\n\t\t\t\tshowAnswer: {\r\n\t\t\t\t\ttext: answer.answer,\r\n\t\t\t\t\tindex: 0\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// e então atualiza\r\n\t\t\tsetState({...state, ...updateState})\r\n\t\t}\r\n\t}\r\n\r\n\tconst checkEnd = () => {\r\n\t\tif(state.tries < 3 && state.currentChar.name !== state.targetName){\r\n\t\t\tstate.tries++\r\n\t\t\tsetState({...state, acusation: false, characterFeeling: 'wrongAccusation'})\r\n\t\t} else {\r\n\t\t\tsetState({...state, acusation: false, scene: \"ENDGAME\", gameEndState: state.currentChar.name === state.targetName, characterFeeling: state.currentChar.name === state.targetName ?\r\n\t\t\t'init' : 'init',\r\n\t\t\tcurrentChar: null\r\n\t\t\t})\r\n\t\t\tdispatch(headerActions.setAll(mission.name, mission.nameTranslate))\r\n\t\t\tdispatch(headerActions.setState(headerConstants.STATES.OVERLAY))\r\n\t\t}\r\n\t}\r\n\t\r\n\tconst restart = (tips) => {\r\n\t\tsetState({...initialState, tryAgain: true, tips: tips})\r\n\t\tdispatch(headerActions.setState(headerConstants.STATES.HIDDEN))\r\n\t}\r\n\r\n\tconsole.log(mission)\r\n\tconsole.log('state', state)\r\n\tconsole.log('init', initialState)\r\n\r\n\treturn (\r\n\t\t<div id=\"game2-wrapper\">\r\n\t\t\t{loading ? <div>Loading...</div> : error ? <div>{error}</div> : mission &&\r\n\t\t\t<div id=\"game2-content\">\r\n\t\t\t\t<div id=\"input-tracker\">TrackInput: <input type=\"checkbox\" onChange={(e)=>{ setState({...state, tracking: e.target.checked}) }} /></div>\r\n\t\t\t\t{(function renderScene(){\r\n\t\t\t\t\t// eslint-disable-next-line default-case\r\n\t\t\t\t\tswitch(state.scene){\r\n\t\t\t\t\t\tcase \"INIT\":\r\n\t\t\t\t\t\t\treturn <Init\r\n\t\t\t\t\t\t\t\t\t\t\t\tname={mission.name} description={mission.description}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonStart={ onStartGame }\r\n\t\t\t\t\t\t\t\t\t\t\t\tonBack={ () => setState({...state, back: true}) }\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\tcase \"TUTORIAL\":\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\tTutorial\r\n\t\t\t\t\t\t\t\t\t<Character\r\n\t\t\t\t\t\t\t\t\t\tcharacter={mission.characters.find(character => character.name === 'Fuyuko')}\r\n\t\t\t\t\t\t\t\t\t\tonClick={setTutorialCharacter(mission.characters.find(character => character.name === 'Fuyuko'))}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\tcase \"ROOM\":\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<div id=\"room-itself\">\r\n\t\t\t\t\t\t\t\t\t<RoomSelect\r\n\t\t\t\t\t\t\t\t\t\tbuttonList={mission.locations.map((location, index) => index)}\r\n\t\t\t\t\t\t\t\t\t\tonChange={(num) => {\r\n\t\t\t\t\t\t\t\t\t\t\tsetState({...state, currentRoom: num})\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t\t\t\t<Sala roomData={state.locations[state.currentRoom]}>\r\n\t\t\t\t\t\t\t\t\t\t{state.locations[state.currentRoom].characters.map((character, index) =>\r\n\t\t\t\t\t\t\t\t\t\t\t<Character key={index}\r\n\t\t\t\t\t\t\t\t\t\t\t\tcharacter={character}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={setCurrentCharacter(character)}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t</Sala>\r\n\t\t\t\t\t\t\t\t</div>)\r\n\t\t\t\t\t\t\tcase \"ENDGAME\":\r\n\t\t\t\t\t\t\t\treturn(\r\n\t\t\t\t\t\t\t\t\t<div id=\"endGame-screen\">\r\n\t\t\t\t\t\t\t\t\t\t{state.gameEndState ?\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div id=\"endgame-messages\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t{state.tries === 0 ?\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"painel\" id=\"painel-1\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span lang=\"pt-br\">Muito bem! Você encontrou a pessoa na primeira tentativa. Vai arrasar na sua nova carreira!</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span lang=\"en\">Well done! You have found the right person on your first try. You're going to rock on your new career!</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<a href=\"#painel-2\" className=\"next-btn\">{'❯'}</a>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div> :\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"painel\" id=\"painel-1\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span lang=\"pt-br\">Você encontrou a pessoa certa! Parabéns!</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span lang=\"en\">You have found the right person! Congrats!</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<a href=\"#painel-2\" className=\"next-btn\">{'❯'}</a>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>}\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"painel\" id=\"painel-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"painel-2-wrapper\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"painel-2-content\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div><span>{state.tips.length}</span>/<span>{tipsCount}</span></div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div>clues</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"painel-2-wrapper\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"painel-2-content\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p>After talking to {state.spokenCharacters.length} people, you found {state.tips.length} of the {tipsCount} existing clues.</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p>Regarding the questions you asked, {Object.keys(state.validQuestions).length} of them were useful.</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<a href=\"#painel-1\" className=\"prev-btn\">{'❮'}</a>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div id=\"endGame-action-btns-right\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Button onClick={restart}>Tentar novamente</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Button onClick={() => setState({...state, back: true}) }>Sair do jogo</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</div> :\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div>Você ainda não encontrou a pessoa certa. Como você vai entender o que deve ser feito em seu novo trabalho? Você ainda precisa descobrir algumas dicas.</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div>You still haven't found the right person. How will you understand what has to be done in your new job? There are clues yet to be found.</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div><span>{state.tips.length}</span>/<span>{tipsCount}</span></div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div>clues</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div>After talking to {state.spokenCharacters.length} people, you found {state.tips.length} of the {tipsCount} existing clues.</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div>Regarding the questions you asked, {Object.keys(state.validQuestions).length} of them were useful. Try asking more relevant questions!</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div id=\"endGame-action-btns-wrong\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Button onClick={() => restart(['A cabelereira sabe']) }>Tentar novamente</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Button onClick={() => setState({...state, back: true}) }>Sair do jogo</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t}\r\n\t\t\t\t}())}\r\n\t\t\t\t{state.tutorialStep === 0 && state.scene === 'TUTORIAL' &&\r\n\t\t\t\t\t<div style={{position: 'absolute', top: 100, left: 100, width: 500, height: 300, backgroundColor: '#ddddee'}}>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\tSelecione alguém para conversar e te ajudar a encontrar o seu guia.\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div>-------</div>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\tSelect someone to talk and help you find your guide.\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t\t{ state.currentChar && \r\n\t\t\t\t\t<div id=\"conversa\" className='DialogPopUp'>\r\n\r\n\t\t\t\t\t\t<AcusationLamp onClick={() => setState({...state, acusation: true})} />\r\n\r\n\t\t\t\t\t\t<div id=\"fechar\" onClick={closeDialog}><span>×</span></div>\r\n\r\n\t\t\t\t\t\t{ state.scene === 'TUTORIAL' && state.tutorialStep === 2 &&\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\tSelecione alguém para conversar e te ajudar a encontrar o seu guia.\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div>-------</div>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\tSelect someone to talk and help you find your guide.\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<button className=\"btn btn-center\" id=\"btn-end-tutorial\" onClick={endTutorial}>Continuar</button>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t<div id=\"dialog-interact\">\r\n\t\t\t\t\t\t\t<div id=\"dialogos\">\r\n\t\t\t\t\t\t\t\t<DialogHistory dialogHistory={state.dialogHistory}/>\r\n\r\n\t\t\t\t\t\t\t\t<div id='DialogBox'>\r\n\t\t\t\t\t\t\t\t\t{state.showAnswer ?\r\n\t\t\t\t\t\t\t\t\t\t<Writer text={state.showAnswer.text}\r\n\t\t\t\t\t\t\t\t\t\t\tonWritten={afterWriter}\r\n\t\t\t\t\t\t\t\t\t\t\tafterWrittenTime={4000}\r\n\t\t\t\t\t\t\t\t\t\t\tcharacterTime={50}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\t\t\t<Menu buttonList={state.answers.reduce((acc, answer) => { return [...acc, {...answer, text: answer.question.question} ] }, [])}\r\n\t\t\t\t\t\t\t\t\t\t\tonButtonClick={onMenuButtonClick}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<DialogCharacter character={state.currentChar} feeling={state.characterFeeling}/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t\t{ state.acusation &&\r\n\t\t\t\t\t<div id=\"dialog-accusation-wrapper\">\r\n\t\t\t\t\t\t<div id=\"dialog-accusation\">\r\n\t\t\t\t\t\t\t<div id=\"accusation-infos\">\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<span lang=\"pt-br\">Tem certeza?</span>\r\n\t\t\t\t\t\t\t\t\t<span lang=\"en\">Are you sure it's them?<br />Check your tips.</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t{ /* Dessa linha até a \"uma das várias\" devem ser removidas quando o carregamento correto vier */ }\r\n\t\t\t\t\t\t\t\t\t<div>Dicas recebidas.</div>\r\n\t\t\t\t\t\t\t\t\t<div>Dicas recebidas mais longa.</div>\r\n\t\t\t\t\t\t\t\t\t<div>Dicas.</div>\r\n\t\t\t\t\t\t\t\t\t<div>Uma das várias dicas que foram recebidas mas essa é super mega blaster master longa.</div>\r\n\t\t\t\t\t\t\t\t\t<div>Recebidas.</div>\r\n\t\t\t\t\t\t\t\t\t{state.tips.map((tip, index)=>\r\n\t\t\t\t\t\t\t\t\t\t<div key={index}>{tip}</div>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div id=\"accusation-btns\">\r\n\t\t\t\t\t\t\t\t<Button onClick={() => setState({...state, acusation: false}) }>Não</Button>\r\n\t\t\t\t\t\t\t\t<Button onClick={checkEnd}>Sim</Button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t</div>\r\n\t\t\t}\r\n\t\t</div>\r\n  )\r\n}\r\n\r\nexport default Game2\r\n\r\n/*\r\n\r\n\tconst [missionOpen, setMissionOpen] = React.useState(true)\r\n\tconst _minTimeBonus = 2*60*1000; // Se terminar antes desse tempo (em ms), ganha o bônus máximo\r\n\tconst _maxTimeBonus = 5*60*1000; // Se terminar em até esse tempo (em ms), ganha um bônus no score proporcional. Terminar depois garante 0 de bônus\r\n\tconst _maxBonusPts = 100; // Máximo de 100 pontos se terminar antes do mínimo\r\n\r\n\tconst handleSubmit = (value) => () => {\r\n\t\t// Computa bônus por tempo\r\n\t\tlet diff = Date.now() - state.startedTimestamp;\r\n\t\t// Faz o bônus ser decrescente com o passar do tempo, escalados para que bonusAmnt\r\n\t\t// seja 1 em t = _minTimeBonus e 0 em t = _maxTimeBonus\r\n\t\tlet bonusAmnt = (_maxTimeBonus - diff)/(_maxTimeBonus - _minTimeBonus);\r\n\t\tbonusAmnt = Math.max(Math.min(bonusAmnt, 1.0), 0.0); // Clampa para que bonusAmnt = [0,1]\r\n\r\n\t\t// Sim, eu sei. Essa linha está 3x maior que o ideal por culpa da string. Mas ela é para ser temporária.\r\n\t\t// Se estivermos em produção e essa linha ainda estiver existente, algo deu muito errado.\r\n\t\tlet msgFinal = `Você encontrou ${state.targetName}!\\nVocê levou ${Math.trunc(diff / 60000)}:` + `${Math.trunc(diff/1000)%60}`.padStart(2, '0') + ` para encontrar. Isso te garante ${Math.round(_maxBonusPts*bonusAmnt)} pontos de bonus.`\r\n\t\tif( value == state.quizAnswer ) {\r\n\t\t\tlet newScore = state.score + Math.round(_maxBonusPts*bonusAmnt) + 15;\r\n\t\t\tsetState({...state, gameEndState: msgFinal + `\\nE se apresentou corretamente! +15 pontos\\nSeu score final é de ${newScore}`, score: newScore, elapsedTime: diff})\r\n\t\t} else {\r\n\t\t\tlet newScore = state.score + Math.round(_maxBonusPts*bonusAmnt);\r\n\t\t\tsetState({...state, gameEndState: msgFinal + `\\nSeu score final é de ${newScore}`, score: newScore})\r\n\t\t}\r\n\t}\r\n\r\n\t// Criei essa função mas agora não sei se ela será útil ou se deve ser aqui.\r\n\t// Precisamos determinar quando e onde haverá incremento ou decremento de pontuação.\r\n\t// Caso seja somente tempo levado para terminar o jogo, essa função é inútil.\r\n\t// Caso seja tudo somente ao término, essa função é inútil e as outras computações\r\n\t// podem ser feitas em handleSubmit, junto com a computação do bônus por tempo\r\n\tconst changeScore = (value) => () => {\r\n\t\tsetState({...state, score: state.score + value})\r\n\t}\r\n*/\r\n","import React from 'react'\r\nimport { Route, Redirect } from 'react-router-dom'\r\n\r\nfunction PrivateRoute ({component: Component, roles, render, ...rest}){\r\n    return (\r\n        <Route {...rest}\r\n          render={ props => localStorage.getItem('user') ?\r\n                    Component ? <Component {...props} />\r\n                  : render && render(props)\r\n                  : <Redirect to={{ pathname: '/login', state: {from:props.location} }} />\r\n          }\r\n        />\r\n    )\r\n}\r\n\r\nexport { PrivateRoute }\r\n","import './index.scss'\r\n\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Button from '@material-ui/core/Button';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nimport React, { useState } from 'react'\r\nimport { Link, Redirect } from 'react-router-dom'\r\nimport { useDispatch, useSelector} from 'react-redux'\r\nimport { useAlert } from 'react-alert'\r\n\r\nimport { login } from '../../_actions'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n      height: '100vh',\r\n    },\r\n    image: {\r\n      backgroundImage: 'url(https://source.unsplash.com/random)',\r\n      backgroundRepeat: 'no-repeat',\r\n      backgroundColor:\r\n        theme.palette.type === 'light' ? theme.palette.grey[50] : theme.palette.grey[900],\r\n      backgroundSize: 'cover',\r\n      backgroundPosition: 'center',\r\n    },\r\n    paper: {\r\n      margin: theme.spacing(8, 4),\r\n      display: 'flex',\r\n      flexDirection: 'column',\r\n      alignItems: 'center',\r\n    },\r\n    avatar: {\r\n      margin: theme.spacing(1),\r\n      backgroundColor: theme.palette.secondary.main,\r\n    },\r\n    form: {\r\n      width: '100%', // Fix IE 11 issue.\r\n      marginTop: theme.spacing(1),\r\n    },\r\n    submit: {\r\n      margin: theme.spacing(3, 0, 2),\r\n    }\r\n  }));\r\n\r\nconst Login = () => {\r\n    const [inputs, setInputs] = useState({\r\n        email: '',\r\n        password: ''\r\n    })\r\n    const [submitted, setSubmitted ] = useState(false)\r\n    const { email, password } = inputs\r\n    const loggingIn = useSelector(state => state.authentication.loggingIn)\r\n    const user = useSelector(state => state.authentication.user)\r\n    const dispatch = useDispatch()\r\n    const classes = useStyles()\r\n    const alert = useAlert()\r\n\r\n    function handleChange(e) { \r\n        const {name, value} = e.target\r\n        setInputs(inputs => ({...inputs, [name]: value}))\r\n    }\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault()\r\n\r\n        setSubmitted(true)\r\n\r\n        if(email && password){\r\n            dispatch(login(email, password))\r\n              .catch(() => {\r\n                alert.error('Email and/or password invalid! Please, check your inputs and try again!')\r\n              })\r\n\r\n        } else {\r\n          alert.error('Email and/or password missing! Please, check your inputs and try again!')\r\n        }\r\n    }\r\n    \r\n    return (\r\n        <Grid container component=\"main\" className={classes.root}>\r\n          {user ? user.user ? <Redirect to='/userspace' /> : null : null}\r\n          <CssBaseline />\r\n          <Grid item xs={false} sm={4} md={7} className={classes.image} />\r\n          <Grid item xs={12} sm={8} md={5} component={Paper} elevation={6} square>\r\n            <div className={classes.paper}>\r\n              <Avatar className={classes.avatar}>\r\n                <LockOutlinedIcon />\r\n              </Avatar>\r\n              <Typography component=\"h1\" variant=\"h5\">\r\n                Sign in\r\n              </Typography>\r\n              <form onSubmit={handleSubmit} className={classes.form} noValidate>\r\n                <TextField\r\n                  variant=\"outlined\"\r\n                  margin=\"normal\"\r\n                  required\r\n                  fullWidth\r\n                  id=\"email\"\r\n                  label=\"E-mail\"\r\n                  name=\"email\"\r\n                  autoComplete=\"email\"\r\n                  autoFocus\r\n                  className={'form-control' + (submitted && !email ? ' is-invalid' : '')}\r\n                  onChange={handleChange}\r\n                />\r\n                <TextField\r\n                  variant=\"outlined\"\r\n                  margin=\"normal\"\r\n                  required\r\n                  fullWidth\r\n                  name=\"password\"\r\n                  label=\"Senha\"\r\n                  type=\"password\"\r\n                  id=\"password\"\r\n                  autoComplete=\"current-password\"\r\n                  className={'form-control' + (submitted && !password ? ' is-invalid' : '')}\r\n                  onChange={handleChange}\r\n                />\r\n                <Button\r\n                  type=\"submit\"\r\n                  fullWidth\r\n                  variant=\"contained\"\r\n                  color=\"primary\"\r\n                  className={classes.submit}\r\n                >\r\n                {loggingIn && <span className=\"spinner-border spinner-border-sm mr-1\"></span>}\r\n                  Sign in\r\n                </Button>\r\n                <Grid container justify=\"flex-end\">\r\n                  <Grid item>\r\n                    <Link to=\"/register\" variant=\"body2\">\r\n                    Don't have an account yet? Sign up!\r\n                    </Link>\r\n                  </Grid>\r\n                </Grid>\r\n              </form>\r\n            </div>\r\n          </Grid>\r\n        </Grid>\r\n      );\r\n\r\n\r\n}\r\n\r\nexport default Login \r\n","import './index.scss'\r\nimport React from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { Link } from 'react-router-dom'\r\nimport { apiActions } from '../../_actions'\r\n\r\nconst UserSpace = () => {\r\n\r\n\r\n  const user = useSelector(state => state.authentication.user.user)\r\n  const missions = useSelector( state => state.missions)\r\n  const dispatch = useDispatch()\r\n  const { missionsActions } = apiActions\r\n\r\n\r\n  React.useEffect(()=>{\r\n    dispatch(missionsActions.getAll())\r\n  }, [dispatch, missionsActions])\r\n\r\n\r\n  return(\r\n    <div id=\"userspace\">\r\n      <p>Oi {user.username}!</p>\r\n\r\n      <div id=\"area-criacao\">\r\n        Área de criação\r\n        <div>\r\n          <Link to='/missions'>Ver Missões</Link>\r\n        </div>\r\n\r\n        <div>\r\n          <Link to='/characters'>Personagens</Link>\r\n        </div>\r\n\r\n        <div>\r\n          <Link to='/questions'>Perguntas</Link>\r\n        </div>\r\n        <div>\r\n          <Link to='/questionnaires'>Questionnaires</Link>\r\n        </div>\r\n        <div>\r\n          <Link to='/playSessions'>Ver PlaySessions</Link>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"jogos\">\r\n        <p>Jogar jogo 1</p>\r\n        <p>Missões:</p>\r\n        <Link to={'/game1/0'}>Stub</Link>\r\n        <div id=\"missoes\">\r\n          {missions.loading ? <div id=\"loading\">Loading...</div> :\r\n            missions && missions.items.map( (mission, index) =>\r\n            <div key={index} className=\"missao\">\r\n              <Link to={`/game1/${mission.id}`}>\r\n                <div id=\"imagem\"></div>\r\n                <div id=\"card-text-wrapper\">\r\n                  <div id=\"nome-missao\">{mission.name}</div>\r\n                  <div id=\"descricao\">Descrição</div>\r\n                  <div id=\"recompensas\">Recompensas</div>\r\n                </div>\r\n              </Link>\r\n            </div>)\r\n          }\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"jogos\">\r\n        <p>Jogar jogo 2</p>\r\n        <p>Missões:</p>\r\n        <Link to={'/game2/0'}>Stub</Link>\r\n        <div id=\"missoes\">\r\n          {missions.loading ? <div>Loading...</div> :\r\n            missions && missions.items.map( (mission, index) =>\r\n            <div key={index} className=\"missao\">\r\n              <Link to={`/game2/${mission.id}`}>\r\n                <div id=\"imagem\"></div>\r\n                <div id=\"card-text-wrapper\">\r\n                  <div id=\"nome-missao\">{mission.name}</div>\r\n                  <div id=\"descricao\">Descrição</div>\r\n                  <div id=\"recompensas\">Recompensas</div>\r\n                </div>\r\n              </Link>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default UserSpace\r\n","import React, { useState } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { register } from '../../_actions'\r\nimport Avatar from '@material-ui/core/Avatar'\r\nimport Button from '@material-ui/core/Button'\r\nimport CssBaseline from '@material-ui/core/CssBaseline'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport Container from '@material-ui/core/Container'\r\nimport { useAlert } from 'react-alert'\r\nimport { Link } from 'react-router-dom'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  form: {\r\n    width: '100%', // Fix IE 11 issue.\r\n    marginTop: theme.spacing(3),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n}))\r\n\r\n\r\nconst Register = () => {\r\n  const classes = useStyles()\r\n  const alert = useAlert()\r\n\r\n  const [inputs, setInputs] = useState({\r\n      email: '',\r\n      password: '',\r\n      username: '',\r\n      firstName: '',\r\n      lastName: ''\r\n  })\r\n  const [submitted, setSubmitted ] = useState(false)\r\n  const registering = useSelector(state => state.authentication.registering)\r\n  const dispatch = useDispatch()\r\n\r\n  function handleChange(e) {\r\n      const {name, value} = e.target\r\n      setInputs(inputs => ({...inputs, [name]: value}))\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n      e.preventDefault()\r\n      setSubmitted(true)\r\n      if(inputs.email && inputs.password && inputs.username){\r\n          dispatch(register(inputs))\r\n            .then(() => {\r\n              alert.success('User registred!')\r\n              setTimeout(()=>{\r\n                window.location.href = \"/userspace\"\r\n              }, 3000)\r\n            })\r\n            .catch(error => {\r\n              alert.error(error)\r\n            })\r\n      } else {\r\n        alert.error('Required fields missing! Please, check your inputs and try again!')\r\n      }\r\n  }\r\n\r\n  return (\r\n    <Container component=\"main\" maxWidth=\"xs\">\r\n      <CssBaseline />\r\n      <div className={classes.paper}>\r\n        <Avatar className={classes.avatar}>\r\n          <LockOutlinedIcon />\r\n        </Avatar>\r\n        <Typography component=\"h1\" variant=\"h5\">\r\n          Register\r\n        </Typography>\r\n        <form onSubmit={handleSubmit} className={classes.form} noValidate>                \r\n          <Grid container spacing={2}>\r\n            <Grid item xs={12} sm={6}>\r\n              <TextField\r\n                autoComplete=\"fname\"\r\n                name=\"firstName\"\r\n                variant=\"outlined\"\r\n                fullWidth\r\n                id=\"firstName\"\r\n                label=\"First Name\"\r\n                autoFocus                \r\n                onChange={handleChange}\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12} sm={6}>\r\n              <TextField\r\n                variant=\"outlined\"\r\n                fullWidth\r\n                id=\"lastName\"\r\n                label=\"Last Name\"\r\n                name=\"lastName\"\r\n                autoComplete=\"lname\"\r\n                onChange={handleChange}\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <TextField\r\n                variant=\"outlined\"\r\n                required\r\n                fullWidth\r\n                id=\"username\"\r\n                label=\"Username\"\r\n                name=\"username\"\r\n                autoComplete=\"username\"\r\n                className={submitted && !inputs.username ? 'danger' : ''}\r\n                onChange={handleChange}\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <TextField\r\n                variant=\"outlined\"\r\n                required\r\n                fullWidth\r\n                id=\"email\"\r\n                label=\"Email Address\"\r\n                name=\"email\"\r\n                autoComplete=\"email\"\r\n                className={submitted && !inputs.email ? 'danger' : ''}\r\n                onChange={handleChange}\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <TextField\r\n                variant=\"outlined\"\r\n                required\r\n                fullWidth\r\n                name=\"password\"\r\n                label=\"Password\"\r\n                type=\"password\"\r\n                id=\"password\"\r\n                autoComplete=\"current-password\"\r\n                className={submitted && !inputs.password ? 'danger' : ''}\r\n                onChange={handleChange}\r\n              />\r\n            </Grid>\r\n          </Grid>\r\n          \r\n          <Button\r\n            type=\"submit\"\r\n            fullWidth\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            className={classes.submit}\r\n          >\r\n          {registering && <span className=\"spinner-border spinner-border-sm mr-1\"></span>}\r\n           Sign Up\r\n          </Button>\r\n          <Grid container justify=\"flex-end\">\r\n            <Grid item>\r\n              <Link to=\"/login\" variant=\"body2\">\r\n              Already have an account? Sign in!\r\n              </Link>\r\n            </Grid>\r\n          </Grid>\r\n        </form>\r\n      </div>\r\n    </Container>\r\n  )\r\n}\r\n\r\nexport default Register\r\n","import React from 'react'\r\n\r\nconst UserInfo = ({user}) => {\r\n  return(\r\n    <div>\r\n      Username: {user.username}\r\n      Email: {user.email}\r\n      Provider: {user.provider}\r\n      Confirmed: <input type='checkbox' checked={user.confirmed} />\r\n      Blocked: <input type='checkbox' checked={user.blocked} />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default UserInfo\r\n","import React from 'react'\r\n\r\nimport { useDispatch, useSelector} from 'react-redux'\r\nimport { userActions } from '../../_actions'\r\nimport Register from '../Register'\r\nimport UserInfo from '../../_components/UserInfo'\r\n\r\nconst UsersCRUD = () => {\r\n  const dispatch = useDispatch()\r\n  const users = useSelector( state => state.users )\r\n\r\n  React.useEffect(()=>{\r\n    dispatch(userActions.getAll())\r\n  }, [dispatch])\r\n\r\n  console.log('users:', users)\r\n\r\n  return (\r\n    <div>\r\n      <div>\r\n        Create User:\r\n        <Register />\r\n      </div>\r\n      <div>\r\n        All Users:\r\n        {users && users.items ? users.items.map( (user, index) =>\r\n          <div key={index}>\r\n            <UserInfo user={user} />\r\n            <button onClick={()=>{}}>\r\n              UPDATE USER\r\n            </button>\r\n            <button onClick={()=>dispatch(userActions.delete(user.id))}>\r\n              DELETE USER\r\n            </button>\r\n          </div>\r\n        ): null}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default UsersCRUD\r\n","import React from 'react'\r\n\r\nconst Mission = ({mission}) => {\r\n\r\n  return(\r\n    <div>\r\n      <div>Nome: {mission.name}</div>\r\n      <div>\r\n        <div>Descrição:</div>\r\n        <div>{mission.description}</div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Mission\r\n","import React from 'react'\r\n\r\nconst Character = ({character}) => {\r\n  const getAnswer = (qId) => {\r\n    let a = character.answers.find( answer => answer.question && answer.question.id === qId)\r\n    return a ? a.answer : ''\r\n  }\r\n\r\n  return(\r\n    <div style={{borderStyle: 'groove', borderRadius: 5}}>\r\n      <div style={{borderStyle: 'groove', borderRadius: 5}}>\r\n        <div>Name: {character.name}</div>\r\n        <div>\r\n          {character.characterAssets && character.characterAssets.length > 0 ?\r\n            character.characterAssets.map((characterAsset, index) =>\r\n              <div key={index}>\r\n                <img src={`${character.characterAssets[index].image[0].url}`} alt={characterAsset.name}/>\r\n              </div>\r\n            ):'nenhum'\r\n          }\r\n          {character.characterAssets && <div>Layers: {character.characterAssets.length}</div>}\r\n        </div>\r\n        <div>Job: {character.job}</div>\r\n        <div>Civil state: {character.civilState}</div>\r\n      </div>\r\n      <div>\r\n        <div> Missões que participa: </div>\r\n        {character.missions && character.missions.map((mission, index)=>\r\n          <div key={index}>\r\n            <div>{index+1}: {mission.name}</div>\r\n            {mission.questions.map((question, qIndex) =>\r\n              <div key={qIndex}>\r\n                <div>Pergunta: {question.question}</div>\r\n                <div>Resposta: {getAnswer(question.id)}</div>\r\n              </div>\r\n            )}\r\n          </div>\r\n        )}\r\n        <div>Errou alguma: {character.wrongAnswer}</div>\r\n        <div>Acertou o suficiente: {character.rightAnswer}</div>\r\n        <div>Dica: {character.tip}</div>\r\n        <div>Resposta à acusação: {character.acusationAnswer}</div>\r\n        <div>Despedida: {character.endDialog}</div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Character\r\n","import React from 'react'\r\n\r\nconst Question = ({question}) => {\r\n  console.log(question)\r\n  return(\r\n    <div style={{display: 'flex', flexDirection: 'row'}}>\r\n      <span>{question.question}</span> <span>{question.correct.toString()}</span>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Question\r\n","import React from 'react'\r\n\r\nimport { useSelector } from 'react-redux'\r\n\r\nimport Button from '@material-ui/core/Button'\r\nimport AddIcon from '@material-ui/icons/Add'\r\nimport RemoveIcon from '@material-ui/icons/Remove'\r\nimport DoneIcon from '@material-ui/icons/Done'\r\n\r\nimport Character from '../Character'\r\nimport Question from '../Question'\r\n\r\nconst EditMission = ({mission, onDone}) => {\r\n  const [state, setState] = React.useState(mission)\r\n\r\n  console.log(mission)\r\n\r\n  const [charList, setCharList] = React.useState(mission.characters)\r\n  const [locationList, setLocationList] = React.useState(mission.locations)\r\n  const [questionList, setQuestionList] = React.useState(mission.questions)\r\n  const characters = useSelector(state => state.characters)\r\n  const locations = useSelector(state => state.locations)\r\n  const questions = useSelector(state => state.questions)\r\n\r\n  const addToMission = (character) => () => {\r\n    setCharList([...charList, character])\r\n  }\r\n\r\n  const removeFromMission = (character) => () => {\r\n    setCharList(charList.filter( c => c.id !== character.id) )\r\n  }\r\n\r\n  const addLocationToMission = (location) => () => {\r\n    setLocationList([...locationList, location])\r\n  }\r\n\r\n  const removeLocationFromMission = (location) => () => {\r\n    setLocationList(locationList.filter( l => l.id !== location.id) )\r\n  }\r\n\r\n  const addQuestionToMission = (question) => () => {\r\n    setQuestionList([...questionList, question])\r\n  }\r\n\r\n  const removeQuestionFromMission = (question) => () => {\r\n    setQuestionList(questionList.filter(c => c.id !== question.id))\r\n  }\r\n\r\n  const onClick = () => {\r\n    let newState = {\r\n      id: state.id,\r\n      name: state.name,\r\n      description: state.description\r\n    }\r\n    newState.characters = charList.reduce((acc, character) => [...acc, character.id], [] )\r\n    newState.locations = locationList.reduce((acc, location) => [...acc, location.id], [] )\r\n    newState.questions = questionList.reduce((acc, question) => [...acc, question.id], [] )\r\n    onDone(newState)\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <div>\r\n        Nome: <input value={state.name} onChange={ e => setState({...state, name: e.target.value})} />\r\n      </div>\r\n      <div>\r\n        Descrição: <input value={state.description} onChange={ e => setState({...state, description: e.target.value})} />\r\n      </div>\r\n\r\n      <div>\r\n        <div>Personagens na missão:</div>\r\n        {charList.map((character, index) =>\r\n          <div key={index} style={{display: 'flex', flexDirection: 'row'}}>\r\n            <Button onClick={removeFromMission(character)}><RemoveIcon /></Button>\r\n            <Character character={character}/>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      <div>\r\n        <div>Personagens disponíveis</div>\r\n        {characters.items && characters.items.length > 0 && characters.items\r\n          .filter( character => !charList.find( c => c.id === character.id ) )\r\n          .map( (character, index) =>\r\n          <div key={index} style={{display: 'flex', flexDirection: 'row'}}>\r\n            <Button onClick={addToMission(character)}>\r\n              <AddIcon />\r\n            </Button>\r\n            <Character character={character}/>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      <div>\r\n        <div>Locais na missão:</div>\r\n        {locationList.map((location, index) =>\r\n          <div key={index} style={{display: 'flex', flexDirection: 'row'}}>\r\n            <Button onClick={removeLocationFromMission(location)}><RemoveIcon /></Button>\r\n            <div>{location.name}</div>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      <div>\r\n        <div>Locais disponíveis</div>\r\n        {locations.items && locations.items.length > 0 && locations.items\r\n          .filter( location => !locationList.find( l => l.id === location.id ) )\r\n          .map( (location, index) =>\r\n          <div key={index} style={{display: 'flex', flexDirection: 'row'}}>\r\n            <Button onClick={addLocationToMission(location)}>\r\n              <AddIcon />\r\n            </Button>\r\n            <div>{location.name}</div>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      <div>\r\n        <div>Questions:</div>\r\n        {questionList.map( ( question, index) =>\r\n          <div key={index} style={{display: 'flex', flexDirection: 'row'}}>\r\n            <Button onClick={removeQuestionFromMission(question)}><RemoveIcon /></Button>\r\n            <Question question={question}/>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      <div>\r\n        <div>Preset questions</div>\r\n        {questions.items && questions.items.length > 0 && questions.items\r\n          .filter( question => !questionList.find( c => c.id === question.id) )\r\n          .map( (question, index) =>\r\n          <div key={index} style={{display: 'flex', flexDirection: 'row'}}>\r\n            <Button onClick={addQuestionToMission(question)}>\r\n              <AddIcon />\r\n            </Button>\r\n            <Question question={question}/>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      <Button onClick={onClick}><DoneIcon/></Button>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default EditMission\r\n","import React from 'react'\r\nimport { Link, Redirect } from 'react-router-dom'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\n\r\nimport { apiActions } from '../../_actions'\r\n\r\nimport Button from '@material-ui/core/Button'\r\nimport DeleteIcon from '@material-ui/icons/Delete'\r\nimport EditIcon from '@material-ui/icons/Edit'\r\nimport CancelIcon from '@material-ui/icons/Cancel'\r\n\r\nimport Mission from '../Mission'\r\nimport EditMission from '../EditMission'\r\n\r\nconst Missions = () => {\r\n  const { missionsActions } = apiActions\r\n  const dispatch = useDispatch()\r\n  const missions = useSelector( state => state.missions)\r\n  const [ createMission, setCreateMission ] = React.useState(false)\r\n  const [ edit, setEdit ] = React.useState(-1)\r\n\r\n  React.useEffect(()=> {\r\n    setEdit(-1)\r\n    setCreateMission(false)\r\n  }, [missions])\r\n\r\n  React.useEffect(() => {\r\n    dispatch(missionsActions.getAll())\r\n  }, [dispatch, missionsActions])\r\n\r\n  return(\r\n    <div>\r\n      <div>Missões</div>\r\n      {missions.items && missions.items.length > 0 && missions.items.map((mission, index) =>\r\n        <div key={index} style={{display: 'flex', flexDirection: 'row'}}>\r\n          {edit !== index ?\r\n            <Mission key={index} mission={mission} />\r\n            : <EditMission mission={mission} onDone={(newState) => {\r\n                setEdit(-1)\r\n                dispatch(missionsActions.update(newState))\r\n              }} /> }\r\n\r\n          {edit !== index ?\r\n            <Button><Link to={`missions/edit/${mission.id}`}><EditIcon/></Link></Button>\r\n            : <Button onClick={() => setEdit(-1) }><CancelIcon/></Button>\r\n           }\r\n\r\n          <Button onClick={() => dispatch(missionsActions.delete(mission.id))}><DeleteIcon/></Button>\r\n        </div>\r\n      )}\r\n      <Button onClick={() => setCreateMission(!createMission)}>\r\n        {createMission? 'Cancelar' : 'Criar Missão'}\r\n      </Button>\r\n      {createMission &&  <Redirect to='missions/create'/>}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Missions\r\n","import React from 'react'\r\nimport Radio from '@material-ui/core/Radio'\r\nimport { useDispatch } from 'react-redux'\r\nimport { apiActions } from '../../_actions'\r\nimport { useAlert } from 'react-alert'\r\n\r\nconst CreateCharacter = () => {\r\n  const { charactersActions } = apiActions\r\n  const [name, setName] = React.useState('')\r\n  const [job, setJob] = React.useState('')\r\n  const [civilState, setCivilState] = React.useState('single')\r\n  const civilStates = ['single', 'married', 'divorced', 'widowed']\r\n  const estadosCivis = ['solteir@', 'casad@', 'divorciad@', 'viúv@']\r\n  const dispatch = useDispatch()\r\n  const alert = useAlert()\r\n\r\n  const create = () => {\r\n    console.log('called')\r\n    dispatch(charactersActions.create({name: name, job: job, civilState: civilState})).then(() => {\r\n        alert.success('Character created!')\r\n    })\r\n    .catch(error => {\r\n        alert.error(error)\r\n    })\r\n    setName('')\r\n    setJob('')\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <div>Criador de personagens:</div>\r\n      <div>Nome: <input type='text' value={name} onChange={ e => setName(e.target.value)} /> </div>\r\n      <div>Trabalho: <input type='text' value={job} onChange={ e => setJob(e.target.value)} /> </div>\r\n      <div>Estado civil:\r\n        {civilStates.map((cs, index) =>\r\n          <div key={index}>\r\n            <Radio checked={civilState === civilStates[index]} value={civilStates[index]} onChange={ e => setCivilState(e.target.value)}/>\r\n            {estadosCivis[index]}\r\n          </div>\r\n        )}\r\n      </div>\r\n      <button onClick={create}>Criar</button>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default CreateCharacter\r\n","import React from 'react'\r\nimport { useDispatch } from 'react-redux'\r\nimport { apiActions } from '../../_actions'\r\n\r\nimport Button from '@material-ui/core/Button'\r\n\r\nconst CreateLocation = () => {\r\n  const [state, setState] = React.useState({name: ''})\r\n  const dispatch = useDispatch()\r\n  const { locationsActions } = apiActions\r\n\r\n  const create = () => {\r\n    dispatch(locationsActions.create(state))\r\n    setState({name: ''})\r\n  }\r\n  return (\r\n    <div>\r\n      Nome: <input value={state.name} onChange={ e => setState({...state, name:e.target.value})} placeholder='Sala de estar' />\r\n      <Button onClick={create}>Salvar</Button>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default CreateLocation\r\n","import { React, useState } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { apiActions } from '../../_actions'\r\nimport Button from '@material-ui/core/Button'\r\nimport CssBaseline from '@material-ui/core/CssBaseline'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport Container from '@material-ui/core/Container'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { FormControlLabel, FormLabel, Radio, RadioGroup } from '@material-ui/core'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  form: {\r\n    width: '100%', // Fix IE 11 issue.\r\n    marginTop: theme.spacing(3),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n}))\r\n\r\nconst CreateQuestion = () => {\r\n    const { questionsActions }= apiActions\r\n    const dispatch = useDispatch()\r\n    const [inputs, setInputs] = useState({\r\n        question: '',\r\n        group: 0,\r\n        correct: true\r\n    })\r\n    const submitted = false\r\n    const classes = useStyles()\r\n    const creating = useSelector(state => state.authentication.registering)\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault()\r\n        console.log('inputs', inputs)\r\n        dispatch(questionsActions.create(inputs))\r\n    }\r\n\r\n    return (\r\n        <Container component=\"main\" maxWidth=\"sm\">\r\n            <CssBaseline />\r\n            <div className={classes.paper}>\r\n                <Typography component=\"h1\" variant=\"h5\">\r\n                Create Question\r\n                </Typography>\r\n                <form id=\"create-question-form\" onSubmit={handleSubmit} className={classes.form} noValidate>\r\n                    <Grid container spacing={2}>\r\n                        <Grid item xs={12}>\r\n                            <TextField\r\n                            type=\"textArea\"\r\n                            name=\"question\"\r\n                            variant=\"outlined\"\r\n                            id=\"question\"\r\n                            label=\"Question\"\r\n                            fullWidth\r\n                            required\r\n                            className={submitted && (inputs.question === \"\") ? 'danger' : ''}\r\n                            onChange={e => {setInputs(inputs => ({...inputs, question: e.target.value}))}}\r\n                            />\r\n                        </Grid>\r\n                        <Grid item xs={12} sm={6}>\r\n                            <TextField\r\n                            type=\"number\"\r\n                            variant=\"outlined\"\r\n                            fullWidth\r\n                            id=\"group\"\r\n                            label=\"Group\"\r\n                            name=\"group\"\r\n                            required\r\n                            aria-describedby=\"my-helper-text\"\r\n                            className={submitted && !inputs.group ? 'danger' : ''}\r\n                            onChange={e => {setInputs(inputs => ({...inputs,  group: parseInt(e.target.value)}))}}\r\n                            />\r\n                            <span id=\"my-helper-text\">Group is a integer that defines the which questions to show in every step. For example, if a question is group 1, it will be displayed on the first user interaction with a character.</span>\r\n                        </Grid>\r\n                        <Grid item xs={12} sm={6} justify=\"center\">\r\n                            <FormLabel component=\"legend\">Is question correct?</FormLabel>\r\n\r\n                            <RadioGroup\r\n                            aria-label=\"correct\"\r\n                            id=\"correct\"\r\n                            name=\"correct\"\r\n                            value={inputs.correct.toString()}\r\n                            required\r\n                            onChange={e => {setInputs(inputs => ({...inputs, correct: e.target.value === \"true\" ? true : false}))}}\r\n                            >\r\n                                <FormControlLabel value=\"true\" control={<Radio />} label=\"Correct\"/>\r\n                                <FormControlLabel value=\"false\" control={<Radio />} label=\"Incorrect\"/>\r\n                            </RadioGroup>\r\n                        </Grid>\r\n                    </Grid>\r\n\r\n                    <Button\r\n                    type=\"submit\"\r\n                    fullWidth\r\n                    variant=\"contained\"\r\n                    color=\"primary\"\r\n                    className={classes.submit}\r\n                    >\r\n                    {creating && <span className=\"spinner-border spinner-border-sm mr-1\"></span>}\r\n                    Create\r\n                    </Button>\r\n                </form>\r\n            </div>\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default CreateQuestion\r\n","import React from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\n\r\nimport AddIcon from '@material-ui/icons/Add'\r\nimport RemoveIcon from '@material-ui/icons/Remove'\r\nimport Button from '@material-ui/core/Button'\r\n\r\nimport Character from '../Character'\r\nimport CreateCharacter from '../CreateCharacter'\r\nimport CreateLocation from '../CreateLocation'\r\nimport Question from '../Question'\r\nimport CreateQuestion from '../CreateQuestion'\r\n\r\nimport { apiActions } from '../../_actions'\r\n\r\nconst CreateMissionGame1 = (props) => {\r\n  const dispatch = useDispatch()\r\n\r\n  //for edit\r\n  const id = props && props.match ? props.match.params.id : null\r\n  const originalMission = useSelector( state => id && state.missions.items.length > 0 ? state.missions.items.filter(m => m.id === id)[0] : null )\r\n\r\n  const characters = useSelector( state => state.characters)\r\n  const locations = useSelector( state => state.locations)\r\n  const questions = useSelector( state => state.questions)\r\n\r\n  const [state, setState] = React.useState({\r\n    mission: {\r\n      name: '',\r\n      description: '',\r\n      characters: [],\r\n      locations: [],\r\n      questions:[]\r\n    },\r\n    characterDetails: null\r\n  })\r\n\r\n  //for edit\r\n  if(originalMission && !state.mission.id)\r\n    setState({...state, mission: {...originalMission}})\r\n\r\n  //refrashed route\r\n  React.useEffect(() => {\r\n    if(id && !originalMission)\r\n      dispatch(apiActions.missionsActions.getById(id))\r\n    if(characters.items.length === 0)\r\n      dispatch(apiActions.charactersActions.getAll())\r\n    if(locations.items.length === 0)\r\n      dispatch(apiActions.locationsActions.getAll())\r\n    if(questions.items.length === 0)\r\n      dispatch(apiActions.questionsActions.getAll())\r\n  }, [dispatch, id, originalMission, questions.items.length, locations.items.length, characters.items.length])\r\n\r\n  const [createCharacter, setCreateCharacter] = React.useState(false)\r\n  const [createLocation, setCreateLocation] = React.useState(false)\r\n  const [createQuestion, setCreateQuestion] = React.useState(false)\r\n\r\n  const createMission = () => {\r\n    let data = {...state.mission}\r\n    dispatch(apiActions.missionsActions.create(data))\r\n  }\r\n\r\n  const editMission = () => {\r\n    let data = {...state.mission}\r\n    dispatch(apiActions.missionsActions.update(data))\r\n  }\r\n\r\n  const addToMission = (type, data) => () => {\r\n    setState({...state, mission: {...state.mission, [type]:[...state.mission[type], data]}})\r\n  }\r\n\r\n  const removeFromMission = (type, data) => () => {\r\n    setState({...state, mission: {...state.mission, [type]: state.mission[type].filter(d => d.id !== data.id)}})\r\n  }\r\n\r\n  const viewDetails = (character) => () => {\r\n    setState({...state, characterDetails: character})\r\n  }\r\n\r\n  return(\r\n    <div>\r\n      <div style={{\r\n          display: 'flex', flexGrow: 1,\r\n          flexShrink: 1,\r\n          flexBasis: 0,\r\n          flexDirection: 'row'}}>\r\n        <div>\r\n          <div>\r\n            <div>Nome:</div>\r\n            <div>\r\n              <input type='text' value={state.mission.name} onChange={e => setState({...state, mission: {...state.mission, name: e.target.value}})} placeholder='Missão maneira'/>\r\n            </div>\r\n          </div>\r\n\r\n          <div>Texto da missão:</div>\r\n          <textarea value={state.mission.description} onChange={e => setState({...state, mission: {...state.mission, description: e.target.value}})} />\r\n          <div>\r\n            {id ?\r\n              <Button onClick={editMission}>{'Salvar Missão'}</Button>\r\n              :<Button onClick={createMission}>{'Criar Missão'}</Button>\r\n            }\r\n          </div>\r\n\r\n          <div>\r\n            <div>Personagens na missão:</div>\r\n            {state.mission.characters.map( ( character, index) =>\r\n              <div key={index} style={{display: 'flex', flexDirection: 'row'}}>\r\n                <Button onClick={removeFromMission('characters', character)}><RemoveIcon /></Button>\r\n                <Button onClick={viewDetails(character)}>\r\n                  {character.name}\r\n                </Button>\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          <div>\r\n            <div>Locais na missão:</div>\r\n            {state.mission.locations.map((location, index) =>\r\n              <div key={index} style={{display: 'flex', flexDirection: 'row'}}>\r\n                <Button onClick={removeFromMission('locations', location)}><RemoveIcon /></Button>\r\n                <div>{location.name}</div>\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          <div>\r\n            <div>Questions:</div>\r\n            {state.mission.questions.map((question, index) =>\r\n              <div key={index} style={{display: 'flex', flexDirection: 'row'}}>\r\n                <Button onClick={removeFromMission('questions', question)}><RemoveIcon /></Button>\r\n                <Question question={question}/>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n        <div>\r\n          <div>\r\n            <div>Personagens disponíveis</div>\r\n            {characters.items && characters.items.length > 0 && characters.items\r\n              .filter( character => !state.mission.characters.find( c => c.id === character.id) )\r\n              .map( (character, index) =>\r\n              <div key={index} style={{display: 'flex', flexDirection: 'row'}}>\r\n                <Button onClick={addToMission('characters', character)}>\r\n                  <AddIcon />\r\n                </Button>\r\n                <Button onClick={viewDetails(character)}>\r\n                  {character.name}\r\n                </Button>\r\n              </div>\r\n            )}\r\n            <Button onClick={() => setCreateCharacter(!createCharacter)}>\r\n              {createCharacter ? \"Cancelar\" : \"Criar personagem\"}\r\n            </Button>\r\n            {createCharacter && <CreateCharacter /> }\r\n          </div>\r\n\r\n          <div>\r\n            <div>Locais disponíveis</div>\r\n            {locations.items && locations.items.length > 0 && locations.items\r\n              .filter( location => !state.mission.locations.find( l => l.id === location.id) )\r\n              .map( (location, index) =>\r\n              <div key={index} style={{display: 'flex', flexDirection: 'row'}}>\r\n                <Button onClick={addToMission('locations', location)}>\r\n                  <AddIcon />\r\n                </Button>\r\n                <div>{location.name}</div>\r\n              </div>\r\n            )}\r\n            <Button onClick={() => setCreateLocation(!createLocation)}>\r\n            {createLocation ? \"Cancelar\" : \"Criar local\"}\r\n            </Button>\r\n            {createLocation && <CreateLocation />}\r\n          </div>\r\n\r\n          <div>\r\n            <div>Preset questions</div>\r\n            {questions.items && questions.items.length > 0 && questions.items\r\n              .filter( question => !state.mission.questions.find( c => c.id === question.id) )\r\n              .map( (question, index) =>\r\n              <div key={index} style={{display: 'flex', flexDirection: 'row'}}>\r\n                <Button onClick={addToMission('questions', question)}>\r\n                  <AddIcon />\r\n                </Button>\r\n                <Question question={question}/>\r\n              </div>\r\n            )}\r\n            <Button onClick={() => setCreateQuestion(!createQuestion)}>\r\n              {createQuestion ? \"Cancel\" : \"Create question\"}\r\n            </Button>\r\n            {createQuestion && <CreateQuestion /> }\r\n          </div>\r\n        </div>\r\n\r\n        <div>\r\n          <h5>Detalhes do personagem:</h5>\r\n          {state.characterDetails && <Character character={state.characterDetails}/>}\r\n        </div>\r\n\r\n      </div>\r\n\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default CreateMissionGame1\r\n","import React from 'react'\r\nimport _ from 'lodash'\r\n\r\nconst EditCharacter = ({character, onDone}) => {\r\n  const [state, setState] = React.useState({\r\n    name: character.name,\r\n    job: character.job ? character.job : '',\r\n    id: character.id,\r\n    answers: character.answers ? [...character.answers] : []\r\n  })\r\n\r\n  const editAnswer = (question, index) => e => {\r\n    console.log('question:', question)\r\n    let aQ = _.cloneDeep(character.answers.find( answer => answer.question && answer.question.id === question.id))\r\n\r\n    let changedIndex = {...state.answers[index], answer: e.target.value}\r\n    if(!aQ) changedIndex.question = question.id\r\n\r\n    setState({\r\n      ...state,\r\n      answers: [\r\n        ...state.answers.slice(0, index),\r\n        changedIndex,\r\n        ...state.answers.slice(index+1)\r\n      ]\r\n    })\r\n  }\r\n  const getAnswer = (qId) => {\r\n    let a = state.answers.find( answer => answer.question && answer.question.id ? answer.question.id === qId : answer.question === qId)\r\n    console.log('a:', a)\r\n    return a ? a.answer : ''\r\n  }\r\n\r\n  return(\r\n    <div>\r\n      <div>\r\n        <input type='text' value={state.name} onChange={ e => setState({...state, name: e.target.value}) }/>\r\n        <input type='text' value={state.job} onChange={ e => setState({...state, job: e.target.value}) } />\r\n        <div>{character.civilState}</div>\r\n        <div>\r\n          <div>Missões que participa:</div>\r\n          {character.missions.map((mission, mIndex) =>\r\n            <div key={mIndex}>\r\n              <div>{mIndex+1}: {mission.name}</div>\r\n              <div>\r\n                {mission.questions.map( (question, qIndex) =>\r\n                  <div key={qIndex}>\r\n                    <div>{question.question}</div>\r\n                    <input type='text' value={getAnswer(question.id)}\r\n                      onChange={editAnswer(question, qIndex)} placeholder='Resposta'/>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n          )}\r\n          <div>\r\n            <div>\r\n              Errou alguma opção:\r\n            </div>\r\n            <input type='text' value={character.wrongAnswer} onChange={e => setState({...state, wrongAnswer: e.target.value})} placeholder='Errou alguma'/>\r\n          </div>\r\n          <div>\r\n            <div>\r\n              Acertou o suficiente:\r\n            </div>\r\n            <input type='text' value={character.rightAnswer} onChange={e => setState({...state, rightAnswer: e.target.value})} placeholder='Acertou o suficiente'/>\r\n          </div>\r\n          <div>\r\n            <div>\r\n              Dica:\r\n            </div>\r\n            <input type='text' value={character.tip} onChange={e => setState({...state, tip: e.target.value})} placeholder='Dica'/>\r\n          </div>\r\n          <div>\r\n            <div>\r\n              Resposta da acusação:\r\n            </div>\r\n            <input type='text' value={character.acusationAnswer} onChange={e => setState({...state, acusationAnswer: e.target.value})} placeholder='Resposta à acusação'/>\r\n          </div>\r\n          <div>\r\n            <div>\r\n              Despedida:\r\n            </div>\r\n            <input type='text' value={character.endDialog} onChange={e => setState({...state, endDialog: e.target.value})} placeholder='Despedida'/>\r\n          </div>\r\n        </div>\r\n        <button onClick={onDone(state)}>Salvar</button>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\nexport default EditCharacter\r\n","import React from 'react'\r\n\r\nimport { useDispatch, useSelector} from 'react-redux'\r\nimport { apiActions } from '../../_actions'\r\n\r\nimport EditIcon from '@material-ui/icons/Edit'\r\nimport CancelIcon from '@material-ui/icons/Cancel'\r\nimport Button from '@material-ui/core/Button'\r\n\r\nimport Character from '../Character'\r\nimport CreateCharacter from '../CreateCharacter'\r\nimport EditCharacter from '../EditCharacter'\r\n\r\nconst Characters = ({onAdd}) => {\r\n  const { charactersActions } = apiActions\r\n  const [createCharacter, setCreateCharacter] = React.useState(false)\r\n  const [edit, setEdit] = React.useState(-1)\r\n  const dispatch = useDispatch()\r\n  const characters = useSelector( state => state.characters)\r\n\r\n  React.useEffect(()=>{\r\n      dispatch(charactersActions.getAll())\r\n  }, [dispatch, charactersActions])\r\n\r\n  React.useEffect(()=>{\r\n    setEdit(-1)\r\n  }, [characters])\r\n\r\n  return (\r\n    <div>\r\n      <div>Área de personagens</div>\r\n      <button onClick={() => setCreateCharacter(!createCharacter)}>{createCharacter? 'Cancelar' : 'Criar personagem'} </button>\r\n      { createCharacter && <CreateCharacter /> }\r\n      <div>\r\n        <div>All Characters:</div>\r\n        { characters.loading && <div>Loading...</div> }\r\n        <div>\r\n          <span>Nome</span> <span>Estado civil</span> <span>Trabalho</span>\r\n        </div>\r\n        <div>\r\n          {characters.items.map((character, index) =>\r\n            <React.Fragment key={index}>\r\n              {edit === index ?\r\n                <div>\r\n                  <EditCharacter character={character} onDone={ state => () => dispatch(charactersActions.update(state))}/>\r\n                  <Button onClick={ () => setEdit(-1) }><CancelIcon /></Button>\r\n                </div>\r\n                : <div style={{display: 'flex', flexDirection: 'row'}}>\r\n                    <Character character={character}/>\r\n                    <Button onClick={ () => setEdit(index) }><EditIcon /></Button>\r\n                  </div>\r\n              }\r\n              <br/>\r\n            </React.Fragment>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Characters\r\n","import React from 'react'\r\n\r\nimport { useDispatch, useSelector} from 'react-redux'\r\nimport { apiActions } from '../../_actions'\r\n\r\nimport Question from '../Question'\r\nimport CreateQuestion from '../CreateQuestion'\r\n\r\nimport Button from '@material-ui/core/Button'\r\nimport EditIcon from '@material-ui/icons/Edit'\r\nimport DeleteIcon from '@material-ui/icons/Delete'\r\n\r\n\r\nconst Questions = ({onAdd}) => {\r\n  const { questionsActions } = apiActions\r\n  const [createQuestion, setCreateQuestion] = React.useState(false)\r\n  const dispatch = useDispatch()\r\n  const questions = useSelector( state => state.questions)\r\n\r\n  React.useEffect(()=>{\r\n    if(questions.items.length === 0)\r\n      dispatch(questionsActions.getAll())\r\n  }, [dispatch, questionsActions, questions.items.length])\r\n\r\n  const editQuestion = (question) => () => {\r\n\r\n  }\r\n\r\n  const deleteQuestion = (question) => () => dispatch(questionsActions.delete(question.id))\r\n\r\n  return (\r\n    <div>\r\n      <div>Questions</div>\r\n      <button onClick={() => setCreateQuestion(!createQuestion)}>{createQuestion? 'Cancelar' : 'Criar pergunta'} </button>\r\n      { createQuestion && <CreateQuestion /> }\r\n      <div>\r\n        <div>All questions:</div>\r\n        <div>\r\n          <span>Question</span> <span>Correct</span>\r\n        </div>\r\n        <div>\r\n          {questions.items.map((question, index) =>\r\n            <div key={index}>\r\n              <Question question={question}/>\r\n              <Button onClick={editQuestion(question)}><EditIcon/></Button>\r\n              <Button onClick={deleteQuestion(question)}><DeleteIcon/></Button>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Questions\r\n","import React from 'react'\r\n\r\nimport { useDispatch, useSelector} from 'react-redux'\r\nimport { apiActions } from '../../_actions'\r\n\r\nimport Questionnaire from '../Questionnaire'\r\n// import CreateQuestionnaire from '../CreateQuestionnaire'\r\n\r\nimport Button from '@material-ui/core/Button'\r\nimport EditIcon from '@material-ui/icons/Edit'\r\nimport DeleteIcon from '@material-ui/icons/Delete'\r\n\r\n\r\nconst Questionnaires = ({onAdd}) => {\r\n  const { questionnairesActions } = apiActions\r\n  const dispatch = useDispatch()\r\n  const questionnaires = useSelector( state => state.questionnaires)\r\n\r\n  React.useEffect(()=>{\r\n    if(questionnaires.items.length === 0)\r\n      dispatch(questionnairesActions.getAll())\r\n  }, [dispatch, questionnairesActions, questionnaires.items.length])\r\n\r\n  const editQuestionnaire = (questionnaire) => () => {\r\n\r\n  }\r\n\r\n  const deleteQuestionnaire = (questionnaire) => () => dispatch(questionnairesActions.delete(questionnaire.id))\r\n\r\n  return (\r\n    <div>\r\n      <div>Questionnaires</div>\r\n      {/* <button onClick={() => setCreateQuestionnaire(!createQuestionnaire)}>{createQuestionnaire? 'Cancel' : 'Create Questionnaire'} </button>\r\n      { createQuestionnaire && <CreateQuestionnaire /> } */}\r\n      <div>\r\n        <div>All questionnaires:</div>\r\n        <div>\r\n          <span>Questionnaire</span>\r\n        </div>\r\n        <div>\r\n          {questionnaires.items.map((questionnaire, index) =>\r\n            <div key={index}>\r\n              <Questionnaire questionnaire={questionnaire}/>\r\n              <Button onClick={editQuestionnaire(questionnaire)}><EditIcon/></Button>\r\n              <Button onClick={deleteQuestionnaire(questionnaire)}><DeleteIcon/></Button>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Questionnaires\r\n","import React from 'react'\r\nimport { apiActions } from '../../_actions'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\n\r\nconst PlaySessions = () => {\r\n  const dispatch = useDispatch()\r\n  const playSessions = useSelector( state => state.play_sessions.items)\r\n  const { play_sessionsActions } = apiActions\r\n\r\n  React.useEffect(() => {\r\n    dispatch(play_sessionsActions.getAll())\r\n  }, [dispatch, play_sessionsActions])\r\n\r\n  return(\r\n    <div>\r\n      <div>PlaySessions:</div>\r\n      {playSessions.length > 0 && playSessions.map((playSession, index) =>\r\n        <div key={index}>\r\n          <div>User: {playSession.usersPermissionsUser.firstName} {playSession.usersPermissionsUser.lastName}</div>\r\n          <div>Missão: {playSession.mission.name}</div>\r\n          <div>\r\n          <div>PlayerActions:</div>\r\n          {playSession.player_actions.map((playerAction, index) =>\r\n            <div key={index}>TAG:{playerAction.data.tag}</div>\r\n          )}\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default PlaySessions\r\n","import React from 'react'\r\nimport './index.scss'\r\n\r\nconst Config = (props) => {\r\n  return(\r\n    <div id=\"config-dialog\">\r\n      {props.children}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Config\r\n","import React from 'react'\r\nimport Config from '../Config'\r\n\r\nconst ConfigWindow = ({onConfig, onStatistics, onLeave, onClose}) => {\r\n  return(\r\n    <Config>\r\n      <div className=\"config-option\" onClick={onConfig}>\r\n        <span lang=\"pt-br\">Configurações de jogo</span>\r\n        <div className=\"divider\"></div>\r\n        <span lang=\"en\">Game settings</span>\r\n      </div>\r\n      <div className=\"config-option\" onClick={onStatistics}>\r\n        <span lang=\"pt-br\">Estatísticas</span>\r\n        <div className=\"divider\"></div>\r\n        <span lang=\"en\">Statistics</span>\r\n      </div>\r\n      <div className=\"config-option\" onClick={onLeave}>\r\n        <span lang=\"pt-br\">Sair do jogo</span>\r\n        <div className=\"divider\"></div>\r\n        <span lang=\"en\">Leave game</span>\r\n      </div>\r\n      <div id=\"config-fechar\" onClick={onClose}>×</div>\r\n    </Config>\r\n  )\r\n}\r\n\r\nexport default ConfigWindow\r\n","import React from 'react'\r\nimport Config from '../Config'\r\nimport Button from '@material-ui/core/Button'\r\nimport VolumeMute from '@material-ui/icons/VolumeMute'\r\nimport VolumeUp from '@material-ui/icons/VolumeUp'\r\nimport Slider from '@material-ui/core/Slider'\r\nimport Checkbox from '@material-ui/core/Checkbox'\r\n\r\n\r\nconst GameConfig = (\r\n  {\r\n    onVolumeMute, onVolumeUp, volume, onVolumeChange,\r\n    fontSize, onFontSizeChange, assistMode, onAssistModeChange,\r\n    onAccessibilityLeft, onAccessibilityRight,\r\n    onBack, onClose\r\n  }) => {\r\n  return(\r\n    <Config>\r\n      <div id=\"title\">\r\n        <span lang=\"pt-br\">Configurações de jogo</span>\r\n        <div className=\"divider\"></div>\r\n        <span lang=\"en\">Game settings</span>\r\n      </div>\r\n      <table id=\"game-options\">\r\n        <tbody>\r\n          <tr>\r\n            <td>\r\n              <span lang=\"pt-br\">Volume</span>\r\n              <span lang=\"en\">Volume</span>\r\n            </td>\r\n            <td>\r\n              <Button onClick={onVolumeMute}>\r\n                <VolumeMute />\r\n              </Button>\r\n                <Slider value={volume} onChange={onVolumeChange}/>\r\n              <Button onClick={onVolumeUp}>\r\n                <VolumeUp />\r\n              </Button>\r\n            </td>\r\n          </tr>\r\n          <tr>\r\n            <td>\r\n              <span lang=\"pt-br\">Tamanho da fonte</span>\r\n              <span lang=\"en\">Font size</span>\r\n            </td>\r\n            <td id=\"tamanho-fonte\">\r\n              <span className=\"label-pequeno\">Aa</span>\r\n              <Slider value={fontSize} onChange={onFontSizeChange}/>\r\n              <span className=\"label-grande\">Aa</span>\r\n            </td>\r\n          </tr>\r\n          <tr>\r\n            <td>\r\n              <span lang=\"pt-br\">Modo assistência</span>\r\n              <span lang=\"en\">Assist mode</span>\r\n            </td>\r\n            <td>\r\n              <Checkbox checked={assistMode} onChange={onAssistModeChange}/>\r\n            </td>\r\n          </tr>\r\n          <tr>\r\n            <td>\r\n              <span lang=\"pt-br\">Acessibilidade</span>\r\n              <span lang=\"en\">Accessibility</span>\r\n            </td>\r\n            <td id=\"tipo-acessibilidade\">\r\n              <Button onClick={onAccessibilityLeft}> {'❮'} </Button>\r\n              <div>\r\n                <span lang=\"pt-br\">Nenhum</span>\r\n                <span lang=\"en\">None</span>\r\n              </div>\r\n              <Button onClick={onAccessibilityRight}> {'❯'} </Button>\r\n            </td>\r\n          </tr>\r\n          <tr>\r\n            <td id=\"voltar-cell\" colSpan=\"2\">\r\n              <Button onClick={onBack}>Voltar</Button>\r\n            </td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n      <div id=\"config-fechar\" onClick={onClose}>×</div>\r\n    </Config>\r\n  )\r\n}\r\n\r\nexport default GameConfig\r\n","import React from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { Redirect } from 'react-router-dom'\r\nimport { headerActions } from '../../_actions'\r\nimport ConfigWindow from '../../_components/ConfigWindow'\r\nimport GameConfig from '../../_components/GameConfig'\r\nimport ReactAudioPlayer from 'react-audio-player'\r\nimport config from '../../img/i-settings.svg'\r\nimport './index.scss'\r\nimport { headerConstants } from '../../_constants'\r\n\r\nconst GameContext = (props) => {\r\n  const [state, setState] = React.useState({\r\n    volume: 15,\r\n    fontSize: 12,\r\n    assistMode: false,\r\n    accessibility: 'NONE',\r\n    gameConfig: false,\r\n    back: false,\r\n    config: false,\r\n  })\r\n\r\n  const dispatch = useDispatch()\r\n  const music = useSelector(state => state.music)\r\n  let headerInfo = useSelector(state => state.header)\r\n\r\n  let { children } = props\r\n  children = {...children, props: {...props} }\r\n\r\n\tReact.useEffect(() => {\r\n\t\tdispatch(headerActions.setState(headerConstants.STATES.HIDDEN))\r\n\t\treturn () => {\r\n      dispatch(headerActions.clearAll())\r\n      dispatch(headerActions.setState(headerConstants.STATES.NORMAL))\r\n    }\r\n\t}, [dispatch])\r\n\r\n  return(\r\n    <div id=\"game-context\">\r\n      { (headerInfo.state === headerConstants.STATES.HIDDEN) &&\r\n        <div id=\"floating-config-btn\" onClick={() => setState({...state, config: true}) }>\r\n          <img src={config} alt='config' />\r\n        </div>\r\n      }\r\n      <ReactAudioPlayer\r\n\t\t\t\tsrc={music.url}\r\n\t\t\t\tautoPlay volume={state.volume/100}\r\n\t\t\t/>\r\n      { state.config &&\r\n        <ConfigWindow\r\n          onConfig={()=>setState({...state, config: false, gameConfig: true})}\r\n          onStatistics={()=>{}}\r\n          onLeave={()=>setState({...state, back: true})}\r\n          onClose={()=>setState({...state, config: false})}\r\n        />\r\n      }\r\n      {\r\n        state.gameConfig &&\r\n        <GameConfig\r\n          volume={state.volume}\r\n          onVolumeMute={()=> setState({...state, volume: 0})}\r\n          onVolumeUp={()=> setState({...state, volume: 100})}\r\n          onVolumeChange={(e, newValue)=> setState({...state, volume: newValue})}\r\n          fontSize={state.fontSize} onFontSizeChange={(e, newValue) => setState({...state, fontSize: newValue})}\r\n          assistMode={state.assistMode} onAssistModeChange={(e)=>setState({...state, assistMode: e.target.checked})}\r\n          onAccessibilityLeft={()=>{}} onAccessibilityRight={()=>{}}\r\n          onBack={()=>setState({...state, gameConfig: false, config: true})}\r\n          onClose={()=>setState({...state, gameConfig: false})}\r\n        />\r\n      }\r\n      {children}\r\n      { state.back && <Redirect to='/userspace' />}\r\n    </div>\r\n  )\r\n}\r\nexport default GameContext\r\n","\r\nimport './App.scss'\r\nimport AppHeader from './_components/AppHeader'\r\nimport Home from './pages/Home'\r\nimport Game1 from './pages/Game1'\r\nimport Game2 from './pages/Game2'\r\n\r\nimport {\r\n  BrowserRouter as Router,\r\n  Switch,\r\n  Route\r\n} from \"react-router-dom\"\r\n\r\nimport React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport { PrivateRoute } from './_components/PrivateRoute'\r\n// import { history } from './_helpers'\r\nimport Login from './pages/Login'\r\nimport UserSpace from './pages/UserSpace'\r\nimport UsersCRUD from './pages/UsersCRUD'\r\nimport Missions from './pages/Missions'\r\nimport CreateMission from './pages/CreateMission'\r\nimport Characters from './pages/Characters'\r\nimport Questions from './pages/Questions'\r\nimport Register from './pages/Register'\r\nimport Questionnaires from './pages/Questionnaires'\r\nimport PlaySessions from './pages/PlaySessions'\r\nimport GameContext from './pages/GameContext'\r\nimport { headerConstants } from './_constants'\r\n\r\nconst App = () => {\r\n\r\n  let palette = \"palette01\"\r\n  document.getElementsByTagName('html')[0].className = palette\r\n\r\n  let gameMode = useSelector( state => state.header.state ) !== headerConstants.STATES.NORMAL;\r\n\r\n  return (\r\n    <div className={ \"App\" + (gameMode? \" game-mode\" : \"\")}>\r\n      {/* { alert.message &&\r\n        <div className={`alert ${alert.type}`}>{alert.message}</div>\r\n      }       */}\r\n      <Router>\r\n        <AppHeader props={{isLogged: useSelector(state => state.authentication.loggedIn)}} />\r\n        <Switch>\r\n          <Route exact path=\"/\" component={Home} />\r\n          <Route path=\"/login\" component={Login} />\r\n          <Route path=\"/register\" component={Register} />\r\n          <Route path=\"/EADLearningTool\" component={Home}/>\r\n          <PrivateRoute exact path=\"/game1/:id\" render={(props) => <GameContext {...props}><Game1 /></GameContext>} />\r\n          <PrivateRoute exact path=\"/game2/:id\" render={(props) => <GameContext {...props}><Game2 /></GameContext>} />\r\n          <PrivateRoute exact path=\"/userspace\" component={UserSpace} />\r\n          <PrivateRoute exact path=\"/missions\" component={Missions} />\r\n          <PrivateRoute exact path=\"/questions\" component={Questions} />\r\n          <PrivateRoute exact path=\"/questionnaires\" component={Questionnaires} />\r\n          <PrivateRoute exact path=\"/missions/create\" component={CreateMission} />\r\n          <PrivateRoute exact path=\"/missions/edit/:id\" component={CreateMission} />\r\n          <PrivateRoute exact path=\"/characters\" component={Characters} />\r\n          <PrivateRoute exact path=\"/users\" component={UsersCRUD} />\r\n          <PrivateRoute exact path=\"/playSessions\" component={PlaySessions}/>\r\n        </Switch>\r\n      </Router>\r\n\r\n    </div>\r\n  );\r\n}\r\n/*\r\n          <Redirect from=\"*\" to=\"/login\" />\r\n*/\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.scss';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport { Provider } from 'react-redux';\r\nimport {positions, Provider as AlertProvider} from 'react-alert'\r\nimport AlertTemplate from 'react-alert-template-basic'\r\nimport { store } from './_helpers'\r\n\r\nconst options = {\r\n  timeout: 5000,\r\n  position: positions.TOP_RIGHT\r\n}\r\n\r\nReactDOM.render(\r\n    <Provider store={store}>\r\n      <AlertProvider template={AlertTemplate} {...options}>\r\n        <App />\r\n      </AlertProvider>\r\n    </Provider>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}