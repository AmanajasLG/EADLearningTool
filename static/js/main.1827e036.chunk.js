(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{116:function(e,t,a){"use strict";a.r(t);var n=a(2),r=a(0),o=a.n(r),i=a(10),c=a.n(i),s=(a(82),a(83),a(7)),u=a(11),l=(a(84),function(e){var t=e.pageInfo,a=o.a.useState({view:"default",pageTitle:t.title,pageSubTitle:t.subTitle}),r=Object(u.a)(a,2),i=r[0],c=r[1];return Object(n.jsxs)("header",{id:"app-header",children:[Object(n.jsxs)("div",{className:"group-btns",id:"left-btns",children:[Object(n.jsx)("div",{id:"profilePic",onClick:function(){c(Object(s.a)(Object(s.a)({},i),{},{view:"profile"})),alert("Vc achou onde faz para abrir o seu perfil! \n\n Ending 3/15")},children:"Foto"}),Object(n.jsx)("div",{className:"header-btn",id:"home-btn",onClick:function(){c(Object(s.a)(Object(s.a)({},i),{},{view:"home"})),alert("Vc achou onde faz para voltar ao in\xedcio! \n\n Ending 1/15")},children:"Home"})]}),Object(n.jsxs)("div",{id:"pageTitle",children:[Object(n.jsx)("div",{id:"mainTitle",children:i.pageTitle}),Object(n.jsx)("div",{id:"subTitle",children:i.pageSubTitle})]}),Object(n.jsxs)("div",{className:"group-btns",id:"right-btns",children:[Object(n.jsx)("div",{className:"header-btn",id:"notif-btn",onClick:function(){c(Object(s.a)(Object(s.a)({},i),{},{view:"notif"})),alert("Vc achou onde faz para ver suas notifica\xe7\xf5es! \n\n Ending 7/15")},children:"Notifica\xe7\xf5es"}),Object(n.jsx)("div",{className:"header-btn",id:"settings-btn",onClick:function(){c(Object(s.a)(Object(s.a)({},i),{},{view:"settings"})),alert("Vc achou onde faz para abrir suas configura\xe7\xf5es! \n\n Ending 8/15")},children:"Configura\xe7\xf5es"})]})]})}),d=a(31),j=function(){return Object(n.jsxs)("div",{children:["Aqui \xe9 a home. Nada muito interessante aqui. Se quiser fazer login:",Object(n.jsx)(d.b,{to:"/login",children:"Login"})]})},b=(a(89),function(e){var t=e.onClose;return Object(n.jsxs)("div",{children:[Object(n.jsx)("div",{children:"Parab\xe9ns! Voc\xea foi contratado para trabalhar na escola X! Hoje \xe9 seu primeiro dia!"}),Object(n.jsx)("button",{onClick:t,children:"Fechar resumo da miss\xe3o"})]})}),h=(a(90),function(e){var t=e.gameEndState;return Object(n.jsx)("div",{children:t})}),m=(a(91),function(e){var t=e.roomsData,a=e.onChange,r=o.a.useState(0),i=Object(u.a)(r,2),c=i[0],s=i[1];return Object(n.jsx)("div",{id:"RoomSelect",children:t.map((function(e,t){return Object(n.jsx)("button",{className:"RoomBtn",id:c===t?"selected":"",onClick:(r=t,function(){a(r),s(r)}),children:e.nome},t);var r}))})}),g=(a(92),a.p+"static/media/char1.9e3bec21.png"),p={width:100,borderStyle:"solid",borderColor:"red",borderWidth:"1px"},O=function(e){var t=e.dragPosition,a=(e.position,e.charData),r=e.setCurrentChar,i=o.a.useState({x:0,y:0}),c=Object(u.a)(i,2),l=c[0],d=c[1],j=o.a.useState(!1),b=Object(u.a)(j,2),h=b[0],m=b[1];return o.a.useEffect((function(){h&&d(t)}),[t]),Object(n.jsx)("div",{style:l.x?Object(s.a)(Object(s.a)({},p),{},{position:"absolute",left:l.x,top:l.y}):p,draggable:!0,onDragStart:function(){return m(!0)},onDragEnd:function(){return m(!1)},children:Object(n.jsxs)("div",{className:"CharDiv",onClick:r(a),children:[Object(n.jsx)("div",{children:a.nome}),Object(n.jsx)("img",{src:g,style:{maxHeight:150},alt:"Kimpossible"})]})})},f=(a(93),function(e){var t=e.roomData,a=e.setCurrentChar,r=o.a.useState({x:null,y:null}),i=Object(u.a)(r,2),c=i[0],s=i[1];return Object(n.jsx)("div",{id:"sala",style:{width:"100%",height:"600px",top:0},className:t.colorPalette,onDragOver:function(e){return s({x:e.clientX,y:e.clientY})},children:t.personagens.map((function(e,t){return Object(n.jsx)(O,{dragPosition:c,position:e.metaData.position,charData:e.charData,diagData:e.diagData,setCurrentChar:a},t)}))})}),x=a(161),v=a(154),S=function(e){var t=e.handleSubmit,a=e.quizOptions,r=o.a.useState(null),i=Object(u.a)(r,2),c=i[0],s=i[1];return Object(n.jsxs)("div",{children:[Object(n.jsxs)("div",{children:["Pop quiz: Material-UI is...",c]}),Object(n.jsx)("div",{children:a.map((function(e,t){return Object(n.jsxs)(o.a.Fragment,{children:[Object(n.jsx)(x.a,{checked:t==c,value:t,onChange:function(e){return s(e.target.value)}}),e]},t)}))}),Object(n.jsx)(v.a,{onClick:t(c),variant:"outlined",color:"primary",children:"Check Answer"})]})},C=function(e){var t=e.charData,a=e.clearCurrentChar,r=e.checkEnd;return Object(n.jsxs)("div",{id:"charData",children:[Object(n.jsxs)("div",{id:"charName",children:["Meu nome \xe9 ",t.nome]}),Object(n.jsxs)("div",{id:"charJob",children:["Minha profiss\xe3o \xe9 ",t.trabalho]}),Object(n.jsxs)("div",{id:"charState",children:["Meu estado civil \xe9 ",t.estadoCivil]}),Object(n.jsxs)("div",{id:"conversationActions",children:[Object(n.jsx)("button",{onClick:a,children:"Continuar procurando"}),Object(n.jsx)("button",{onClick:r,children:"\xc9 fulano"})]})]})},E=(a(94),function(e){var t=e.endGame,a=e.handleSubmit,r=e.quizOptions,o=e.charData,i=e.checkEnd,c=e.clearCurrentChar;return Object(n.jsx)("div",{id:"conversa",children:t?Object(n.jsx)(S,{handleSubmit:a,quizOptions:r}):Object(n.jsx)(C,{charData:o,checkEnd:i,clearCurrentChar:c})})}),D=[{charData:{nome:"Fulano",trabalho:"Programador",estadoCivil:"solteiro"},diagData:{texto:"Teste"},metaData:{position:{x:10,y:30}}},{charData:{nome:"Beltrano",trabalho:"Dan\xe7arino",estadoCivil:"solteiro"},diagData:{texto:"Teste"},metaData:{position:{x:20,y:30}}},{charData:{nome:"Ciclano",trabalho:"Sofredor",estadoCivil:"solteiro"},diagData:{texto:"Teste"},metaData:{position:{x:30,y:30}}},{charData:{nome:"Jujubinha",trabalho:"Dormir",estadoCivil:"solteiro"},diagData:{texto:"Teste"},metaData:{position:{x:20,y:30}}},{charData:{nome:"7Belinho",trabalho:"Comer",estadoCivil:"solteiro"},diagData:{texto:"Teste"},metaData:{position:{x:30,y:30}}},{charData:{nome:"Pirulitinha",trabalho:"Quebra dente",estadoCivil:"solteiro"},diagData:{texto:"Teste"},metaData:{position:{x:40,y:30}}},{charData:{nome:"Juslecino",trabalho:"Professor",estadoCivil:"solteiro"},diagData:{texto:"Teste"},metaData:{position:{x:20,y:30}}},{charData:{nome:"Facebookson",trabalho:"Ladr\xe3o",estadoCivil:"solteiro"},diagData:{texto:"Teste"},metaData:{position:{x:30,y:30}}},{charData:{nome:"Snowden",trabalho:"Espi\xe3o",estadoCivil:"solteiro"},diagData:{texto:"Teste"},metaData:{position:{x:40,y:30}}},{charData:{nome:"Cypher",trabalho:"Perseguidor",estadoCivil:"solteiro"},diagData:{texto:"Teste"},metaData:{position:{x:10,y:30}}},{charData:{nome:"Omen",trabalho:"Satan\xe1s",estadoCivil:"solteiro"},diagData:{texto:"Teste"},metaData:{position:{x:30,y:30}}},{charData:{nome:"Raze",trabalho:"Bombardeadora",estadoCivil:"solteiro"},diagData:{texto:"Teste"},metaData:{position:{x:50,y:30}}},{charData:{nome:"Katarina",trabalho:"The monio",estadoCivil:"solteiro"},diagData:{texto:"Teste"},metaData:{position:{x:100,y:30}}},{charData:{nome:"Nasus",trabalho:"Deus da massa",estadoCivil:"solteiro"},diagData:{texto:"Teste"},metaData:{position:{x:100,y:30}}},{charData:{nome:"Seraphine",trabalho:"Cantora",estadoCivil:"solteiro"},diagData:{texto:"Teste"},metaData:{position:{x:100,y:30}}}],y=[{nome:"Sagu\xe3o principal",personagens:[D[0],D[1],D[2]]},{nome:"Corredor",personagens:[D[3],D[4],D[5]]},{nome:"Cantina",personagens:[D[6],D[7],D[8]]},{nome:"Livraria",personagens:[D[9],D[10],D[11]]},{nome:"Estacionamento",personagens:[D[12],D[13],D[14]]}],T=["Eu me chamo Fulana!","Eu te chamo Fulana!","Eu se chamo Fulana!"],R=(a(95),function(){var e=o.a.useState({currentRoom:0,targetName:"Juslecino",endGame:!1,currentChar:null,found:!1,quizAnswer:0,gameEndState:null,tries:0}),t=Object(u.a)(e,2),a=t[0],r=t[1],i=o.a.useState(!0),c=Object(u.a)(i,2),d=c[0],j=c[1];return Object(n.jsxs)("div",{children:[Object(n.jsx)(l,{pageInfo:{title:"Teste com um nome bem grande",subTitle:"Teste com outro nome grande"}}),Object(n.jsxs)("div",{style:{width:"100%",height:"100%"},children:[Object(n.jsx)("div",{id:"RoomName",children:y[a.currentRoom].nome}),d?Object(n.jsx)(b,{onClose:function(){return j(!1)}}):Object(n.jsxs)("div",{children:[Object(n.jsx)("button",{onClick:function(){return j(!0)},children:"Abrir resumo da miss\xe3o"}),Object(n.jsx)(m,{roomsData:y,onChange:function(e){r(Object(s.a)(Object(s.a)({},a),{},{currentRoom:e}))}}),Object(n.jsx)(f,{roomData:y[a.currentRoom],setCurrentChar:function(e){return function(){return r(Object(s.a)(Object(s.a)({},a),{},{currentChar:e,found:e.nome===a.targetName}))}}}),a.currentChar&&!a.gameEndState?Object(n.jsx)(E,{endGame:a.endGame,handleSubmit:function(e){return function(){return r(Object(s.a)(Object(s.a)({},a),{},{gameEndState:e==a.quizAnswer?"ACERTOU!":"ERROU!"}))}},quizOptions:T,charData:a.currentChar,checkEnd:function(){var e=Object(s.a)(Object(s.a)({},a),{},{tries:a.tries+1});a.found?r(Object(s.a)(Object(s.a)({},e),{},{endGame:!0})):r(Object(s.a)(Object(s.a)({},e),{},{currentChar:null}))},clearCurrentChar:function(){return r(Object(s.a)(Object(s.a)({},a),{},{currentChar:null}))}}):null]}),a.gameEndState?Object(n.jsx)(h,{gameEndState:a.gameEndState}):null,a.tries>0?Object(n.jsxs)("div",{children:[a.tries," tentativa",a.tries>1?"s":"","!"]}):null]})]})}),k=a(14),N=a(22),_=a(3);function U(e){var t=e.component,a=(e.roles,Object(_.a)(e,["component","roles"])),r=localStorage.getItem("user");return console.log("user:",r),Object(n.jsx)(k.b,Object(s.a)(Object(s.a)({},a),{},{render:function(e){return r?Object(n.jsx)(t,Object(s.a)({},e)):Object(n.jsx)(k.a,{to:{pathname:"/login",state:{from:e.location}}})}}))}var w="ALERT_SUCCESS",I="ALERT_ERROR",L="ALERT_CLEAR",A="USER_REGISTER_REQUEST",F="USER_REGISTER_SUCCESS",z="USER_REGISTER_FAILURE",G="USER_LOGIN_REQUEST",P="USER_LOGIN_SUCCESS",q="USER_LOGIN_FAILURE",J="USERS_LOGOUT",B="USER_GETALL_REQUEST",V="USER_GETALL_SUCCESS",M="USER_GETALL_FAILURE",Q="USER_DELETE_REQUEST",W="USER_DELETE_SUCCESS",X="USER_DELETE_FAILURE",H={success:function(e){return{type:w,message:e}},error:function(e){return{type:I,message:e}},clear:function(){return{type:L}}};var K=a(65),Y=Object(K.a)(),Z=a(27),$=a(66),ee=a(67),te=JSON.parse(localStorage.getItem("user")),ae=te?{loggedIn:!1,user:te}:{};var ne=Object(Z.c)({authentication:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case G:return{loggingIn:!0,user:t.user};case P:return{loggedIn:!0,user:t.user};case q:case J:return{};default:return e}},registration:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case A:return{registering:!0};case F:case z:return{};default:return e}},users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case B:return{loading:!0};case V:return{items:t.users};case M:return{error:t.error};case Q:return Object(s.a)(Object(s.a)({},e),{},{items:e.items.map((function(e){return e.id===t.id?Object(s.a)(Object(s.a)({},e),{},{deleting:!0}):e}))});case W:return{items:e.items.filter((function(e){return e.id!==t.id}))};case X:return Object(s.a)(Object(s.a)({},e),{},{items:e.items.map((function(e){if(e.id===t.id){e.deleting;var a=Object(_.a)(e,["deleting"]);return Object(s.a)(Object(s.a)({},a),{},{deleteError:t.error})}return e}))});default:return e}},alert:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w:return{type:"alert-succes",message:t.message};case I:return{type:"alert-danger",message:t.message};case L:return{};default:return e}}}),re=Object(ee.createLogger)(),oe=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Z.d,ie=Object(Z.e)(ne,oe(Object(Z.a)($.a,re)));function ce(){var e=JSON.parse(localStorage.getItem("user"));return e&&e.jwt?{Authorization:"Bearer "+e.jwt}:{}}var se=a(28),ue=a.n(se),le=ue.a.create({baseUrl:"https://learning-tool-backend.herokuapp.com"}),de={login:function(e,t){return ue.a.post("https://learning-tool-backend.herokuapp.com/auth/local",{identifier:e,password:t},{headers:{"Content-Type":"application/json"}}).then(be).then((function(e){return localStorage.setItem(e,JSON.stringify(e)),e}))},logout:je,register:function(e){return ue.a.post("https://learning-tool-backend.herokuapp.com/auth/local/register",e,{headers:{"Content-Type":"application/json"}}).then(be)},getAll:function(){return ue.a.get("https://learning-tool-backend.herokuapp.com/rota",{headers:ce()}).then(be)},getById:function(e){return le.get("/users/id",{headers:ce()}).then(be)},update:function(e){return ue.a.put("https://learning-tool-backend.herokuapp.com/",e,{headers:Object(s.a)(Object(s.a)({},ce()),{},{"Content-Type":"application/json"})}).then(be)},delete:function(e){return ue.a.delete("https://learning-tool-backend.herokuapp.com/",{headers:ce()}).then(be)}};function je(){localStorage.removeItem("user")}function be(e){return console.log(e),200!==e.status?(401===e.status&&(je(),window.location.reload()),Promise.reject(e.statusText)):e.data}var he={login:function(e,t,a){return function(a){a({type:G,user:{email:e}}),de.login(e,t).then((function(e){a(function(e){return{type:P,user:e}}(e))}),(function(e){a(function(e){return{type:q,error:e}}(e.toString())),a(H.error(e.toString()))}))}},logout:function(){return de.logout(),{type:J}},register:function(e){return function(t){t(function(e){return{type:A,user:e}}(e)),de.register(e).then((function(e){t(function(e){return{type:F,user:e}}()),Y.push("/login"),t(H.success("Usu\xe1rio registrado com sucesso!"))}),(function(e){t(function(e){return{type:z,error:e}}(e.toString())),t(H.error(e.toString()))}))}},getAll:function(){return function(e){e({type:B}),de.getAll().then((function(t){return e({type:V,user:t})}),(function(t){return e(function(e){return{type:M,error:e}}(t.toString()))}))}},delete:function(e){return function(t){t(function(e){return{type:Q,id:e}}(e)),de.delete(e).then((function(a){return t(function(e){return{type:W,id:e}}(e))}),(function(a){return t(function(e,t){return{type:X,id:e,error:t}}(e,a.toString()))}))}}};var me=a(20),ge=a(162),pe=a(157),Oe=a(160),fe=a(158),xe=a(156),ve=a(68),Se=a.n(ve),Ce=a(159),Ee=a(155),De=Object(Ee.a)((function(e){return{root:{height:"100vh"},image:{backgroundImage:"url(https://source.unsplash.com/random)",backgroundRepeat:"no-repeat",backgroundColor:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center"},paper:{margin:e.spacing(8,4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function ye(){var e=Object(r.useState)({email:"",password:""}),t=Object(u.a)(e,2),a=t[0],o=t[1],i=Object(r.useState)(!1),c=Object(u.a)(i,2),l=c[0],j=c[1],b=a.email,h=a.password,m=Object(N.c)((function(e){return e.authentication.loggingIn})),g=Object(N.c)((function(e){return e.authentication.user})),p=Object(N.b)(),O=Object(k.g)(),f=De();function x(e){var t=e.target,a=t.name,n=t.value;o((function(e){return Object(s.a)(Object(s.a)({},e),{},Object(me.a)({},a,n))}))}return console.log("login page"),Object(n.jsxs)(xe.a,{container:!0,component:"main",className:f.root,children:[g&&g.user?Object(n.jsx)(k.a,{to:"/userspace"}):null,Object(n.jsx)(pe.a,{}),Object(n.jsx)(xe.a,{item:!0,xs:!1,sm:4,md:7,className:f.image}),Object(n.jsx)(xe.a,{item:!0,xs:12,sm:8,md:5,component:fe.a,elevation:6,square:!0,children:Object(n.jsxs)("div",{className:f.paper,children:[Object(n.jsx)(ge.a,{className:f.avatar,children:Object(n.jsx)(Se.a,{})}),Object(n.jsx)(Ce.a,{component:"h1",variant:"h5",children:"Sign in"}),Object(n.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),j(!0),b&&h){var t=(O.state||{from:{pathname:"/userspace"}}).from;p(he.login(b,h,t))}},className:f.form,noValidate:!0,children:[Object(n.jsx)(Oe.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"E-mail",name:"email",autoComplete:"email",autoFocus:!0,className:"form-control"+(l&&!b?" is-invalid":""),onChange:x}),Object(n.jsx)(Oe.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Senha",type:"password",id:"password",autoComplete:"current-password",className:"form-control"+(l&&!h?" is-invalid":""),onChange:x}),Object(n.jsxs)(v.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:f.submit,children:[m&&Object(n.jsx)("span",{className:"spinner-border spinner-border-sm mr-1"}),"Entrar"]}),Object(n.jsx)(d.b,{to:"/register",className:f.submit,children:"Registrar"})]})]})})]})}var Te=function(){var e=Object(N.c)((function(e){return e.authentication.user.user}));return Object(n.jsxs)("div",{children:["Oi ",e.username,"!"]})};var Re=function(){var e=Object(N.b)();return Object(r.useEffect)((function(){Y.listen((function(t,a){e(H.clear())}))}),[]),console.log(),Object(n.jsxs)("div",{className:"App palette06",children:[alert.message&&Object(n.jsx)("div",{className:"alert ".concat(alert.type),children:alert.message}),Object(n.jsx)(d.a,{children:Object(n.jsxs)(k.d,{children:[Object(n.jsx)(k.b,{exact:!0,path:"/",component:j}),Object(n.jsx)(k.b,{path:"/login",component:ye}),Object(n.jsx)(U,{exact:!0,path:"/game",children:Object(n.jsx)(R,{})}),Object(n.jsx)(U,{exact:!0,path:"/userspace",children:Object(n.jsx)(Te,{})})]})})]})},ke=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,164)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,o=t.getLCP,i=t.getTTFB;a(e),n(e),r(e),o(e),i(e)}))};c.a.render(Object(n.jsx)(N.a,{store:ie,children:Object(n.jsx)(Re,{})}),document.getElementById("root")),ke()},82:function(e,t,a){},83:function(e,t,a){},84:function(e,t,a){},89:function(e,t,a){},90:function(e,t,a){},91:function(e,t,a){},92:function(e,t,a){},93:function(e,t,a){},94:function(e,t,a){},95:function(e,t,a){}},[[116,1,2]]]);
//# sourceMappingURL=main.1827e036.chunk.js.map