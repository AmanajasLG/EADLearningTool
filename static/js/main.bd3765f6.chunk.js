(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{106:function(e,t){},125:function(e,t,n){},126:function(e,t,n){},127:function(e,t,n){},128:function(e,t,n){},154:function(e,t,n){},156:function(e,t,n){},157:function(e,t,n){},158:function(e,t,n){},159:function(e,t,n){},160:function(e,t,n){},161:function(e,t,n){},162:function(e,t,n){},164:function(e,t,n){},166:function(e,t,n){},167:function(e,t,n){"use strict";n.r(t);var c=n(3),i=n(1),r=n(0),s=n.n(r),a=n(16),o=n.n(a),j=(n(125),n(126),n(127),n(9)),l=(n(128),n.p+"static/media/avatar1.48f082ac.svg"),u=n.p+"static/media/i-home.fdfacf95.svg",d=n.p+"static/media/i-notification.3ced7286.svg",b=n.p+"static/media/i-settings.b457df7a.svg",O="ALERT_SUCCESS",h="ALERT_ERROR",m="ALERT_CLEAR",f="USER_REGISTER_REQUEST",x="USER_REGISTER_SUCCESS",p="USER_REGISTER_FAILURE",g="USER_LOGIN_REQUEST",v="USER_LOGIN_SUCCESS",E="USER_LOGIN_FAILURE",C="USER_UPDATE_REQUEST",S="USER_UPDATE_SUCCESS",y="USER_UPDATE_FAILURE",A="USERS_LOGOUT",T="USER_GETALL_REQUEST",k="USER_GETALL_SUCCESS",w="USER_GETALL_FAILURE",_="USER_GETBYID_REQUEST",L="USER_GETBYID_SUCCESS",N="USER_GETBYID_FAILURE",U="USER_DELETE_REQUEST",R="USER_DELETE_SUCCESS",q="USER_DELETE_FAILURE",D="CHANGE_TITLE",I="CHANGE_SUBTITLE",P="CHANGE_ALL",M="CLEAR_TITLE",G="CLEAR_SUBTITLE",Q="CLEAR_ALL",B=["CHARACTERS","MISSIONS","LOCATIONS","QUESTIONS","BACKGROUND_ASSETS","QUESTIONNAIRES","QUESTIONNAIRE_QUESTIONS","GAMES","PLAY_SESSIONS","PLAYER_ACTIONS","BACKGROUND_AUDIOS"],F={};B.map((function(e){return F[e]={UPDATE_REQUEST:"".concat(t=e,"_UPDATE_REQUEST"),UPDATE_SUCCESS:"".concat(t,"_UPDATE_SUCCESS"),UPDATE_FAILURE:"".concat(t,"_UPDATE_FAILURE"),CREATE_REQUEST:"".concat(t,"_CREATE_REQUEST"),CREATE_SUCCESS:"".concat(t,"_CREATE_SUCCESS"),CREATE_FAILURE:"".concat(t,"_CREATE_FAILURE"),GETALL_REQUEST:"".concat(t,"_GETALL_REQUEST"),GETALL_SUCCESS:"".concat(t,"_GETALL_SUCCESS"),GETALL_FAILURE:"".concat(t,"_GETALL_FAILURE"),GETBYID_REQUEST:"".concat(t,"_GETBYID_REQUEST"),GETBYID_SUCCESS:"".concat(t,"_GETBYID_SUCCESS"),GETBYID_FAILURE:"".concat(t,"_GETBYID_FAILURE"),DELETE_REQUEST:"".concat(t,"_DELETE_REQUEST"),DELETE_SUCCESS:"".concat(t,"_DELETE_SUCCESS"),DELETE_FAILURE:"".concat(t,"_DELETE_FAILURE")};var t}));var H="SET_GAMEMODE",V="SET",Y={success:function(e){return{type:O,message:e}},error:function(e){return{type:h,message:e}},clear:function(){return{type:m}}};var z=n(96),W=(Object(z.a)(),n(40)),J=n(97),X=n(98),K=JSON.parse(localStorage.getItem("user")),Z=K?{loggedIn:!0,user:K}:{};var $=n(4);var ee=n(12),te={loading:!1,items:[]},ne={};Object.keys(F).forEach((function(e){var t;ne[e.toLowerCase()]=(t=F[e],function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case t.CREATE_REQUEST:return Object(c.a)(Object(c.a)({},e),{},{error:null,creating:!0});case t.CREATE_SUCCESS:return Object(c.a)(Object(c.a)({},e),{},{creating:!1,items:[].concat(Object(ee.a)(e.items),[n.data])});case t.CREATE_FAILURE:return{error:n.error};case t.UPDATE_REQUEST:return Object(c.a)(Object(c.a)({},e),{},{error:null,updating:!0});case t.UPDATE_SUCCESS:var i=e.items.findIndex((function(e){return e.id===n.data.id})),r=[].concat(Object(ee.a)(e.items.slice(0,i)),[n.data],Object(ee.a)(e.items.slice(i+1)));return Object(c.a)(Object(c.a)({},e),{},{updating:!1,items:r});case t.UPDATE_FAILURE:return Object(c.a)(Object(c.a)({},e),{},{updating:!1});case t.GETALL_REQUEST:return Object(c.a)(Object(c.a)({},e),{},{error:null,loading:!0});case t.GETALL_SUCCESS:return Object(c.a)(Object(c.a)({},e),{},{loading:!1,items:n.data});case t.GETALL_FAILURE:return Object(c.a)(Object(c.a)({},e),{},{loading:!1,error:n.error});case t.GETBYID_REQUEST:return Object(c.a)(Object(c.a)({},e),{},{error:null,loading:!0});case t.GETBYID_SUCCESS:return Object(c.a)(Object(c.a)({},e),{},{items:[].concat(Object(ee.a)(e.items),[n.data]),loading:!1});case t.GETBYID_FAILURE:return Object(c.a)(Object(c.a)({},e),{},{loading:!1,error:n.error});case t.DELETE_REQUEST:return Object(c.a)(Object(c.a)({},e),{},{items:e.items.map((function(e){return e.id===n.id?Object(c.a)(Object(c.a)({},e),{},{deleting:!0}):e}))});case t.DELETE_SUCCESS:return Object(c.a)(Object(c.a)({},e),{},{items:e.items.filter((function(e){return e.id!==n.id}))});case t.DELETE_FAILURE:return Object(c.a)(Object(c.a)({},e),{},{items:e.items.map((function(e){if(e.id===n.id){e.deleting;var t=Object($.a)(e,["deleting"]);return Object(c.a)(Object(c.a)({},t),{},{deleteError:n.error})}return e}))});default:return e}})}));var ce=ne,ie=Object(W.c)(Object(c.a)({authentication:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return{loggingIn:!0,user:t.user};case v:return{loggedIn:!0,user:t.user};case E:return{logginFailure:!0};case A:return{};default:return e}},registration:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return{registering:!0};case x:case p:return{};default:return e}},users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C:return{updating:!0};case S:case y:return{};case T:return Object(c.a)(Object(c.a)({},e),{},{loading:!0});case k:return Object(c.a)(Object(c.a)({},e),{},{items:t.users});case w:return Object(c.a)(Object(c.a)({},e),{},{error:t.error});case _:return Object(c.a)(Object(c.a)({},e),{},{loading:!0});case L:return Object(c.a)(Object(c.a)({},e),{},{items:t.user});case N:return Object(c.a)(Object(c.a)({},e),{},{error:t.error});case U:return Object(c.a)(Object(c.a)({},e),{},{items:e.items.map((function(e){return e.id===t.id?Object(c.a)(Object(c.a)({},e),{},{deleting:!0}):e}))});case R:return Object(c.a)(Object(c.a)({},e),{},{items:e.items.filter((function(e){return e.id!==t.id}))});case q:return Object(c.a)(Object(c.a)({},e),{},{items:e.items.map((function(e){if(e.id===t.id){e.deleting;var n=Object($.a)(e,["deleting"]);return Object(c.a)(Object(c.a)({},n),{},{deleteError:t.error})}return e}))});default:return e}},alert:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return{type:"alert-succes",message:t.message};case h:return{type:"alert-danger",message:t.message};case m:return{};default:return e}},header:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isVisible:!0,title:"",subtitle:""},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case D:return Object(c.a)(Object(c.a)({},e),{},{title:t.newTitle});case I:return Object(c.a)(Object(c.a)({},e),{},{subtitle:t.newSubtitle});case P:return Object(c.a)(Object(c.a)({},e),{},{title:t.newTitle,subtitle:t.newSubtitle});case M:return Object(c.a)(Object(c.a)({},e),{},{title:""});case G:return Object(c.a)(Object(c.a)({},e),{},{subtitle:""});case Q:return Object(c.a)(Object(c.a)({},e),{},{title:"",subtitle:""});default:return e}},platformConfig:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{gameMode:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case H:return Object(c.a)(Object(c.a)({},e),{},{gameMode:t.gameMode});default:return e}},music:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{url:"",volume:15},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case V:return Object(c.a)(Object(c.a)({},e),{},{url:t.url});default:return e}}},ce)),re=Object(X.createLogger)(),se=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||W.d,ae=Object(W.e)(ie,se(Object(W.a)(J.a,re)));function oe(){var e=JSON.parse(localStorage.getItem("user"));return e&&e.jwt?{Authorization:"Bearer "+e.jwt}:{}}var je=n(101),le=n.n(je).a.create({baseURL:"https://learning-tool-backend.herokuapp.com"}),ue=function(e){return function(t){return le({method:"get",url:"/".concat(e.toLowerCase().replace("_","-"),"/").concat(t),headers:oe()}).then(he)}},de=function(e){return function(t){return le({method:"post",url:"/".concat(e.toLowerCase().replace("_","-")),headers:oe(),data:t}).then(he)}},be=function(e){return function(t){return le({method:"put",url:"/".concat(e.toLowerCase().replace("_","-"),"/").concat(t.id),headers:Object(c.a)(Object(c.a)({},oe()),{},{"Content-Type":"application/json"}),data:t}).then(he)}},Oe=function(e){return function(t){return le({method:"delete",url:"/".concat(e.toLowerCase().replace("_","-"),"/").concat(t),headers:oe()}).then(he)}};function he(e){return 200!==e.status?(401===e.status&&window.location.reload(),Promise.reject(e.statusText)):e.data}var me={};B.map((function(e){return me["".concat(e)]={getAll:(t=e,function(){return le({method:"get",url:"/".concat(t.toLowerCase().replace("_","-")),headers:oe()}).then(he)}),getById:ue(e),create:de(e),update:be(e),delete:Oe(e)};var t}));var fe=le,xe={login:function(e,t){return fe({method:"post",url:"/auth/local",headers:{"Content-Type":"application/json"},data:{identifier:e,password:t}}).then((function(e){return e.data.jwt&&localStorage.setItem("user",JSON.stringify(e.data)),e.data}))},logout:pe,register:function(e){return console.log(e),fe({method:"post",url:"/auth/local/register",headers:{"Content-Type":"application/json"},data:e}).then((function(e){return e.data.jwt&&localStorage.setItem("user",JSON.stringify(e.data)),e.data}))},getAll:function(){return fe({method:"get",url:"/users",headers:oe()}).then(ge)},getById:function(e){return fe({method:"get",url:"/users/".concat(e),headers:oe()}).then(ge)},update:function(e){return fe({method:"put",url:"/users/".concat(e.id),headers:Object(c.a)(Object(c.a)({},oe()),{},{"Content-Type":"application/json"}),data:e}).then((function(e){console.log(e)}))},delete:function(e){return fe({method:"delete",url:"/users/".concat(e),headers:oe()}).then(ge)}};function pe(){localStorage.removeItem("user")}function ge(e){return console.log(e),200!==e.status?(401===e.status&&(pe(),window.location.reload()),Promise.reject(e.statusText)):e.data}var ve={getAll:function(){return function(e){e({type:T}),xe.getAll().then((function(t){return e(function(e){return{type:k,users:e}}(t))}),(function(t){return e(function(e){return{type:w,error:e}}(t.toString()))}))}},getById:function(e){return function(t){t({type:_}),xe.getById(e).then((function(e){return t(function(e){return{type:L,user:e}}(e))}),(function(e){return t(function(e){return{type:N,error:e}}(e.toString()))}))}},delete:function(e){return function(t){t(function(e){return{type:U,id:e}}(e)),xe.delete(e).then((function(n){return t(function(e){return{type:R,id:e}}(e))}),(function(n){return t(function(e,t){return{type:q,id:e,error:t}}(e,n.toString()))}))}}},Ee=function(e,t){return function(n){return n({type:g,user:{email:e}}),xe.login(e,t).then((function(e){return n(function(e){return{type:v,user:e}}(e)),Promise.resolve()}),(function(e){return n(function(e){return{type:E,error:e}}(e.toString())),n(Y.error(e.toString())),Promise.reject(e.response.data.data[0].messages[0].message)}))}},Ce=function(e){return function(t){return t(function(e){return{type:f,user:e}}(e)),xe.register(e).then((function(e){return t(function(e){return{type:x,user:e}}()),Promise.resolve()}),(function(e){return t(function(e){return{type:p,error:e}}(e.toString())),t(Y.error(e.toString())),Promise.reject(e.response.data.data[0].messages[0].message)}))}};var Se=function(e){return{type:D,newTitle:e}},ye=n(17);function Ae(e,t,n,c,i){return function(r){return r(t(i)),e(i).then((function(e){return r(n(e)),Promise.resolve()}),(function(e){r(c(e.toString()));try{return Promise.reject(e.response.data.data[0].messages[0].message)}catch(t){console.log(e)}}))}}var Te=function(e,t){return function(){return Ae(e.getAll,(function(){return{type:F[t].GETALL_REQUEST}}),(function(e){return{type:F[t].GETALL_SUCCESS,data:e}}),(function(e){return{type:F[t].GETALL_FAILURE,error:e}}))}},ke=function(e,t){return function(n){return Ae(e.getById,(function(){return{type:F[t].GETBYID_REQUEST}}),(function(e){return{type:F[t].GETBYID_SUCCESS,data:e}}),(function(e){return{type:F[t].GETBYID_FAILURE,error:e}}),n)}},we=function(e,t){return function(n){return Ae(e.create,(function(e){return Object(ye.a)({type:F[t].CREATE_REQUEST},t,e)}),(function(e){return{type:F[t].CREATE_SUCCESS,data:e}}),(function(e){return{type:F[t].CREATE_FAILURE,error:e}}),n)}},_e=function(e,t){return function(n){return Ae(e.update,(function(e){return Object(ye.a)({type:F[t].UPDATE_REQUEST},t,e)}),(function(e){return{type:F[t].UPDATE_SUCCESS,data:e}}),(function(e){return{type:F[t].UPDATE_FAILURE,error:e}}),n)}},Le=function(e,t){return function(n){return Ae(e.delete,(function(e){return Object(ye.a)({type:F[t].DELETE_REQUEST},t,e)}),(function(e){return{type:F[t].DELETE_SUCCESS,id:e.id}}),(function(e){return{type:F[t].DELETE_FAILURE,error:e}}),n)}},Ne={};Object.keys(F).forEach((function(e){Ne["".concat(e.toLowerCase(),"Actions")]={getAll:Te(me[e],e),getById:ke(me[e],e),create:we(me[e],e),update:_e(me[e],e),delete:Le(me[e],e)}}));var Ue=function(e){return{type:H,gameMode:e}},Re=function(e){return{type:V,url:e}},qe=n(6),De=n(31),Ie=n(203),Pe=function(e){e.pageInfo;var t=Object(qe.c)((function(e){return e.header})),n=s.a.useState({view:"default"}),r=Object(j.a)(n,2),a=r[0],o=r[1],O=Object(qe.b)(),h=Object(De.c)();return Object(i.jsxs)("header",{id:"app-header",className:t.isVisible?"":"hidden",children:[Object(i.jsxs)("div",{className:"group-btns",id:"left-btns",children:[Object(i.jsx)("div",{className:"header-btn",id:"home-btn",onClick:function(){o(Object(c.a)(Object(c.a)({},a),{},{view:"home"})),h.show("Vc achou onde faz para voltar ao in\xedcio! \n\n Ending 1/15")},children:Object(i.jsx)("img",{src:u,alt:"Home"})}),Object(i.jsx)("div",{className:"header-btn",id:"notif-btn",onClick:function(){o(Object(c.a)(Object(c.a)({},a),{},{view:"notif"})),h.show("Vc achou onde faz para ver suas notifica\xe7\xf5es! \n\n Ending 7/15")},children:Object(i.jsx)("img",{src:d,alt:"Notifications"})}),Object(i.jsx)("div",{className:"header-btn",id:"settings-btn",onClick:function(){o(Object(c.a)(Object(c.a)({},a),{},{view:"settings"})),h.show("Vc achou onde faz para abrir suas configura\xe7\xf5es! \n\n Ending 8/15")},children:Object(i.jsx)("img",{src:b,alt:"Settings"})})]}),Object(i.jsxs)("div",{id:"pageTitle",children:[Object(i.jsx)("div",{id:"mainTitle",children:t.title}),Object(i.jsx)("div",{id:"subTitle",children:t.subtitle})]}),Object(i.jsxs)("div",{className:"group-btns",id:"right-btns",children:[Object(i.jsx)("div",{id:"profilePic",onClick:function(){o(Object(c.a)(Object(c.a)({},a),{},{view:"profile"})),h.show("Vc achou onde faz para abrir o seu perfil! \n\n Ending 3/15")},children:Object(i.jsx)("img",{src:l,alt:"Profile_Picture"})}),Object(i.jsx)("div",{className:"header-btn",id:"logout-btn",onClick:function(){O((function(e){xe.logout(),e({type:A})}))},children:"Logout"})]}),"settings"===a.view&&Object(i.jsxs)("div",{className:"ConfigPopUp",style:{position:"absolute",backgroundColor:"#ddddee",top:100,margin:"0 auto",width:"50%",height:500},children:["Configura\xe7\xf5es",Object(i.jsx)(Ie.a,{children:"Config 1"}),Object(i.jsx)(Ie.a,{children:"Config 2"}),Object(i.jsx)(Ie.a,{children:"Config 3"}),Object(i.jsx)(Ie.a,{onClick:function(){return o(Object(c.a)(Object(c.a)({},a),{},{view:"default"}))},children:"X"})]})]})},Me=n(215),Ge=n(216),Qe=function(e){e.pageInfo;return Object(i.jsx)(Me.a,{id:"app-header",children:Object(i.jsxs)(Ge.a,{className:"mr-auto",children:[Object(i.jsx)(Ge.a.Link,{href:"/",children:"Home"}),Object(i.jsx)(Ge.a.Link,{href:"/",children:"Sobre"})]})})},Be=function(e){var t=e.props;return t.isLogged?Object(i.jsx)(Pe,{pageInfo:t}):Object(i.jsx)(Qe,{})},Fe=n(18),He=(n(154),function(){return Object(i.jsxs)("div",{id:"message",children:["Aqui \xe9 a home. Nada muito interessante aqui. Se quiser fazer login:",Object(i.jsx)(Fe.b,{to:"/login",className:"btn-normal",children:"Login"})]})}),Ve=n(20),Ye=(n(156),n.p+"static/media/pic-people-talk.3d385cc4.svg"),ze=function(e){var t=e.name,n=e.description,c=e.onClose,r=e.onStart,s=e.onBack;return Object(i.jsx)("div",{className:"main-wrapper",children:Object(i.jsxs)("div",{className:"inner-content",children:[Object(i.jsxs)("div",{name:"infos",children:[Object(i.jsx)("img",{className:"classImage",src:Ye,alt:""}),Object(i.jsx)("h1",{className:"margin-half-top type-l type-display type-center",children:t}),Object(i.jsx)("h1",{className:"type-m type-display type-center subtitle",children:"Em ingl\xeas"}),Object(i.jsx)("h2",{className:"margin-half-top type-s type-center",children:n}),Object(i.jsx)("h2",{className:"type-s type-center subdescription",children:"Em ingl\xeas"})]}),Object(i.jsxs)("div",{id:"btns",children:[s&&Object(i.jsx)("button",{className:"btn btn-center",id:"btn-back",onClick:s,children:"Voltar"}),r&&Object(i.jsx)("button",{className:"btn btn-center",id:"btn-start",onClick:r,children:"Iniciar"}),c&&Object(i.jsx)("button",{className:"btn btn-center",id:"btn-close",onClick:c,children:"Fechar"})]})]})})},We=(n(157),function(e){var t=e.gameEndState;return Object(i.jsx)("div",{children:t?t.split("\n").map((function(e){return Object(i.jsx)("p",{children:e})})):null})}),Je=(n(158),function(e){var t=e.buttonList,n=e.onChange,c=s.a.useState(0),r=Object(j.a)(c,2),a=r[0],o=r[1];return Object(i.jsxs)("div",{id:"RoomSelect",children:[Object(i.jsxs)("div",{className:"section-title",children:[Object(i.jsx)("span",{lang:"pt-br",children:"Salas"}),Object(i.jsx)("span",{lang:"en",children:"Rooms"})]}),Object(i.jsx)("div",{id:"button-rows",children:t.map((function(e,t){return Object(i.jsx)("button",{className:"RoomBtn",id:a===t?"selected":"",onClick:(c=t,function(){n(c),o(c)}),children:t+1},t);var c}))})]})}),Xe=(n(159),function(e){var t=e.children,n=e.roomData,c=(e.setCurrentChar,n.location.backgroundAssets.length>0?n.location.backgroundAssets[0].image[0].url:"");return Object(i.jsx)("div",{id:"sala",style:{backgroundImage:'url("'.concat(c,'")')},children:Object(i.jsx)("div",{children:t})})}),Ke=(n(160),function(e){var t=e.character,n=e.dragPosition,c=(e.position,e.onClick),r=s.a.useState({x:0,y:0}),a=Object(j.a)(r,2),o=a[0],l=a[1],u=s.a.useState(!1),d=Object(j.a)(u,2),b=d[0],O=d[1];return s.a.useEffect((function(){b&&l(n)}),[b,n]),Object(i.jsxs)("div",{className:"CharDiv",style:o.x?{position:"absolute",left:o.x,top:o.y}:null,draggable:!0,onDragStart:function(){return O(!0)},onDragEnd:function(){return O(!1)},onClick:c,children:[Object(i.jsx)("img",{src:t.characterAssets.length>0?t.characterAssets.find((function(e){return"fullBody"===e.bodyPart})).image[0].url:"",alt:"".concat(t.name)}),Object(i.jsx)("div",{children:t.name})]})}),Ze=(n(92),{back:!1,scene:"INIT",endGame:!1,currentLocationIndex:0,locations:[],dialogHistory:[],currentChar:null,showContacts:!1}),$e={name:"Stub mission",description:"Local stub mission for tests",locations:[{name:"sala",backgroundAssets:[]},{name:"cozinha",backgroundAssets:[]},{name:"biblioteca",backgroundAssets:[]},{name:"escrit\xf3rio",backgroundAssets:[]}],characters:[{name:"Joao",characterAssets:[],answers:[{answer:"oi",question:{question:"oi?"}},{answer:"turusim",question:{question:"turubem?"}},{answer:"ki\xe9sim",question:{question:"cum\xe9ki\xe9?"}}]},{name:"Pedro",characterAssets:[],answers:[{question:{question:"oi?"}}]},{name:"Marta",characterAssets:[],answers:[{question:{question:"oi?"}}]},{name:"Suzane",characterAssets:[],answers:[{question:{question:"oi?"}}]},{name:"Maria",characterAssets:[],answers:[{question:{question:"oi?"}}]},{name:"Pablo",characterAssets:[],answers:[{question:{question:"oi?"}}]}]},et=(n(161),function(e){var t=s.a.useState(Ze),n=Object(j.a)(t,2),r=n[0],a=n[1],o=Ne.missionsActions,l=Ne.play_sessionsActions,u=Ne.player_actionsActions,d=e.match.params.id,b=Object(qe.b)(),O=Object(qe.c)((function(e){return e.missions.loading})),h=Object(qe.c)((function(e){return e.missions.error})),m=Object(qe.c)((function(t){return t.missions.items.find((function(t){return t.id===e.match.params.id}))})),f=Object(qe.c)((function(e){return e.authentication.user.user.id})),x=Object(qe.c)((function(e){return e.play_sessions?e.play_sessions.items[0]:{}}));if(s.a.useEffect((function(){if(r.tracking&&x){var e=function(e){b(u.create({play_session:x.id,data:{tag:e.target.nodeName,alt:e.target.alt,className:e.target.className,innerHTML:e.target.innerHTML.includes("<div")?null:e.target.innerHTML,clickTime:new Date}}))};return document.addEventListener("mousedown",e),a((function(t){return Object(c.a)(Object(c.a)({},t),{},{currentPlaySession:x,getClickedObject:e})})),function(){document.removeEventListener("mousedown",e)}}}),[b,x,u,r.tracking]),s.a.useEffect((function(){d&&!m&&b(o.getById(e.match.params.id))}),[b,d,m,o,e.match.params.id]),h&&(h=null,m=$e),m&&0===r.locations.length){var p=m.locations.map((function(e){return{location:e,characters:Object(ee.a)(m.characters)}}));a(Object(c.a)(Object(c.a)({},r),{},{locations:p}))}var g=function(e){r.tracking&&b(l.create({usersPermissionsUser:f,mission:m.id})),a(Object(c.a)(Object(c.a)({},r),{},{scene:"ROOM"}))},v=function(e){return function(){a(Object(c.a)(Object(c.a)({},r),{},{dialogHistory:[].concat(Object(ee.a)(r.dialogHistory),[e.question.question,e.answer])}))}},E=function(){a(Object(c.a)(Object(c.a)({},r),{},{showContacts:!0}))},C=function(){a(Object(c.a)(Object(c.a)({},r),{},{showContacts:!1}))},S=function(){};return Object(i.jsx)("div",{children:O?Object(i.jsx)("div",{children:"Loading..."}):h?Object(i.jsx)("div",{children:h}):m&&Object(i.jsx)("div",{children:Object(i.jsxs)("div",{style:{width:"100%",height:"100%"},children:[Object(i.jsxs)("div",{id:"input-tracker",children:["TrackInput: ",Object(i.jsx)("input",{type:"checkbox",onChange:function(e){a(Object(c.a)(Object(c.a)({},r),{},{tracking:e.target.checked}))}})]}),function(){switch(r.scene){case"INIT":return Object(i.jsx)(ze,{name:m.name,description:m.description,onStart:g,onBack:function(){return a(Object(c.a)(Object(c.a)({},r),{},{back:!0}))}});case"ROOM":return Object(i.jsxs)("div",{children:[Object(i.jsx)(Je,{buttonList:m.locations.map((function(e){return e.name})),onChange:function(e){a(Object(c.a)(Object(c.a)({},r),{},{currentLocationIndex:e})),b(Se(r.locations[e].name))}}),Object(i.jsx)(Xe,{roomData:r.locations[r.currentLocationIndex],children:r.locations[r.currentLocationIndex].characters.map((function(e,t){return Object(i.jsx)(Ke,{character:e,setCurrentChar:function(e){return function(){return a(Object(c.a)(Object(c.a)({},r),{},{currentChar:e}))}}},t)}))}),r.currentChar&&Object(i.jsxs)("div",{id:"conversa",className:"DialogPopUp",children:[Object(i.jsx)(Ie.a,{onClick:function(){return a(Object(c.a)(Object(c.a)({},r),{},{currentChar:null,dialogHistory:[]}))},children:"X"}),Object(i.jsxs)("div",{className:"CharacterPortrait",style:{width:100},children:[Object(i.jsx)("img",{src:r.currentChar.characterAssets.length>0?r.currentChar.characterAssets[1].image[0].url:"",alt:"portrait"}),Object(i.jsx)("img",{src:r.currentChar.characterAssets.length>0?r.currentChar.characterAssets[2].image[0].url:"",alt:"portrait"})]}),Object(i.jsx)("div",{className:"DialogHistory",children:r.dialogHistory.map((function(e,t){return Object(i.jsx)("div",{children:e},t)}))}),Object(i.jsx)("div",{className:"Menu",children:r.currentChar.answers.map((function(e,t){return Object(i.jsx)(Ie.a,{onClick:v(e),children:e.question.question},t)}))})]}),r.showContacts&&Object(i.jsxs)("div",{id:"contacts",children:[Object(i.jsx)("div",{id:"btn-fechar",onClick:C,children:Object(i.jsx)("span",{children:"\xd7"})}),Object(i.jsxs)("div",{id:"fullPhone",children:[Object(i.jsx)("p",{children:"Lista de contatos"}),Object(i.jsx)("div",{id:"lista-contatos",children:Object(i.jsxs)("div",{id:"add-contato",className:"contato",children:[Object(i.jsxs)("div",{className:"contact-profile-pic",children:[Object(i.jsx)("div",{}),Object(i.jsx)("span",{children:"+"})]}),Object(i.jsxs)("div",{className:"contact-info",children:[Object(i.jsxs)("div",{className:"name",children:[Object(i.jsx)("p",{children:"Nome"}),Object(i.jsx)("input",{type:"text",name:"nome",placeholder:"Nome do contato"})]}),Object(i.jsxs)("div",{className:"profession",children:[Object(i.jsx)("p",{children:"Profiss\xe3o"}),Object(i.jsxs)("select",{name:"profissao",children:[Object(i.jsx)("option",{value:"",children:"-- Profiss\xe3o --"}),Object(i.jsx)("option",{value:"Cebelereiro",children:"Cabelereiro"}),Object(i.jsx)("option",{value:"Pintor",children:"Pintor"}),Object(i.jsx)("option",{value:"Professor",children:"Professor"})]})]}),Object(i.jsxs)("div",{className:"nationality",children:[Object(i.jsx)("p",{children:"Nacionalidade"}),Object(i.jsxs)("select",{name:"Nacionalidade",children:[Object(i.jsx)("option",{value:"",children:"-- Nacionalidade --"}),Object(i.jsx)("option",{value:"Brasileira",children:"Brasileira"}),Object(i.jsx)("option",{value:"Americana",children:"Americana"}),Object(i.jsx)("option",{value:"Japonesa",children:"Japonesa"}),Object(i.jsx)("option",{value:"Finlandesa",children:"Finlandesa"})]})]})]}),Object(i.jsx)("div",{id:"btn-add-contato",onClick:S,children:"Adicionar contato"})]})})]}),Object(i.jsx)("div",{id:"btn-terminei",children:"Terminei!"})]}),!r.showContacts&&Object(i.jsx)("div",{id:"phone",onClick:E,children:Object(i.jsx)("p",{children:"Agenda de contatos"})})]});default:return Object(i.jsx)("div",{children:"Error"})}}(),!r.gameEndState&&Object(i.jsx)("div",{}),r.endGame?Object(i.jsx)(We,{gameEndState:r.gameEndState}):null,r.tries>0?Object(i.jsxs)("div",{children:[r.tries," tentativa",r.tries>1?"s":"","!"]}):null,r.back&&Object(i.jsx)(Ve.a,{to:"/userspace"})]})})})}),tt={scene:"INIT",currentRoom:0,isOnDialog:!1,endGame:!1,found:!1,locations:[],tips:[],acusation:!1,tries:0,validQuestions:[],dialogHistory:[],dialogStep:0,faceState:"init",totalDialogSteps:2,questionsByStep:2,currentChar:null,questions:[],targetName:"Leila",correct:0,ncorrect:0,correctMinimum:2,gameEndState:null,score:0,startedTimestamp:new Date(Date.now()),elapsedTime:null,back:!1,spokenCharacters:[]},nt=n.p+"static/media/lampada_apagada.3f2311d7.svg",ct=n.p+"static/media/lampada_acesa.aeef7b84.svg",it=function(e){var t=e.onClick;return Object(i.jsxs)("div",{id:"acusar",onClick:t,children:[Object(i.jsx)("img",{id:"lamp-apagada",src:nt,alt:""}),Object(i.jsx)("img",{id:"lamp-acesa",src:ct,alt:""}),Object(i.jsx)("span",{children:"\xc9 voc\xea!"})]})},rt=function(e){var t=e.character,n=e.face;return Object(i.jsxs)("div",{id:"CharacterPortrait",children:[Object(i.jsx)("img",{src:t.characterAssets.length>0?t.characterAssets.find((function(e){return"upperBody"===e.bodyPart})).image[0].url:"",alt:"portrait"}),Object(i.jsx)("img",{src:t.characterAssets.length>0?t.characterAssets.find((function(e){return"face"===e.bodyPart&&e.type===n})).image[0].url:"",alt:"portrait"})]})},st=function(e){var t=e.dialogHistory;return Object(i.jsxs)("div",{id:"DialogHistory",children:[Object(i.jsx)("span",{}),t.map((function(e,t){return Object(i.jsx)("div",{className:"mensagem"+t%2,children:e},t)}))]})},at=function(e){var t=e.buttonList,n=e.onButtonClick;return Object(i.jsx)("div",{id:"Menu",children:t.map((function(e,t){return Object(i.jsx)(Ie.a,{onClick:n(e),children:e.text},t)}))})},ot=function(e){var t,n=s.a.useState(tt),r=Object(j.a)(n,2),a=r[0],o=r[1],l=e.match.params.id,u=Object(qe.b)(),d=Object(qe.c)((function(e){return e.missions.error})),b=Object(qe.c)((function(t){return t.missions.items.find((function(t){return t.id===e.match.params.id}))})),O=Object(qe.c)((function(e){return e.missions.loading})),h=Object(qe.c)((function(e){return e.authentication.user.user.id})),m=Object(qe.c)((function(e){return e.play_sessions?e.play_sessions.items[0]:{}})),f=Ne.missionsActions,x=Ne.play_sessionsActions,p=Ne.player_actionsActions;if(b&&(t=b.characters.filter((function(e){return e.tip})).length),s.a.useEffect((function(){return b&&u(Re(b.backgroundAudios[0].music[0].url)),function(){return u(Re(""))}}),[u,b]),s.a.useEffect((function(){l&&!b&&u(f.getById(e.match.params.id))}),[l,b,u,f,e.match.params.id]),s.a.useEffect((function(){if(a.tracking&&m){var e=function(e){u(p.create({play_session:m.id,data:{tag:e.target.nodeName,alt:e.target.alt,className:e.target.className,innerHTML:e.target.innerHTML.includes("<div")?null:e.target.innerHTML,clickTime:new Date}}))};return document.addEventListener("mousedown",e),o((function(t){return Object(c.a)(Object(c.a)({},t),{},{currentPlaySession:m,getClickedObject:e})})),function(){document.removeEventListener("mousedown",e)}}}),[u,p,a.tracking,m]),b&&0===a.locations.length){for(var g=b.characters.slice(0),v=b.locations.map((function(e){return{location:e,characters:[]}}));g.length>0;){for(var E=Math.floor(100*Math.random())%v.length,C=Math.floor(Math.random(0,g.length)),S=Object(ee.a)(g[C].answers),y=S.filter((function(e){return e.question.correct})),A=S.filter((function(e){return!e.question.correct})),T=[];T.length<4;){var k=T.length%2===0?y:A,w=Math.floor(Math.random(0,k.length));T.push(k[w]),k.splice(w,1)}if(Math.floor(Math.random(0,1)<.5)){var _=T[0];T[0]=T[1],T[1]=_}if(Math.floor(Math.random(0,1)>.5)){var L=T[2];T[2]=T[3],T[3]=L}console.log("selectedQuestions:",T),v[E].characters=[].concat(Object(ee.a)(v[E].characters),[Object(c.a)(Object(c.a)({},g[C]),{},{selectedQuestions:T})]),g.splice(C,1)}o(Object(c.a)(Object(c.a)({},a),{},{locations:v}))}var N=function(e){a.tracking&&u(x.create({usersPermissionsUser:h,mission:b.id})),o(Object(c.a)(Object(c.a)({},a),{},{tutorialStep:0,scene:"ROOM"}))},U=function(e){return function(){return o(Object(c.a)(Object(c.a)({},a),{},{currentChar:e,answers:a.locations[a.currentRoom].characters.find((function(t){return t.id===e.id})).selectedQuestions.slice(0,a.questionsByStep)}))}},R={dialogHistory:[],dialogStep:0,correct:0,faceState:"init"},q=function(){return o(Object(c.a)(Object(c.a)({},a),{},{currentChar:null},R))};return console.log(b),a.dialogHistory.length&&-1===a.spokenCharacters.indexOf(a.currentChar.name)&&a.spokenCharacters.push(a.currentChar.name),Object(i.jsx)("div",{id:"game2-wrapper",children:O?Object(i.jsx)("div",{children:"Loading..."}):d?Object(i.jsx)("div",{children:d}):b&&Object(i.jsxs)("div",{id:"game2-content",children:[Object(i.jsxs)("div",{id:"input-tracker",children:["TrackInput: ",Object(i.jsx)("input",{type:"checkbox",onChange:function(e){o(Object(c.a)(Object(c.a)({},a),{},{tracking:e.target.checked}))}})]}),function(){switch(a.scene){case"INIT":return Object(i.jsx)(ze,{name:b.name,description:b.description,onStart:N,onBack:function(){return o(Object(c.a)(Object(c.a)({},a),{},{back:!0}))}});case"TUTORIAL":return Object(i.jsxs)("div",{children:["Tutorial",Object(i.jsx)(Ke,{character:b.characters.find((function(e){return"Fuyuka"===e.name})),onClick:(e=b.characters.find((function(e){return"Fuyuka"===e.name})),function(){o(Object(c.a)(Object(c.a)({},a),{},{tutorialStep:a.tutorialStep+1,currentChar:e,answers:[{answer:"Olha, n\xe3o sei quem voc\xea est\xe1 procurando, cheguei aqui semana passada. A cabelereira deve saber!",question:{question:"Estou procurando algu\xe9m. Voc\xea pode me ajudar?"},close:!0}]}))})})]});case"ROOM":return Object(i.jsxs)("div",{id:"room-itself",children:[Object(i.jsx)(Je,{buttonList:b.locations.map((function(e,t){return t})),onChange:function(e){o(Object(c.a)(Object(c.a)({},a),{},{currentRoom:e}))}}),Object(i.jsx)(Xe,{roomData:a.locations[a.currentRoom],children:a.locations[a.currentRoom].characters.map((function(e,t){return Object(i.jsx)(Ke,{character:e,onClick:U(e)},t)}))})]});case"ENDGAME":return a.gameEndState?Object(i.jsxs)("div",{children:[Object(i.jsxs)("div",{className:"Title",children:[Object(i.jsx)("div",{children:b.name}),Object(i.jsx)("div",{children:b.nameTranslate})]}),0===a.tries?Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{children:"Muito bem! Voc\xea encontrou a pessoa na primeira tentativa. Vai arrasar na sua nova carreira!"}),Object(i.jsx)("div",{children:"Well done! You have found the right person on your first try. You're going to rock on your new career!"})]}):Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{children:"Voc\xea encontrou a pessoa certa! Parab\xe9ns!"}),Object(i.jsx)("div",{children:"You have found the right person! Congrats!"})]}),Object(i.jsxs)("div",{className:"ClueCounter",children:[Object(i.jsxs)("div",{children:[Object(i.jsx)("span",{children:a.tips.length}),"/",Object(i.jsx)("span",{children:t})]}),Object(i.jsx)("div",{children:"clues"})]}),Object(i.jsxs)("div",{children:[Object(i.jsxs)("div",{children:["After talking to ",a.spokenCharacters.length," people, you found ",a.tips.length," of the ",t," existing clues."]}),Object(i.jsxs)("div",{children:["Regarding the questions you asked, ",Object.keys(a.validQuestions).length," of them were useful."]})]}),Object(i.jsx)(Ie.a,{onClick:function(){return o(Object(c.a)({},tt))},children:"Tentar novamente"}),Object(i.jsx)(Ie.a,{onClick:function(){return o(Object(c.a)(Object(c.a)({},a),{},{back:!0}))},children:"Sair do jogo"})]}):Object(i.jsxs)("div",{children:[Object(i.jsxs)("div",{className:"Title",children:[Object(i.jsx)("div",{children:b.name}),Object(i.jsx)("div",{children:b.nameTranslate})]}),Object(i.jsxs)("div",{className:"Mensagem",children:[Object(i.jsx)("div",{children:"Voc\xea ainda n\xe3o encontrou a pessoa certa. Como voc\xea vai entender o que deve ser feito em seu novo trabalho? Voc\xea ainda precisa descobrir algumas dicas."}),Object(i.jsx)("div",{children:"You still haven't found the right person. How will you understand what has to be done in your new job? There are clues yet to be found."})]}),Object(i.jsxs)("div",{className:"ClueCounter",children:[Object(i.jsxs)("div",{children:[Object(i.jsx)("span",{children:a.tips.length}),"/",Object(i.jsx)("span",{children:t})]}),Object(i.jsx)("div",{children:"clues"})]}),Object(i.jsxs)("div",{children:[Object(i.jsxs)("div",{children:["After talking to ",a.spokenCharacters.length," people, you found ",a.tips.length," of the ",t," existing clues."]}),Object(i.jsxs)("div",{children:["Regarding the questions you asked, ",Object.keys(a.validQuestions).length," of them were useful. Try asking more relevant questions!"]})]}),Object(i.jsx)(Ie.a,{onClick:function(){return o(Object(c.a)({},tt))},children:"Tentar novamente"}),Object(i.jsx)(Ie.a,{onClick:function(){return o(Object(c.a)(Object(c.a)({},a),{},{back:!0}))},children:"Sair do jogo"})]})}var e}(),0===a.tutorialStep&&"TUTORIAL"===a.scene&&Object(i.jsx)("div",{style:{position:"absolute",top:100,left:100,width:500,height:300,backgroundColor:"#ddddee"},children:"Bal\xe3o tutorial"}),a.currentChar&&Object(i.jsxs)("div",{id:"conversa",className:"DialogPopUp",children:[Object(i.jsx)(it,{onClick:function(){return o(Object(c.a)(Object(c.a)({},a),{},{acusation:!0}))}}),Object(i.jsx)("div",{id:"fechar",onClick:q,children:Object(i.jsx)("span",{children:"\xd7"})}),Object(i.jsx)(rt,{character:a.currentChar,face:a.faceState}),Object(i.jsxs)("div",{id:"dialogos",children:[Object(i.jsx)(st,{dialogHistory:a.dialogHistory}),Object(i.jsx)(at,{buttonList:a.answers.reduce((function(e,t){return[].concat(Object(ee.a)(e),[Object(c.a)(Object(c.a)({},t),{},{text:t.question.question})])}),[]),onButtonClick:function(e){return function(){if(e.refresh)o(Object(c.a)(Object(c.a)(Object(c.a)({},a),R),{},{answers:a.locations[a.currentRoom].characters.find((function(e){return e.id===a.currentChar.id})).selectedQuestions.slice(0,a.questionsByStep)}));else if(e.close)e.tip&&o(Object(c.a)(Object(c.a)({},a),{},{tips:[].concat(Object(ee.a)(a),[e.tip])})),q();else{e.question.correct?(a.validQuestions.hasOwnProperty(e.question.question)?a.validQuestions[e.question.question]++:a.validQuestions[e.question.question]=0,a.faceState="rightQuestion"):a.faceState="wrongQuestion";var t={dialogHistory:[].concat(Object(ee.a)(a.dialogHistory),[e.question.question,e.answer]),dialogStep:a.dialogStep+1,correct:a.correct+(e.question.correct?1:0)};t.dialogStep!==a.totalDialogSteps?t.answers=a.locations[a.currentRoom].characters.find((function(e){return e.id===a.currentChar.id})).selectedQuestions.slice(a.questionsByStep*t.dialogStep,a.questionsByStep*(t.dialogStep+1)):t.correct<a.correctMinimum?(t.dialogHistory.push("N\xe3o estou entendendo. Quer come\xe7ar de novo?"),t.answers=[{refresh:!0,question:{question:"Sim"}},{close:!0,question:{question:"N\xe3o"}}]):t.answers=[{answer:a.currentChar.tip,question:{question:"Estou procurando algu\xe9m. Voc\xea pode me ajudar?",tip:a.currentChar.rightAnswer}}],o(Object(c.a)(Object(c.a)({},a),t))}}}})]})]}),a.acusation&&Object(i.jsxs)("div",{children:["Tem certeza?",Object(i.jsxs)("div",{children:["Dicas recebidas",a.tips.map((function(e,t){return Object(i.jsx)("div",{children:e},t)}))]}),Object(i.jsx)(Ie.a,{onClick:function(){a.tries<3&&a.currentChar.name!==a.targetName?(a.tries++,o(Object(c.a)(Object(c.a)({},a),{},{acusation:!1,faceState:"wrongAccusation"}))):o(Object(c.a)(Object(c.a)({},a),{},{acusation:!1,scene:"ENDGAME",gameEndState:a.currentChar.name===a.targetName,faceState:a.currentChar.name===a.targetName?"rightAccusation":"wrongAccusation"}))},children:"Yes"}),Object(i.jsx)(Ie.a,{onClick:function(){return o(Object(c.a)(Object(c.a)({},a),{},{acusation:!1}))},children:"No"})]}),a.back&&Object(i.jsx)(Ve.a,{to:"/userspace"})]})})};function jt(e){var t=e.component,n=(e.roles,e.render),r=Object($.a)(e,["component","roles","render"]);return Object(i.jsx)(Ve.b,Object(c.a)(Object(c.a)({},r),{},{render:function(e){return localStorage.getItem("user")?t?Object(i.jsx)(t,Object(c.a)({},e)):n&&n(e):Object(i.jsx)(Ve.a,{to:{pathname:"/login",state:{from:e.location}}})}}))}n(162);var lt=n(220),ut=n(209),dt=n(214),bt=n(210),Ot=n(208),ht=n(65),mt=n.n(ht),ft=n(168),xt=n(207),pt=Object(xt.a)((function(e){return{root:{height:"100vh"},image:{backgroundImage:"url(https://source.unsplash.com/random)",backgroundRepeat:"no-repeat",backgroundColor:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center"},paper:{margin:e.spacing(8,4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}})),gt=function(){var e=Object(r.useState)({email:"",password:""}),t=Object(j.a)(e,2),n=t[0],s=t[1],a=Object(r.useState)(!1),o=Object(j.a)(a,2),l=o[0],u=o[1],d=n.email,b=n.password,O=Object(qe.c)((function(e){return e.authentication.loggingIn})),h=Object(qe.c)((function(e){return e.authentication.user})),m=Object(qe.b)(),f=pt(),x=Object(De.c)();function p(e){var t=e.target,n=t.name,i=t.value;s((function(e){return Object(c.a)(Object(c.a)({},e),{},Object(ye.a)({},n,i))}))}return Object(i.jsxs)(Ot.a,{container:!0,component:"main",className:f.root,children:[h&&h.user?Object(i.jsx)(Ve.a,{to:"/userspace"}):null,Object(i.jsx)(ut.a,{}),Object(i.jsx)(Ot.a,{item:!0,xs:!1,sm:4,md:7,className:f.image}),Object(i.jsx)(Ot.a,{item:!0,xs:12,sm:8,md:5,component:bt.a,elevation:6,square:!0,children:Object(i.jsxs)("div",{className:f.paper,children:[Object(i.jsx)(lt.a,{className:f.avatar,children:Object(i.jsx)(mt.a,{})}),Object(i.jsx)(ft.a,{component:"h1",variant:"h5",children:"Sign in"}),Object(i.jsxs)("form",{onSubmit:function(e){e.preventDefault(),u(!0),d&&b?m(Ee(d,b)).catch((function(){x.error("Email and/or password invalid! Please, check your inputs and try again!")})):x.error("Email and/or password missing! Please, check your inputs and try again!")},className:f.form,noValidate:!0,children:[Object(i.jsx)(dt.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"E-mail",name:"email",autoComplete:"email",autoFocus:!0,className:"form-control"+(l&&!d?" is-invalid":""),onChange:p}),Object(i.jsx)(dt.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Senha",type:"password",id:"password",autoComplete:"current-password",className:"form-control"+(l&&!b?" is-invalid":""),onChange:p}),Object(i.jsxs)(Ie.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:f.submit,children:[O&&Object(i.jsx)("span",{className:"spinner-border spinner-border-sm mr-1"}),"Sign in"]}),Object(i.jsx)(Ot.a,{container:!0,justify:"flex-end",children:Object(i.jsx)(Ot.a,{item:!0,children:Object(i.jsx)(Fe.b,{to:"/register",variant:"body2",children:"Don't have an account yet? Sign up!"})})})]})]})})]})},vt=(n(164),function(){var e=Object(qe.c)((function(e){return e.authentication.user.user})),t=Object(qe.c)((function(e){return e.missions})),n=Object(qe.b)(),c=Ne.missionsActions;return s.a.useEffect((function(){n(c.getAll())}),[n,c]),Object(i.jsxs)("div",{id:"userspace",children:[Object(i.jsxs)("p",{children:["Oi ",e.username,"!"]}),Object(i.jsxs)("div",{id:"area-criacao",children:["\xc1rea de cria\xe7\xe3o",Object(i.jsx)("div",{children:Object(i.jsx)(Fe.b,{to:"/missions",children:"Ver Miss\xf5es"})}),Object(i.jsx)("div",{children:Object(i.jsx)(Fe.b,{to:"/characters",children:"Personagens"})}),Object(i.jsx)("div",{children:Object(i.jsx)(Fe.b,{to:"/questions",children:"Perguntas"})}),Object(i.jsx)("div",{children:Object(i.jsx)(Fe.b,{to:"/questionnaires",children:"Questionnaires"})}),Object(i.jsx)("div",{children:Object(i.jsx)(Fe.b,{to:"/playSessions",children:"Ver PlaySessions"})})]}),Object(i.jsxs)("div",{className:"jogos",children:[Object(i.jsx)("p",{children:"Jogar jogo 1"}),Object(i.jsx)("p",{children:"Miss\xf5es:"}),Object(i.jsx)(Fe.b,{to:"/game1/0",children:"Stub"}),Object(i.jsx)("div",{id:"missoes",children:t.loading?Object(i.jsx)("div",{id:"loading",children:"Loading..."}):t&&t.items.map((function(e,t){return Object(i.jsx)("div",{className:"missao",children:Object(i.jsxs)(Fe.b,{to:"/game1/".concat(e.id),children:[Object(i.jsx)("div",{id:"imagem"}),Object(i.jsxs)("div",{id:"card-text-wrapper",children:[Object(i.jsx)("div",{id:"nome-missao",children:e.name}),Object(i.jsx)("div",{id:"descricao",children:"Descri\xe7\xe3o"}),Object(i.jsx)("div",{id:"recompensas",children:"Recompensas"})]})]})},t)}))})]}),Object(i.jsxs)("div",{className:"jogos",children:[Object(i.jsx)("p",{children:"Jogar jogo 2"}),Object(i.jsx)("p",{children:"Miss\xf5es:"}),Object(i.jsx)(Fe.b,{to:"/game2/0",children:"Stub"}),Object(i.jsx)("div",{id:"missoes",children:t.loading?Object(i.jsx)("div",{children:"Loading..."}):t&&t.items.map((function(e,t){return Object(i.jsx)("div",{className:"missao",children:Object(i.jsxs)(Fe.b,{to:"/game2/".concat(e.id),children:[Object(i.jsx)("div",{id:"imagem"}),Object(i.jsxs)("div",{id:"card-text-wrapper",children:[Object(i.jsx)("div",{id:"nome-missao",children:e.name}),Object(i.jsx)("div",{id:"descricao",children:"Descri\xe7\xe3o"}),Object(i.jsx)("div",{id:"recompensas",children:"Recompensas"})]})]})},t)}))})]})]})}),Et=n(212),Ct=Object(xt.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}})),St=function(){var e=Ct(),t=Object(De.c)(),n=Object(r.useState)({email:"",password:"",username:"",firstName:"",lastName:""}),s=Object(j.a)(n,2),a=s[0],o=s[1],l=Object(r.useState)(!1),u=Object(j.a)(l,2),d=u[0],b=u[1],O=Object(qe.c)((function(e){return e.authentication.registering})),h=Object(qe.b)();function m(e){var t=e.target,n=t.name,i=t.value;o((function(e){return Object(c.a)(Object(c.a)({},e),{},Object(ye.a)({},n,i))}))}return Object(i.jsxs)(Et.a,{component:"main",maxWidth:"xs",children:[Object(i.jsx)(ut.a,{}),Object(i.jsxs)("div",{className:e.paper,children:[Object(i.jsx)(lt.a,{className:e.avatar,children:Object(i.jsx)(mt.a,{})}),Object(i.jsx)(ft.a,{component:"h1",variant:"h5",children:"Register"}),Object(i.jsxs)("form",{onSubmit:function(e){e.preventDefault(),b(!0),a.email&&a.password&&a.username?h(Ce(a)).then((function(){t.success("User registred!"),setTimeout((function(){window.location.href="/userspace"}),3e3)})).catch((function(e){t.error(e)})):t.error("Required fields missing! Please, check your inputs and try again!")},className:e.form,noValidate:!0,children:[Object(i.jsxs)(Ot.a,{container:!0,spacing:2,children:[Object(i.jsx)(Ot.a,{item:!0,xs:12,sm:6,children:Object(i.jsx)(dt.a,{autoComplete:"fname",name:"firstName",variant:"outlined",fullWidth:!0,id:"firstName",label:"First Name",autoFocus:!0,onChange:m})}),Object(i.jsx)(Ot.a,{item:!0,xs:12,sm:6,children:Object(i.jsx)(dt.a,{variant:"outlined",fullWidth:!0,id:"lastName",label:"Last Name",name:"lastName",autoComplete:"lname",onChange:m})}),Object(i.jsx)(Ot.a,{item:!0,xs:12,children:Object(i.jsx)(dt.a,{variant:"outlined",required:!0,fullWidth:!0,id:"username",label:"Username",name:"username",autoComplete:"username",className:d&&!a.username?"danger":"",onChange:m})}),Object(i.jsx)(Ot.a,{item:!0,xs:12,children:Object(i.jsx)(dt.a,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",className:d&&!a.email?"danger":"",onChange:m})}),Object(i.jsx)(Ot.a,{item:!0,xs:12,children:Object(i.jsx)(dt.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",className:d&&!a.password?"danger":"",onChange:m})})]}),Object(i.jsxs)(Ie.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit,children:[O&&Object(i.jsx)("span",{className:"spinner-border spinner-border-sm mr-1"}),"Sign Up"]}),Object(i.jsx)(Ot.a,{container:!0,justify:"flex-end",children:Object(i.jsx)(Ot.a,{item:!0,children:Object(i.jsx)(Fe.b,{to:"/login",variant:"body2",children:"Already have an account? Sign in!"})})})]})]})]})},yt=function(e){var t=e.user;return Object(i.jsxs)("div",{children:["Username: ",t.username,"Email: ",t.email,"Provider: ",t.provider,"Confirmed: ",Object(i.jsx)("input",{type:"checkbox",checked:t.confirmed}),"Blocked: ",Object(i.jsx)("input",{type:"checkbox",checked:t.blocked})]})},At=function(){var e=Object(qe.b)(),t=Object(qe.c)((function(e){return e.users}));return s.a.useEffect((function(){e(ve.getAll())}),[e]),console.log("users:",t),Object(i.jsxs)("div",{children:[Object(i.jsxs)("div",{children:["Create User:",Object(i.jsx)(St,{})]}),Object(i.jsxs)("div",{children:["All Users:",t&&t.items?t.items.map((function(t,n){return Object(i.jsxs)("div",{children:[Object(i.jsx)(yt,{user:t}),Object(i.jsx)("button",{onClick:function(){},children:"UPDATE USER"}),Object(i.jsx)("button",{onClick:function(){return e(ve.delete(t.id))},children:"DELETE USER"})]},n)})):null]})]})},Tt=n(51),kt=n.n(Tt),wt=n(39),_t=n.n(wt),Lt=n(66),Nt=n.n(Lt),Ut=function(e){var t=e.mission;return Object(i.jsxs)("div",{children:[Object(i.jsxs)("div",{children:["Nome: ",t.name]}),Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{children:"Descri\xe7\xe3o:"}),Object(i.jsx)("div",{children:t.description})]})]})},Rt=n(44),qt=n.n(Rt),Dt=n(43),It=n.n(Dt),Pt=n(104),Mt=n.n(Pt),Gt=function(e){var t=e.character,n=function(e){var n=t.answers.find((function(t){return t.question&&t.question.id===e}));return n?n.answer:""};return Object(i.jsxs)("div",{style:{borderStyle:"groove",borderRadius:5},children:[Object(i.jsxs)("div",{style:{borderStyle:"groove",borderRadius:5},children:[Object(i.jsxs)("div",{children:["Name: ",t.name]}),Object(i.jsxs)("div",{children:[t.characterAssets&&t.characterAssets.length>0?t.characterAssets.map((function(e,n){return Object(i.jsx)("div",{children:Object(i.jsx)("img",{src:"".concat(t.characterAssets[n].image[0].url),alt:e.name})},n)})):"nenhum",t.characterAssets&&Object(i.jsxs)("div",{children:["Layers: ",t.characterAssets.length]})]}),Object(i.jsxs)("div",{children:["Job: ",t.job]}),Object(i.jsxs)("div",{children:["Civil state: ",t.civilState]})]}),Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{children:" Miss\xf5es que participa: "}),t.missions&&t.missions.map((function(e,t){return Object(i.jsxs)("div",{children:[Object(i.jsxs)("div",{children:[t+1,": ",e.name]}),e.questions.map((function(e,t){return Object(i.jsxs)("div",{children:[Object(i.jsxs)("div",{children:["Pergunta: ",e.question]}),Object(i.jsxs)("div",{children:["Resposta: ",n(e.id)]})]},t)}))]},t)})),Object(i.jsxs)("div",{children:["Errou alguma: ",t.wrongAnswer]}),Object(i.jsxs)("div",{children:["Acertou o suficiente: ",t.rightAnswer]}),Object(i.jsxs)("div",{children:["Dica: ",t.tip]}),Object(i.jsxs)("div",{children:["Resposta \xe0 acusa\xe7\xe3o: ",t.acusationAnswer]}),Object(i.jsxs)("div",{children:["Despedida: ",t.endDialog]})]})]})},Qt=function(e){var t=e.question;return console.log(t),Object(i.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[Object(i.jsx)("span",{children:t.question})," ",Object(i.jsx)("span",{children:t.correct.toString()})]})},Bt=function(e){var t=e.mission,n=e.onDone,r=s.a.useState(t),a=Object(j.a)(r,2),o=a[0],l=a[1];console.log(t);var u=s.a.useState(t.characters),d=Object(j.a)(u,2),b=d[0],O=d[1],h=s.a.useState(t.locations),m=Object(j.a)(h,2),f=m[0],x=m[1],p=s.a.useState(t.questions),g=Object(j.a)(p,2),v=g[0],E=g[1],C=Object(qe.c)((function(e){return e.characters})),S=Object(qe.c)((function(e){return e.locations})),y=Object(qe.c)((function(e){return e.questions})),A=function(e){return function(){O([].concat(Object(ee.a)(b),[e]))}},T=function(e){return function(){O(b.filter((function(t){return t.id!==e.id})))}},k=function(e){return function(){x([].concat(Object(ee.a)(f),[e]))}},w=function(e){return function(){x(f.filter((function(t){return t.id!==e.id})))}},_=function(e){return function(){E([].concat(Object(ee.a)(v),[e]))}},L=function(e){return function(){E(v.filter((function(t){return t.id!==e.id})))}};return Object(i.jsxs)("div",{children:[Object(i.jsxs)("div",{children:["Nome: ",Object(i.jsx)("input",{value:o.name,onChange:function(e){return l(Object(c.a)(Object(c.a)({},o),{},{name:e.target.value}))}})]}),Object(i.jsxs)("div",{children:["Descri\xe7\xe3o: ",Object(i.jsx)("input",{value:o.description,onChange:function(e){return l(Object(c.a)(Object(c.a)({},o),{},{description:e.target.value}))}})]}),Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{children:"Personagens na miss\xe3o:"}),b.map((function(e,t){return Object(i.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[Object(i.jsx)(Ie.a,{onClick:T(e),children:Object(i.jsx)(It.a,{})}),Object(i.jsx)(Gt,{character:e})]},t)}))]}),Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{children:"Personagens dispon\xedveis"}),C.items&&C.items.length>0&&C.items.filter((function(e){return!b.find((function(t){return t.id===e.id}))})).map((function(e,t){return Object(i.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[Object(i.jsx)(Ie.a,{onClick:A(e),children:Object(i.jsx)(qt.a,{})}),Object(i.jsx)(Gt,{character:e})]},t)}))]}),Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{children:"Locais na miss\xe3o:"}),f.map((function(e,t){return Object(i.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[Object(i.jsx)(Ie.a,{onClick:w(e),children:Object(i.jsx)(It.a,{})}),Object(i.jsx)("div",{children:e.name})]},t)}))]}),Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{children:"Locais dispon\xedveis"}),S.items&&S.items.length>0&&S.items.filter((function(e){return!f.find((function(t){return t.id===e.id}))})).map((function(e,t){return Object(i.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[Object(i.jsx)(Ie.a,{onClick:k(e),children:Object(i.jsx)(qt.a,{})}),Object(i.jsx)("div",{children:e.name})]},t)}))]}),Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{children:"Questions:"}),v.map((function(e,t){return Object(i.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[Object(i.jsx)(Ie.a,{onClick:L(e),children:Object(i.jsx)(It.a,{})}),Object(i.jsx)(Qt,{question:e})]},t)}))]}),Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{children:"Preset questions"}),y.items&&y.items.length>0&&y.items.filter((function(e){return!v.find((function(t){return t.id===e.id}))})).map((function(e,t){return Object(i.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[Object(i.jsx)(Ie.a,{onClick:_(e),children:Object(i.jsx)(qt.a,{})}),Object(i.jsx)(Qt,{question:e})]},t)}))]}),Object(i.jsx)(Ie.a,{onClick:function(){var e={id:o.id,name:o.name,description:o.description};e.characters=b.reduce((function(e,t){return[].concat(Object(ee.a)(e),[t.id])}),[]),e.locations=f.reduce((function(e,t){return[].concat(Object(ee.a)(e),[t.id])}),[]),e.questions=v.reduce((function(e,t){return[].concat(Object(ee.a)(e),[t.id])}),[]),n(e)},children:Object(i.jsx)(Mt.a,{})})]})},Ft=function(){var e=Ne.missionsActions,t=Object(qe.b)(),n=Object(qe.c)((function(e){return e.missions})),c=s.a.useState(!1),r=Object(j.a)(c,2),a=r[0],o=r[1],l=s.a.useState(-1),u=Object(j.a)(l,2),d=u[0],b=u[1];return s.a.useEffect((function(){b(-1),o(!1)}),[n]),s.a.useEffect((function(){t(e.getAll())}),[t,e]),Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{children:"Miss\xf5es"}),n.items&&n.items.length>0&&n.items.map((function(n,c){return Object(i.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[d!==c?Object(i.jsx)(Ut,{mission:n},c):Object(i.jsx)(Bt,{mission:n,onDone:function(n){b(-1),t(e.update(n))}}),d!==c?Object(i.jsx)(Ie.a,{children:Object(i.jsx)(Fe.b,{to:"missions/edit/".concat(n.id),children:Object(i.jsx)(_t.a,{})})}):Object(i.jsx)(Ie.a,{onClick:function(){return b(-1)},children:Object(i.jsx)(Nt.a,{})}),Object(i.jsx)(Ie.a,{onClick:function(){return t(e.delete(n.id))},children:Object(i.jsx)(kt.a,{})})]},c)})),Object(i.jsx)(Ie.a,{onClick:function(){return o(!a)},children:a?"Cancelar":"Criar Miss\xe3o"}),a&&Object(i.jsx)(Ve.a,{to:"missions/create"})]})},Ht=n(217),Vt=function(){var e=Ne.charactersActions,t=s.a.useState(""),n=Object(j.a)(t,2),c=n[0],r=n[1],a=s.a.useState(""),o=Object(j.a)(a,2),l=o[0],u=o[1],d=s.a.useState("single"),b=Object(j.a)(d,2),O=b[0],h=b[1],m=["single","married","divorced","widowed"],f=["solteir@","casad@","divorciad@","vi\xfav@"],x=Object(qe.b)(),p=Object(De.c)();return Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{children:"Criador de personagens:"}),Object(i.jsxs)("div",{children:["Nome: ",Object(i.jsx)("input",{type:"text",value:c,onChange:function(e){return r(e.target.value)}})," "]}),Object(i.jsxs)("div",{children:["Trabalho: ",Object(i.jsx)("input",{type:"text",value:l,onChange:function(e){return u(e.target.value)}})," "]}),Object(i.jsxs)("div",{children:["Estado civil:",m.map((function(e,t){return Object(i.jsxs)("div",{children:[Object(i.jsx)(Ht.a,{checked:O===m[t],value:m[t],onChange:function(e){return h(e.target.value)}}),f[t]]},t)}))]}),Object(i.jsx)("button",{onClick:function(){console.log("called"),x(e.create({name:c,job:l,civilState:O})).then((function(){p.success("Character created!")})).catch((function(e){p.error(e)})),r(""),u("")},children:"Criar"})]})},Yt=function(){var e=s.a.useState({name:""}),t=Object(j.a)(e,2),n=t[0],r=t[1],a=Object(qe.b)(),o=Ne.locationsActions;return Object(i.jsxs)("div",{children:["Nome: ",Object(i.jsx)("input",{value:n.name,onChange:function(e){return r(Object(c.a)(Object(c.a)({},n),{},{name:e.target.value}))},placeholder:"Sala de estar"}),Object(i.jsx)(Ie.a,{onClick:function(){a(o.create(n)),r({name:""})},children:"Salvar"})]})},zt=n(211),Wt=n(219),Jt=n(213),Xt=Object(xt.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}})),Kt=function(){var e=Ne.questionsActions,t=Object(qe.b)(),n=Object(r.useState)({question:"",group:0,correct:!0}),s=Object(j.a)(n,2),a=s[0],o=s[1],l=Xt(),u=Object(qe.c)((function(e){return e.authentication.registering}));return Object(i.jsxs)(Et.a,{component:"main",maxWidth:"sm",children:[Object(i.jsx)(ut.a,{}),Object(i.jsxs)("div",{className:l.paper,children:[Object(i.jsx)(ft.a,{component:"h1",variant:"h5",children:"Create Question"}),Object(i.jsxs)("form",{id:"create-question-form",onSubmit:function(n){n.preventDefault(),console.log("inputs",a),t(e.create(a))},className:l.form,noValidate:!0,children:[Object(i.jsxs)(Ot.a,{container:!0,spacing:2,children:[Object(i.jsx)(Ot.a,{item:!0,xs:12,children:Object(i.jsx)(dt.a,{type:"textArea",name:"question",variant:"outlined",id:"question",label:"Question",fullWidth:!0,required:!0,className:"",onChange:function(e){o((function(t){return Object(c.a)(Object(c.a)({},t),{},{question:e.target.value})}))}})}),Object(i.jsxs)(Ot.a,{item:!0,xs:12,sm:6,children:[Object(i.jsx)(dt.a,{type:"number",variant:"outlined",fullWidth:!0,id:"group",label:"Group",name:"group",required:!0,"aria-describedby":"my-helper-text",className:"",onChange:function(e){o((function(t){return Object(c.a)(Object(c.a)({},t),{},{group:parseInt(e.target.value)})}))}}),Object(i.jsx)("span",{id:"my-helper-text",children:"Group is a integer that defines the which questions to show in every step. For example, if a question is group 1, it will be displayed on the first user interaction with a character."})]}),Object(i.jsxs)(Ot.a,{item:!0,xs:12,sm:6,justify:"center",children:[Object(i.jsx)(zt.a,{component:"legend",children:"Is question correct?"}),Object(i.jsxs)(Wt.a,{"aria-label":"correct",id:"correct",name:"correct",value:a.correct.toString(),required:!0,onChange:function(e){o((function(t){return Object(c.a)(Object(c.a)({},t),{},{correct:"true"===e.target.value})}))},children:[Object(i.jsx)(Jt.a,{value:"true",control:Object(i.jsx)(Ht.a,{}),label:"Correct"}),Object(i.jsx)(Jt.a,{value:"false",control:Object(i.jsx)(Ht.a,{}),label:"Incorrect"})]})]})]}),Object(i.jsxs)(Ie.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:l.submit,children:[u&&Object(i.jsx)("span",{className:"spinner-border spinner-border-sm mr-1"}),"Create"]})]})]})]})},Zt=function(e){var t=Object(qe.b)(),n=e&&e.match?e.match.params.id:null,r=Object(qe.c)((function(e){return n&&e.missions.items.length>0?e.missions.items.filter((function(e){return e.id===n}))[0]:null})),a=Object(qe.c)((function(e){return e.characters})),o=Object(qe.c)((function(e){return e.locations})),l=Object(qe.c)((function(e){return e.questions})),u=s.a.useState({mission:{name:"",description:"",characters:[],locations:[],questions:[]},characterDetails:null}),d=Object(j.a)(u,2),b=d[0],O=d[1];r&&!b.mission.id&&O(Object(c.a)(Object(c.a)({},b),{},{mission:Object(c.a)({},r)})),s.a.useEffect((function(){n&&!r&&t(Ne.missionsActions.getById(n)),0===a.items.length&&t(Ne.charactersActions.getAll()),0===o.items.length&&t(Ne.locationsActions.getAll()),0===l.items.length&&t(Ne.questionsActions.getAll())}),[t,n,r,l.items.length,o.items.length,a.items.length]);var h=s.a.useState(!1),m=Object(j.a)(h,2),f=m[0],x=m[1],p=s.a.useState(!1),g=Object(j.a)(p,2),v=g[0],E=g[1],C=s.a.useState(!1),S=Object(j.a)(C,2),y=S[0],A=S[1],T=function(e,t){return function(){O(Object(c.a)(Object(c.a)({},b),{},{mission:Object(c.a)(Object(c.a)({},b.mission),{},Object(ye.a)({},e,[].concat(Object(ee.a)(b.mission[e]),[t])))}))}},k=function(e,t){return function(){O(Object(c.a)(Object(c.a)({},b),{},{mission:Object(c.a)(Object(c.a)({},b.mission),{},Object(ye.a)({},e,b.mission[e].filter((function(e){return e.id!==t.id}))))}))}},w=function(e){return function(){O(Object(c.a)(Object(c.a)({},b),{},{characterDetails:e}))}};return Object(i.jsx)("div",{children:Object(i.jsxs)("div",{style:{display:"flex",flexGrow:1,flexShrink:1,flexBasis:0,flexDirection:"row"},children:[Object(i.jsxs)("div",{children:[Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{children:"Nome:"}),Object(i.jsx)("div",{children:Object(i.jsx)("input",{type:"text",value:b.mission.name,onChange:function(e){return O(Object(c.a)(Object(c.a)({},b),{},{mission:Object(c.a)(Object(c.a)({},b.mission),{},{name:e.target.value})}))},placeholder:"Miss\xe3o maneira"})})]}),Object(i.jsx)("div",{children:"Texto da miss\xe3o:"}),Object(i.jsx)("textarea",{value:b.mission.description,onChange:function(e){return O(Object(c.a)(Object(c.a)({},b),{},{mission:Object(c.a)(Object(c.a)({},b.mission),{},{description:e.target.value})}))}}),Object(i.jsx)("div",{children:n?Object(i.jsx)(Ie.a,{onClick:function(){var e=Object(c.a)({},b.mission);t(Ne.missionsActions.update(e))},children:"Salvar Miss\xe3o"}):Object(i.jsx)(Ie.a,{onClick:function(){var e=Object(c.a)({},b.mission);t(Ne.missionsActions.create(e))},children:"Criar Miss\xe3o"})}),Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{children:"Personagens na miss\xe3o:"}),b.mission.characters.map((function(e,t){return Object(i.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[Object(i.jsx)(Ie.a,{onClick:k("characters",e),children:Object(i.jsx)(It.a,{})}),Object(i.jsx)(Ie.a,{onClick:w(e),children:e.name})]},t)}))]}),Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{children:"Locais na miss\xe3o:"}),b.mission.locations.map((function(e,t){return Object(i.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[Object(i.jsx)(Ie.a,{onClick:k("locations",e),children:Object(i.jsx)(It.a,{})}),Object(i.jsx)("div",{children:e.name})]},t)}))]}),Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{children:"Questions:"}),b.mission.questions.map((function(e,t){return Object(i.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[Object(i.jsx)(Ie.a,{onClick:k("questions",e),children:Object(i.jsx)(It.a,{})}),Object(i.jsx)(Qt,{question:e})]},t)}))]})]}),Object(i.jsxs)("div",{children:[Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{children:"Personagens dispon\xedveis"}),a.items&&a.items.length>0&&a.items.filter((function(e){return!b.mission.characters.find((function(t){return t.id===e.id}))})).map((function(e,t){return Object(i.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[Object(i.jsx)(Ie.a,{onClick:T("characters",e),children:Object(i.jsx)(qt.a,{})}),Object(i.jsx)(Ie.a,{onClick:w(e),children:e.name})]},t)})),Object(i.jsx)(Ie.a,{onClick:function(){return x(!f)},children:f?"Cancelar":"Criar personagem"}),f&&Object(i.jsx)(Vt,{})]}),Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{children:"Locais dispon\xedveis"}),o.items&&o.items.length>0&&o.items.filter((function(e){return!b.mission.locations.find((function(t){return t.id===e.id}))})).map((function(e,t){return Object(i.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[Object(i.jsx)(Ie.a,{onClick:T("locations",e),children:Object(i.jsx)(qt.a,{})}),Object(i.jsx)("div",{children:e.name})]},t)})),Object(i.jsx)(Ie.a,{onClick:function(){return E(!v)},children:v?"Cancelar":"Criar local"}),v&&Object(i.jsx)(Yt,{})]}),Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{children:"Preset questions"}),l.items&&l.items.length>0&&l.items.filter((function(e){return!b.mission.questions.find((function(t){return t.id===e.id}))})).map((function(e,t){return Object(i.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[Object(i.jsx)(Ie.a,{onClick:T("questions",e),children:Object(i.jsx)(qt.a,{})}),Object(i.jsx)(Qt,{question:e})]},t)})),Object(i.jsx)(Ie.a,{onClick:function(){return A(!y)},children:y?"Cancel":"Create question"}),y&&Object(i.jsx)(Kt,{})]})]}),Object(i.jsxs)("div",{children:[Object(i.jsx)("h5",{children:"Detalhes do personagem:"}),b.characterDetails&&Object(i.jsx)(Gt,{character:b.characterDetails})]})]})})},$t=n(105),en=n.n($t),tn=function(e){var t=e.character,n=e.onDone,r=s.a.useState({name:t.name,job:t.job?t.job:"",id:t.id,answers:t.answers?Object(ee.a)(t.answers):[]}),a=Object(j.a)(r,2),o=a[0],l=a[1],u=function(e,n){return function(i){console.log("question:",e);var r=en.a.cloneDeep(t.answers.find((function(t){return t.question&&t.question.id===e.id}))),s=Object(c.a)(Object(c.a)({},o.answers[n]),{},{answer:i.target.value});r||(s.question=e.id),l(Object(c.a)(Object(c.a)({},o),{},{answers:[].concat(Object(ee.a)(o.answers.slice(0,n)),[s],Object(ee.a)(o.answers.slice(n+1)))}))}},d=function(e){var t=o.answers.find((function(t){return t.question&&t.question.id?t.question.id===e:t.question===e}));return console.log("a:",t),t?t.answer:""};return Object(i.jsx)("div",{children:Object(i.jsxs)("div",{children:[Object(i.jsx)("input",{type:"text",value:o.name,onChange:function(e){return l(Object(c.a)(Object(c.a)({},o),{},{name:e.target.value}))}}),Object(i.jsx)("input",{type:"text",value:o.job,onChange:function(e){return l(Object(c.a)(Object(c.a)({},o),{},{job:e.target.value}))}}),Object(i.jsx)("div",{children:t.civilState}),Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{children:"Miss\xf5es que participa:"}),t.missions.map((function(e,t){return Object(i.jsxs)("div",{children:[Object(i.jsxs)("div",{children:[t+1,": ",e.name]}),Object(i.jsx)("div",{children:e.questions.map((function(e,t){return Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{children:e.question}),Object(i.jsx)("input",{type:"text",value:d(e.id),onChange:u(e,t),placeholder:"Resposta"})]},t)}))})]},t)})),Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{children:"Errou alguma op\xe7\xe3o:"}),Object(i.jsx)("input",{type:"text",value:t.wrongAnswer,onChange:function(e){return l(Object(c.a)(Object(c.a)({},o),{},{wrongAnswer:e.target.value}))},placeholder:"Errou alguma"})]}),Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{children:"Acertou o suficiente:"}),Object(i.jsx)("input",{type:"text",value:t.rightAnswer,onChange:function(e){return l(Object(c.a)(Object(c.a)({},o),{},{rightAnswer:e.target.value}))},placeholder:"Acertou o suficiente"})]}),Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{children:"Dica:"}),Object(i.jsx)("input",{type:"text",value:t.tip,onChange:function(e){return l(Object(c.a)(Object(c.a)({},o),{},{tip:e.target.value}))},placeholder:"Dica"})]}),Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{children:"Resposta da acusa\xe7\xe3o:"}),Object(i.jsx)("input",{type:"text",value:t.acusationAnswer,onChange:function(e){return l(Object(c.a)(Object(c.a)({},o),{},{acusationAnswer:e.target.value}))},placeholder:"Resposta \xe0 acusa\xe7\xe3o"})]}),Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{children:"Despedida:"}),Object(i.jsx)("input",{type:"text",value:t.endDialog,onChange:function(e){return l(Object(c.a)(Object(c.a)({},o),{},{endDialog:e.target.value}))},placeholder:"Despedida"})]})]}),Object(i.jsx)("button",{onClick:n(o),children:"Salvar"})]})})},nn=function(e){e.onAdd;var t=Ne.charactersActions,n=s.a.useState(!1),c=Object(j.a)(n,2),r=c[0],a=c[1],o=s.a.useState(-1),l=Object(j.a)(o,2),u=l[0],d=l[1],b=Object(qe.b)(),O=Object(qe.c)((function(e){return e.characters}));return s.a.useEffect((function(){b(t.getAll())}),[b,t]),s.a.useEffect((function(){d(-1)}),[O]),Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{children:"\xc1rea de personagens"}),Object(i.jsxs)("button",{onClick:function(){return a(!r)},children:[r?"Cancelar":"Criar personagem"," "]}),r&&Object(i.jsx)(Vt,{}),Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{children:"All Characters:"}),O.loading&&Object(i.jsx)("div",{children:"Loading..."}),Object(i.jsxs)("div",{children:[Object(i.jsx)("span",{children:"Nome"})," ",Object(i.jsx)("span",{children:"Estado civil"})," ",Object(i.jsx)("span",{children:"Trabalho"})]}),Object(i.jsx)("div",{children:O.items.map((function(e,n){return Object(i.jsxs)(s.a.Fragment,{children:[u===n?Object(i.jsxs)("div",{children:[Object(i.jsx)(tn,{character:e,onDone:function(e){return function(){return b(t.update(e))}}}),Object(i.jsx)(Ie.a,{onClick:function(){return d(-1)},children:Object(i.jsx)(Nt.a,{})})]}):Object(i.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[Object(i.jsx)(Gt,{character:e}),Object(i.jsx)(Ie.a,{onClick:function(){return d(n)},children:Object(i.jsx)(_t.a,{})})]}),Object(i.jsx)("br",{})]},n)}))})]})]})},cn=function(e){e.onAdd;var t=Ne.questionsActions,n=s.a.useState(!1),c=Object(j.a)(n,2),r=c[0],a=c[1],o=Object(qe.b)(),l=Object(qe.c)((function(e){return e.questions}));s.a.useEffect((function(){0===l.items.length&&o(t.getAll())}),[o,t,l.items.length]);var u=function(e){return function(){return o(t.delete(e.id))}};return Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{children:"Questions"}),Object(i.jsxs)("button",{onClick:function(){return a(!r)},children:[r?"Cancelar":"Criar pergunta"," "]}),r&&Object(i.jsx)(Kt,{}),Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{children:"All questions:"}),Object(i.jsxs)("div",{children:[Object(i.jsx)("span",{children:"Question"})," ",Object(i.jsx)("span",{children:"Correct"})]}),Object(i.jsx)("div",{children:l.items.map((function(e,t){return Object(i.jsxs)("div",{children:[Object(i.jsx)(Qt,{question:e}),Object(i.jsx)(Ie.a,{onClick:function(){},children:Object(i.jsx)(_t.a,{})}),Object(i.jsx)(Ie.a,{onClick:u(e),children:Object(i.jsx)(kt.a,{})})]},t)}))})]})]})},rn=n(106),sn=n.n(rn),an=function(e){e.onAdd;var t=Ne.questionnairesActions,n=Object(qe.b)(),c=Object(qe.c)((function(e){return e.questionnaires}));s.a.useEffect((function(){0===c.items.length&&n(t.getAll())}),[n,t,c.items.length]);var r=function(e){return function(){return n(t.delete(e.id))}};return Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{children:"Questionnaires"}),Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{children:"All questionnaires:"}),Object(i.jsx)("div",{children:Object(i.jsx)("span",{children:"Questionnaire"})}),Object(i.jsx)("div",{children:c.items.map((function(e,t){return Object(i.jsxs)("div",{children:[Object(i.jsx)(sn.a,{questionnaire:e}),Object(i.jsx)(Ie.a,{onClick:function(){},children:Object(i.jsx)(_t.a,{})}),Object(i.jsx)(Ie.a,{onClick:r(e),children:Object(i.jsx)(kt.a,{})})]},t)}))})]})]})},on=function(){var e=Object(qe.b)(),t=Object(qe.c)((function(e){return e.play_sessions.items})),n=Ne.play_sessionsActions;return s.a.useEffect((function(){e(n.getAll())}),[e,n]),Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{children:"PlaySessions:"}),t.length>0&&t.map((function(e,t){return Object(i.jsxs)("div",{children:[Object(i.jsxs)("div",{children:["User: ",e.usersPermissionsUser.firstName," ",e.usersPermissionsUser.lastName]}),Object(i.jsxs)("div",{children:["Miss\xe3o: ",e.mission.name]}),Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{children:"PlayerActions:"}),e.player_actions.map((function(e,t){return Object(i.jsxs)("div",{children:["TAG:",e.data.tag]},t)}))]})]},t)}))]})},jn=(n(166),function(e){return Object(i.jsx)("div",{id:"config-dialog",children:e.children})}),ln=function(e){var t=e.onConfig,n=e.onStatistics,c=e.onLeave,r=e.onClose;return Object(i.jsxs)(jn,{children:[Object(i.jsxs)("div",{className:"config-option",onClick:t,children:[Object(i.jsx)("span",{lang:"pt-br",children:"Configura\xe7\xf5es de jogo"}),Object(i.jsx)("div",{className:"divider"}),Object(i.jsx)("span",{lang:"en",children:"Game settings"})]}),Object(i.jsxs)("div",{className:"config-option",onClick:n,children:[Object(i.jsx)("span",{lang:"pt-br",children:"Estat\xedsticas"}),Object(i.jsx)("div",{className:"divider"}),Object(i.jsx)("span",{lang:"en",children:"Statistics"})]}),Object(i.jsxs)("div",{className:"config-option",onClick:c,children:[Object(i.jsx)("span",{lang:"pt-br",children:"Sair do jogo"}),Object(i.jsx)("div",{className:"divider"}),Object(i.jsx)("span",{lang:"en",children:"Leave game"})]}),Object(i.jsx)("div",{id:"config-fechar",onClick:r,children:"\xd7"})]})},un=n(107),dn=n.n(un),bn=n(108),On=n.n(bn),hn=n(221),mn=n(218),fn=function(e){var t=e.onVolumeMute,n=e.onVolumeUp,c=e.volume,r=e.onVolumeChange,s=e.fontSize,a=e.onFontSizeChange,o=e.assistMode,j=e.onAssistModeChange,l=e.onAccessibilityLeft,u=e.onAccessibilityRight,d=e.onBack,b=e.onClose;return Object(i.jsxs)(jn,{children:[Object(i.jsxs)("div",{id:"title",children:[Object(i.jsx)("span",{lang:"pt-br",children:"Configura\xe7\xf5es de jogo"}),Object(i.jsx)("div",{className:"divider"}),Object(i.jsx)("span",{lang:"en",children:"Game settings"})]}),Object(i.jsxs)("table",{id:"game-options",children:[Object(i.jsxs)("tr",{children:[Object(i.jsxs)("td",{children:[Object(i.jsx)("span",{lang:"pt-br",children:"Volume"}),Object(i.jsx)("span",{lang:"en",children:"Volume"})]}),Object(i.jsxs)("td",{children:[Object(i.jsx)(Ie.a,{onClick:t,children:Object(i.jsx)(dn.a,{})}),Object(i.jsx)(hn.a,{value:c,onChange:r}),Object(i.jsx)(Ie.a,{onClick:n,children:Object(i.jsx)(On.a,{})})]})]}),Object(i.jsxs)("tr",{children:[Object(i.jsxs)("td",{children:[Object(i.jsx)("span",{lang:"pt-br",children:"Tamanho da fonte"}),Object(i.jsx)("span",{lang:"en",children:"Font size"})]}),Object(i.jsx)("td",{children:Object(i.jsx)(hn.a,{value:s,onChange:a})})]}),Object(i.jsxs)("tr",{children:[Object(i.jsxs)("td",{children:[Object(i.jsx)("span",{lang:"pt-br",children:"Modo assist\xeancia"}),Object(i.jsx)("span",{lang:"en",children:"Assist mode"})]}),Object(i.jsx)("td",{children:Object(i.jsx)(mn.a,{checked:o,onChange:j})})]}),Object(i.jsxs)("tr",{children:[Object(i.jsxs)("td",{children:[Object(i.jsx)("span",{lang:"pt-br",children:"Acessibilidade"}),Object(i.jsx)("span",{lang:"en",children:"Accessibility"})]}),Object(i.jsxs)("td",{children:[Object(i.jsxs)(Ie.a,{onClick:l,children:[" ","<"," "]}),"Tipo",Object(i.jsxs)(Ie.a,{onClick:u,children:[" ",">"," "]})]})]}),Object(i.jsx)("tr",{children:Object(i.jsx)("td",{colspan:"2",children:Object(i.jsx)(Ie.a,{onClick:d,children:"Voltar"})})})]}),Object(i.jsx)("div",{id:"config-fechar",onClick:b,children:"\xd7"})]})},xn=n(109),pn=n.n(xn),gn=function(e){var t=s.a.useState({volume:15,fontSize:12,assistMode:!1,accessibility:"NONE",gameConfig:!1,back:!1,config:!1}),n=Object(j.a)(t,2),r=n[0],a=n[1],o=Object(qe.b)(),l=Object(qe.c)((function(e){return e.music})),u=e.children;return u=Object(c.a)(Object(c.a)({},u),{},{props:Object(c.a)({},e)}),s.a.useEffect((function(){return o(Ue(!0)),function(){return o(Ue(!1))}}),[o]),Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{id:"floating-config-btn",onClick:function(){return a(Object(c.a)(Object(c.a)({},r),{},{config:!0}))},children:Object(i.jsx)("img",{src:b,alt:"config"})}),Object(i.jsx)(pn.a,{src:l.url,autoPlay:!0,volume:r.volume/100}),r.config&&Object(i.jsx)(ln,{onConfig:function(){return a(Object(c.a)(Object(c.a)({},r),{},{config:!1,gameConfig:!0}))},onStatistics:function(){},onLeave:function(){return a(Object(c.a)(Object(c.a)({},r),{},{back:!0}))},onClose:function(){return a(Object(c.a)(Object(c.a)({},r),{},{config:!1}))}}),r.gameConfig&&Object(i.jsx)(fn,{volume:r.volume,onVolumeMute:function(){return a(Object(c.a)(Object(c.a)({},r),{},{volume:0}))},onVolumeUp:function(){return a(Object(c.a)(Object(c.a)({},r),{},{volume:100}))},onVolumeChange:function(e,t){return a(Object(c.a)(Object(c.a)({},r),{},{volume:t}))},fontSize:r.fontSize,onFontSizeChange:function(e,t){return a(Object(c.a)(Object(c.a)({},r),{},{fontSize:t}))},assistMode:r.assistMode,onAssistModeChange:function(e){return a(Object(c.a)(Object(c.a)({},r),{},{assistMode:e.target.checked}))},onAccessibilityLeft:function(){},onAccessibilityRight:function(){},onBack:function(){return a(Object(c.a)(Object(c.a)({},r),{},{gameConfig:!1,config:!0}))},onClose:function(){return a(Object(c.a)(Object(c.a)({},r),{},{gameConfig:!1}))}}),u]})},vn=function(){document.getElementsByTagName("html")[0].className="palette01";var e=Object(qe.c)((function(e){return e.platformConfig.gameMode}));return Object(i.jsx)("div",{className:"App"+(e?" game-mode":""),children:Object(i.jsxs)(Fe.a,{children:[Object(i.jsx)(Be,{props:{isLogged:Object(qe.c)((function(e){return e.authentication.loggedIn}))}}),Object(i.jsxs)(Ve.d,{children:[Object(i.jsx)(Ve.b,{exact:!0,path:"/",component:He}),Object(i.jsx)(Ve.b,{path:"/login",component:gt}),Object(i.jsx)(Ve.b,{path:"/register",component:St}),Object(i.jsx)(Ve.b,{path:"/EADLearningTool",component:He}),Object(i.jsx)(jt,{exact:!0,path:"/game1/:id",render:function(e){return Object(i.jsx)(gn,Object(c.a)(Object(c.a)({},e),{},{children:Object(i.jsx)(et,{})}))}}),Object(i.jsx)(jt,{exact:!0,path:"/game2/:id",render:function(e){return Object(i.jsx)(gn,Object(c.a)(Object(c.a)({},e),{},{children:Object(i.jsx)(ot,{})}))}}),Object(i.jsx)(jt,{exact:!0,path:"/userspace",component:vt}),Object(i.jsx)(jt,{exact:!0,path:"/missions",component:Ft}),Object(i.jsx)(jt,{exact:!0,path:"/questions",component:cn}),Object(i.jsx)(jt,{exact:!0,path:"/questionnaires",component:an}),Object(i.jsx)(jt,{exact:!0,path:"/missions/create",component:Zt}),Object(i.jsx)(jt,{exact:!0,path:"/missions/edit/:id",component:Zt}),Object(i.jsx)(jt,{exact:!0,path:"/characters",component:nn}),Object(i.jsx)(jt,{exact:!0,path:"/users",component:At}),Object(i.jsx)(jt,{exact:!0,path:"/playSessions",component:on})]})]})})},En=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,222)).then((function(t){var n=t.getCLS,c=t.getFID,i=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),c(e),i(e),r(e),s(e)}))},Cn=n(110),Sn={timeout:5e3,position:De.b.TOP_RIGHT};o.a.render(Object(i.jsx)(qe.a,{store:ae,children:Object(i.jsx)(De.a,Object(c.a)(Object(c.a)({template:Cn.a},Sn),{},{children:Object(i.jsx)(vn,{})}))}),document.getElementById("root")),En()},92:function(e,t,n){}},[[167,1,2]]]);
//# sourceMappingURL=main.bd3765f6.chunk.js.map