{"version":3,"sources":["img/avatar1.svg","img/i-home.svg","img/i-notification.svg","img/i-settings.svg","_constants/alert.constants.js","_constants/user.constants.js","_constants/header.constants.js","apiValues.js","_constants/api.constants.js","_helpers/apiConstantBuilder.js","_constants/music.constants.js","_actions/alert.actions.js","_helpers/history.js","_reducers/authentication.reducer.js","_helpers/reducerBuilder.js","_reducers/api.reducers.js","_reducers/index.js","_reducers/registration.reducer.js","_reducers/users.reducer.js","_reducers/alert.reducer.js","_reducers/header.reducer.js","_reducers/music.reducer.js","_helpers/store.js","_helpers/auth-header.js","_services/api.services.js","_services/user.services.js","_actions/user.actions.js","_actions/header.actions.js","_actions/api.actions.js","_actions/music.actions.js","_components/UserHeader/index.js","_components/DefaultHeader/index.js","_components/AppHeader/index.js","pages/Home/index.js","pages/Game2/components/Init/index.js","pages/Game2/components/Result/index.js","pages/Game2/components/RoomSelect/index.js","pages/Game2/components/Sala/index.js","pages/Game2/components/Character/index.js","pages/Game1/initialState.js","pages/Game1/stub.js","pages/Game1/components/Dropdown/index.js","img/Game1/Celular Sala.svg","img/Game1/Celular Base.svg","img/Game1/Mão dedão.svg","img/Game1/Mão palma.svg","pages/Game2/components/FullscreenOverlay/index.js","pages/Game1/components/Phone/index.js","pages/Game2/components/Menu/index.js","pages/Game2/components/DialogCharacter/index.js","pages/Game2/components/DialogHistory/index.js","pages/Game2/components/Writer/index.js","pages/Game2/components/Conversa/index.js","img/Game1/ícone_jogo1.svg","pages/Game1/index.js","img/lampada_apagada.svg","img/lampada_acesa.svg","pages/Game2/components/AcusationLamp/index.js","pages/Game2/initialState.js","img/Game2/parabens_vitoria-persistente.svg","img/Game2/parabens_vitoria-primeira.svg","img/Game2/símbolo_feedback errado.svg","img/ícone_jogo1.svg","img/Game2/Icone_jogo-tela_inicio.svg","img/bg-forma-azul.svg","img/bg-forma-laranja.svg","img/bg-forma-verde.svg","pages/Game2/index.js","pages/Game3/Timer/index.js","pages/Game3/stub.js","pages/Game3/initialState.js","pages/Game3/index.js","_components/PrivateRoute/index.js","pages/Login/index.js","pages/UserSpace/index.js","pages/Register/index.js","_components/UserInfo/index.js","pages/UsersCRUD/index.js","pages/Mission/index.js","pages/Character/index.js","pages/Question/index.js","pages/EditMission/index.js","pages/Missions/index.js","pages/CreateCharacter/index.js","pages/CreateLocation/index.js","pages/CreateQuestion/index.js","pages/CreateMission/components/EditMissionCharacter.js","pages/CreateMission/components/EditNewMissionCharacter.js","pages/CreateMission/missionCharacterInitialState.js","pages/CreateMission/Game1Data/index.js","pages/CreateMission/Game2Data/index.js","pages/CreateMission/index.js","pages/EditCharacter/index.js","pages/Characters/index.js","pages/Questions/index.js","pages/Questionnaires/index.js","pages/PlaySessions/index.js","_components/Config/index.js","_components/ConfigWindow/index.js","_components/GameConfig/index.js","pages/GameContext/index.js","TestPage.js","App.js","reportWebVitals.js","index.js"],"names":["alertConstants","userConstants","headerConstants","NORMAL","HIDDEN","OVERLAY","apiValues","apiConstants","map","value","UPDATE_REQUEST","apiDataType","UPDATE_SUCCESS","UPDATE_FAILURE","CREATE_REQUEST","CREATE_SUCCESS","CREATE_FAILURE","GETALL_REQUEST","GETALL_SUCCESS","GETALL_FAILURE","GETBYID_REQUEST","GETBYID_SUCCESS","GETBYID_FAILURE","FIND_REQUEST","FIND_SUCCESS","FIND_FAILURE","DELETE_REQUEST","DELETE_SUCCESS","DELETE_FAILURE","musicConstants","alertActions","success","message","type","error","clear","createBrowserHistory","user","JSON","parse","localStorage","getItem","initialState","loggedIn","loading","items","apiReducers","Object","keys","forEach","apiType","constants","toLowerCase","state","action","creating","data","updating","index","findIndex","item","id","copy","slice","deleting","filter","deleteError","rootReducer","combineReducers","authentication","loggingIn","logginFailure","registration","registering","users","userCopy","roles","alert","header","title","subtitle","newTitle","newSubtitle","newState","music","url","volume","loggerMiddleware","createLogger","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMiddleware","authHeader","jwt","api","axios","create","baseURL","getByIdBuilder","routeName","method","replace","headers","then","handleResponse","findBuilder","query","createBuilder","updateBuilder","deleteBuilder","response","status","location","reload","Promise","reject","statusText","apiServices","getAll","getById","find","update","delete","userService","login","email","password","identifier","setItem","stringify","logout","register","console","log","getRoles","removeItem","userActions","dispatch","failure","toString","request","resolve","messages","headerActions","requester","service","payload","getAllConstructor","getByIdConstructor","findConstructor","findData","createConstructor","createData","updateConstructor","updateData","deleteConstructor","deleteData","apiActions","musicActions","UserHeader","pageInfo","headerInfo","useSelector","React","useState","view","setState","useDispatch","useAlert","className","onClick","show","src","home","alt","notifications","settings","avatar","style","position","backgroundColor","top","margin","width","height","Button","DefaultHeader","AppHeader","props","isLogged","Home","to","Init","icon","name","description","nameTranlate","descriptionTranlate","onStart","onBack","onSeeTutorial","Result","gameEndState","split","str","RoomSelect","buttonList","onChange","useEffect","lang","num","Sala","children","roomData","img","setCurrentChar","backgroundAssets","length","image","Character","zDepth","character","dragPosition","showNameOnHover","characterAssets","asset","bodyPart","initialValue","back","scene","endGame","currentLocationIndex","locations","jobs","countries","contactsTemplate","contactsAtSession","dialogHistory","answers","preSpeech","currentChar","characterFeeling","showContacts","maxQuestions","shouldMinimize","shouldCloseDialog","wrongContacts","stub","characters","answer","question","Dropdown","defaultText","label","optionList","disabled","option","FullscreenOverlay","showCloseBtn","shouldExit","onClickClose","onReadyToExit","bgRGBA","closeRGB","closeHoverRGB","Error","onAnimationEnd","event","target","currentTarget","r","g","b","a","Phone","modifyContact","contacts","onFinish","onAddContact","onMinimize","maximized","_shouldMinimize","smallPhone","palma","bigPhone","dedao","contact","key","placeholder","readOnly","e","job","country","_contatoTemplate","Menu","onButtonClick","button","DialogCharacter","feeling","characterImg","DialogHistory","dialog","speaker","text","Writer","characterTime","onWritten","afterWrittenTime","timeoutID","setTimeout","clearTimeout","substring","Conversa","showDialogHistory","onClearDialogHistory","callAfterWritterForEveryMsg","msPerCharacter","waitAfterWritten","prevDialogHistory","charPreSpeech","convOptions","charFeeling","afterWriter","onExited","onConvoChoiceMade","convoChoosen","querFechar","currentAnswer","flexGrow","updateState","Game1","game_1_missionsActions","play_sessionsActions","player_actionsActions","match","params","game_1_missions","mission","currentPlaySession","play_sessions","tracking","getClickedObject","tag","nodeName","innerHTML","includes","clickTime","Date","document","addEventListener","s","removeEventListener","place","randIdx","Math","floor","random","push","splice","reduce","acc","showJob","game_1_mission_characters","config","game_1_mission","showCountry","onStartGame","questions","questionsAsked","updatedState","close","shouldCloseConvo","onMenuButtonClick","convOption","indexOf","c","closeDialog","changeRoomPopUp","contactAtSession","gabarito","contactTemplate","checked","iconInit","refreshDialog","min","right","bottom","left","textAlign","paddingTop","tries","AcusationLamp","lamp_apagada","lamp_acesa","currentRoom","isOnDialog","found","tips","acusation","closeAcusation","validQuestions","tutorialStep","seeTutorial","hasPlayed","checkedPlayed","dialogStep","totalDialogSteps","questionsByStep","showConvo","targetName","correct","ncorrect","correctMinimum","score","startedTimestamp","now","elapsedTime","spokenCharacters","Game2","tipsCount","missions","userId","language","missionsActions","user_game_resultsActions","user_game_results","missionCharacters","missionCharacter","tip","dialogInitialState","backgroundAudios","availableCharacters","tutorialRoom","totalWeight","crowdestRoomPop","emptiestRoomPop","max","maxWeight","weights","weight","rand","i","locationIndex","availableAnswers","selectedQuestions","source","temp","amountChars","j","exchangeWith","aux","usersPermissionsUser","endTutorial","mc","wrongAnswer","refresh","endDialog","rightAnswer","tchaus","rIdx","closeAfterWritter","onRefreshDialog","hasOwnProperty","restart","missionNameLanguages","missionDescriptionLanguages","tutorialScreen","iconVitoriaPrim","iconVitoriaPers","href","backgroundImage","blobAzul","blobVerde","iconDerrota","blobLaranja","iconDicas","acusationAnswer","spokenCharactersCount","won","validQuestionsCount","nameTranslate","zeroFill","size","Timer","seconds","onEnd","onSecondPassed","timeout","ingredients","moneyTypes","corridors","shelveProducts","cart","currentAisle","checkout","onPayment","payment","win","change","paymentAmount","goRound","abs","Game3","game_3_missions","m","game_3_missionsActions","addProduct","product","removeProduct","toPreviousaisle","aisles","toNextaisle","haveAll","addToPayment","money","removeFromPayment","moveToPayment","price","doPayment","receiveChange","ingredient","shopList","products","Number","parseFloat","toFixed","timeUp","PrivateRoute","Component","component","render","rest","pathname","from","useStyles","makeStyles","theme","root","backgroundRepeat","palette","grey","backgroundSize","backgroundPosition","paper","spacing","display","flexDirection","alignItems","secondary","main","form","marginTop","submit","Login","inputs","setInputs","submitted","setSubmitted","classes","handleChange","Grid","container","CssBaseline","xs","sm","md","Paper","elevation","square","Avatar","Typography","variant","onSubmit","preventDefault","catch","noValidate","TextField","required","fullWidth","autoComplete","autoFocus","color","justify","UserSpace","game1missions","game3missions","username","Register","languagesActions","firstName","lastName","languages","Container","maxWidth","select","MenuItem","UserInfo","provider","confirmed","blocked","UsersCRUD","Mission","getAnswer","qId","borderStyle","borderRadius","characterAsset","civilState","qIndex","Question","EditMission","onDone","charList","setCharList","locationList","setLocationList","questionList","setQuestionList","addToMission","removeFromMission","addLocationToMission","removeLocationFromMission","l","addQuestionToMission","removeQuestionFromMission","Missions","createMission","setCreateMission","edit","setEdit","CreateCharacter","charactersActions","setName","setJob","setCivilState","civilStates","estadosCivis","cs","Radio","CreateLocation","locationsActions","CreateQuestion","questionsActions","group","aria-describedby","parseInt","FormLabel","RadioGroup","aria-label","FormControlLabel","control","EditMissionCharacter","cancel","editAnswer","aQ","_","cloneDeep","changedIndex","rightAcusationAnswer","wrongAcusationAnswer","EditNewMissionCharacter","setmissionCharacter","missionCharacterInitialState","targetCharacter","CreateGame1Data","onCheckChange","game_1_mission_charactersActions","d","Checkbox","Game2Data","CreateMissionGame1","game","originalMission","charactersList","charactersConfigList","characterConfig","newCharacterConfig","createCharacter","setCreateCharacter","createLocation","setCreateLocation","createQuestion","setCreateQuestion","editCharacterConfig","createCharacterConfig","cancelCharacterConfig","addCharacterToList","removeCharacterFromList","flexShrink","flexBasis","missionCharactersCreate","onChangeCharacter","onJobCheckChange","onCountryCheckChange","mission_charactersActions","EditCharacter","mIndex","Characters","onAdd","Fragment","Questions","deleteQuestion","Questionnaires","questionnairesActions","questionnaires","deleteQuestionnaire","questionnaire","PlaySessions","playSessions","playSession","player_actions","playerAction","Config","ConfigWindow","onConfig","onStatistics","onLeave","onClose","GameConfig","onVolumeMute","onVolumeUp","onVolumeChange","fontSize","onFontSizeChange","assistMode","onAssistModeChange","onAccessibilityLeft","onAccessibilityRight","Slider","colSpan","GameContext","accessibility","gameConfig","autoPlay","loop","newValue","TestPage","App","getElementsByTagName","gameMode","exact","path","CreateMission","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","options","positions","TOP_RIGHT","ReactDOM","template","AlertTemplate","getElementById"],"mappings":"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","file":"static/js/main.826f15f7.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/avatar1.48f082ac.svg\";","export default __webpack_public_path__ + \"static/media/i-home.949bb3de.svg\";","export default __webpack_public_path__ + \"static/media/i-notification.995f04ef.svg\";","export default __webpack_public_path__ + \"static/media/i-settings.1d1409d0.svg\";","export const alertConstants = {\r\n    SUCCESS: 'ALERT_SUCCESS',\r\n    ERROR: 'ALERT_ERROR',\r\n    CLEAR: 'ALERT_CLEAR'\r\n}","export const userConstants = {\r\n    REGISTER_REQUEST: 'USER_REGISTER_REQUEST',\r\n    REGISTER_SUCCESS: 'USER_REGISTER_SUCCESS',\r\n    REGISTER_FAILURE: 'USER_REGISTER_FAILURE',\r\n\r\n    LOGIN_REQUEST: 'USER_LOGIN_REQUEST',\r\n    LOGIN_SUCCESS: 'USER_LOGIN_SUCCESS',\r\n    LOGIN_FAILURE: 'USER_LOGIN_FAILURE',\r\n\r\n    UPDATE_REQUEST: 'USER_UPDATE_REQUEST',\r\n    UPDATE_SUCCESS: 'USER_UPDATE_SUCCESS',\r\n    UPDATE_FAILURE: 'USER_UPDATE_FAILURE',\r\n\r\n    LOGOUT: 'USERS_LOGOUT',\r\n\r\n    GETALL_REQUEST: 'USER_GETALL_REQUEST',\r\n    GETALL_SUCCESS: 'USER_GETALL_SUCCESS',\r\n    GETALL_FAILURE: 'USER_GETALL_FAILURE',\r\n\r\n    GETBYID_REQUEST: 'USER_GETBYID_REQUEST',\r\n    GETBYID_SUCCESS: 'USER_GETBYID_SUCCESS',\r\n    GETBYID_FAILURE: 'USER_GETBYID_FAILURE',\r\n\r\n    FIND_REQUEST: 'USER_FIND_REQUEST',\r\n    FIND_SUCCESS: 'USER_FIND_SUCCESS',\r\n    FIND_FAILURE: 'USER_FIND_FAILURE',\r\n    \r\n    DELETE_REQUEST: 'USER_DELETE_REQUEST',\r\n    DELETE_SUCCESS: 'USER_DELETE_SUCCESS',\r\n    DELETE_FAILURE: 'USER_DELETE_FAILURE',\r\n\r\n    GETROLES_REQUEST: 'USER_GETROLES_REQUEST',\r\n    GETROLES_SUCCESS: 'USER_GETROLES_SUCCESS',\r\n    GETROLES_FAILURE: 'USER_GETROLES_FAILURE',\r\n}","export const headerConstants = {\r\n\tSET_TITLE:\t\t'SET_HEADER_TITLE',\r\n\tSET_SUBTITLE:\t'SET_HEADER_SUBTITLE',\r\n\tSET_ALL:\t\t'SET_HEADER_ALL',\r\n\r\n\tCLEAR_TITLE:\t'CLEAR_HEADER_TITLE',\r\n\tCLEAR_SUBTITLE:\t'CLEAR_HEADER_SUBTITLE',\r\n\tCLEAR_ALL:\t\t'CLEAR_HEADER_ALL',\r\n\r\n\tSET_STATE:\t\t'SET_HEADER_STATE',\r\n\tSTATES:\t\t\t{\r\n\t\tNORMAL:\t\t'NORMAL',\r\n\t\tHIDDEN:\t\t'HIDDEN',\r\n\t\tOVERLAY:\t'OVERLAY'\r\n\t},\r\n}\r\n","const apiValues = [\r\n  'GAMES', 'PLAY_SESSIONS', 'PLAYER_ACTIONS',\r\n  'GAME_1_MISSIONS', 'GAME_1_MISSION_CHARACTERS',\r\n  'MISSIONS', 'MISSION_CHARACTER',\r\n  'GAME_3_MISSIONS',\r\n  'CHARACTERS', 'LOCATIONS', 'QUESTIONS', 'BACKGROUND_ASSETS',\r\n  'QUESTIONNAIRES', 'QUESTIONNAIRE_QUESTIONS',\r\n  'BACKGROUND_AUDIOS', 'USER_GAME_RESULTS', 'LANGUAGES' ]\r\n\r\nexport default apiValues\r\n","import { apiConstantBuilder } from '../_helpers/apiConstantBuilder'\r\nimport apiValues from '../apiValues'\r\n\r\nlet apiConstants = {}\r\n\r\napiValues.map( value => apiConstants[value] = apiConstantBuilder(value) )\r\n\r\nexport { apiConstants }\r\n","export const apiConstantBuilder = apiDataType => {\r\n  return {\r\n    UPDATE_REQUEST: `${apiDataType}_UPDATE_REQUEST`,\r\n    UPDATE_SUCCESS: `${apiDataType}_UPDATE_SUCCESS`,\r\n    UPDATE_FAILURE: `${apiDataType}_UPDATE_FAILURE`,\r\n\r\n    CREATE_REQUEST: `${apiDataType}_CREATE_REQUEST`,\r\n    CREATE_SUCCESS: `${apiDataType}_CREATE_SUCCESS`,\r\n    CREATE_FAILURE: `${apiDataType}_CREATE_FAILURE`,\r\n\r\n    GETALL_REQUEST: `${apiDataType}_GETALL_REQUEST`,\r\n    GETALL_SUCCESS: `${apiDataType}_GETALL_SUCCESS`,\r\n    GETALL_FAILURE: `${apiDataType}_GETALL_FAILURE`,\r\n\r\n    GETBYID_REQUEST: `${apiDataType}_GETBYID_REQUEST`,\r\n    GETBYID_SUCCESS: `${apiDataType}_GETBYID_SUCCESS`,\r\n    GETBYID_FAILURE: `${apiDataType}_GETBYID_FAILURE`,\r\n\r\n    FIND_REQUEST: `${apiDataType}_REQUES `,\r\n    FIND_SUCCESS: `${apiDataType}_SUCCES `,\r\n    FIND_FAILURE: `${apiDataType}_FAILUR `,\r\n\r\n    DELETE_REQUEST: `${apiDataType}_DELETE_REQUEST`,\r\n    DELETE_SUCCESS: `${apiDataType}_DELETE_SUCCESS`,\r\n    DELETE_FAILURE: `${apiDataType}_DELETE_FAILURE`,\r\n  }\r\n}\r\n","export const musicConstants = {\r\n\tSET:\t'SET'\r\n}\r\n","import { alertConstants } from '../_constants'\r\n\r\nexport const alertActions = {\r\n    success,\r\n    error,\r\n    clear\r\n}\r\n\r\nfunction success(message) {\r\n    return {\r\n        type: alertConstants.SUCCESS, \r\n        message\r\n    }\r\n}\r\n\r\nfunction error(message) {\r\n    return {\r\n        type: alertConstants.ERROR,\r\n        message\r\n    }\r\n}\r\n\r\nfunction clear() {\r\n    return {\r\n        type: alertConstants.CLEAR\r\n    }\r\n}","import { createBrowserHistory } from 'history'\r\n\r\nexport const history = createBrowserHistory()","import { userConstants } from '../_constants'\r\n\r\nlet user = JSON.parse(localStorage.getItem('user'))\r\nconst initialState = user ? { loggedIn: true, user } : {}\r\n\r\nexport function authentication (state = initialState, action){\r\n    switch (action.type) {\r\n        case userConstants.LOGIN_REQUEST:\r\n            return {\r\n                loggingIn: true,\r\n                user: action.user\r\n            }\r\n        case userConstants.LOGIN_SUCCESS:\r\n            return {\r\n                loggedIn: true,\r\n                user: action.user\r\n            }\r\n        case userConstants.LOGIN_FAILURE:\r\n            return {\r\n                logginFailure: true\r\n            }\r\n        case userConstants.LOGOUT:\r\n            return {}\r\n        default:\r\n            return state\r\n    }\r\n}\r\n","\r\nconst initialState = {\r\n  loading: false,\r\n  items: []\r\n}\r\n\r\nexport const reducerBuilder = constants => (state = initialState, action) =>\r\n{\r\n  switch (action.type) {\r\n      case constants.CREATE_REQUEST:\r\n          return {...state,\r\n            error: null,\r\n            creating: true\r\n          }\r\n      case constants.CREATE_SUCCESS:\r\n          return {...state,\r\n            creating: false,\r\n            items: [...state.items, action.data]\r\n          }\r\n      case constants.CREATE_FAILURE:\r\n          return {\r\n            error: action.error\r\n          }\r\n\r\n      case constants.UPDATE_REQUEST:\r\n          return {...state,\r\n            error: null,\r\n            updating: true\r\n          }\r\n      case constants.UPDATE_SUCCESS:\r\n          let index = state.items.findIndex( item => item.id === action.data.id )\r\n          let copy = [...state.items.slice(0, index), action.data, ...state.items.slice(index + 1)]\r\n          return {...state, updating: false,\r\n            items: copy\r\n          }\r\n      case constants.UPDATE_FAILURE:\r\n          return {...state, updating: false}\r\n\r\n      case constants.GETALL_REQUEST:\r\n          return {...state,\r\n              error: null,\r\n              loading: true\r\n          };\r\n      case constants.GETALL_SUCCESS:\r\n          return {...state,\r\n              loading: false,\r\n              items: action.data\r\n          };\r\n      case constants.GETALL_FAILURE:\r\n          return {...state,\r\n              loading: false,\r\n              error: action.error\r\n          };\r\n\r\n      case constants.GETBYID_REQUEST:\r\n          return {...state,\r\n              error: null,\r\n              loading: true\r\n          };\r\n      case constants.GETBYID_SUCCESS:\r\n          return {...state,\r\n              items: [...state.items, action.data],\r\n              loading: false\r\n          };\r\n      case constants.GETBYID_FAILURE:\r\n          return {...state,\r\n              loading: false,\r\n              error: action.error\r\n          };\r\n\r\n        case constants.FIND_REQUEST:\r\n            return {...state,\r\n                error: null,\r\n                loading: true\r\n            };\r\n        case constants.FIND_SUCCESS:\r\n            return {...state,\r\n                items: action.data,\r\n                loading: false\r\n            };\r\n        case constants.FIND_FAILURE:\r\n            return {...state,\r\n                loading: false,\r\n                error: action.error\r\n            };\r\n\r\n      case constants.DELETE_REQUEST:\r\n          // add 'deleting:true' property to character being deleted\r\n          return {\r\n              ...state,\r\n              items: state.items.map(item =>\r\n                  item.id === action.id\r\n                      ? { ...item, deleting: true }\r\n                      : item\r\n              )\r\n          };\r\n      case constants.DELETE_SUCCESS:\r\n          // remove deleted character from state\r\n          return {...state,\r\n              items: state.items.filter(item => item.id !== action.id)\r\n          }\r\n      case constants.DELETE_FAILURE:\r\n          // remove 'deleting:true' property and add 'deleteError:[error]' property to character\r\n          return {\r\n              ...state,\r\n              items: state.items.map(item => {\r\n                  if (item.id === action.id) {\r\n                      // make copy of character without 'deleting:true' property\r\n                      const { deleting, ...copy } = item;\r\n                      // return copy of character with 'deleteError:[error]' property\r\n                      return { ...copy, deleteError: action.error };\r\n                  }\r\n                  return item;\r\n              })\r\n          };\r\n      default:\r\n          return state\r\n  }\r\n}\r\n","import { reducerBuilder } from '../_helpers/reducerBuilder'\r\nimport { apiConstants } from '../_constants'\r\n\r\nconst apiReducers = { }\r\nObject.keys(apiConstants).forEach(apiType => {\r\n  apiReducers[apiType.toLowerCase()] = reducerBuilder(apiConstants[apiType])\r\n})\r\n\r\n\r\nexport default apiReducers\r\n","import { combineReducers } from 'redux'\r\n\r\nimport { authentication } from './authentication.reducer'\r\nimport { registration } from './registration.reducer'\r\nimport { users } from './users.reducer'\r\nimport { alert } from './alert.reducer'\r\nimport { header } from './header.reducer'\r\nimport { music } from './music.reducer'\r\nimport apiReducers from './api.reducers'\r\n\r\nconst rootReducer = combineReducers({\r\n    authentication,\r\n    registration,\r\n    users,\r\n    alert,\r\n    header,\r\n    music,\r\n    ...apiReducers,\r\n})\r\n\r\nexport default rootReducer\r\n","import { userConstants } from '../_constants'\r\n\r\nexport function registration (state = {}, action) {\r\n    switch (action.type) {\r\n        case userConstants.REGISTER_REQUEST:\r\n            return {registering: true}\r\n        case userConstants.REGISTER_SUCCESS:\r\n            return {}\r\n        case userConstants.REGISTER_FAILURE:\r\n            return {}\r\n        default:\r\n            return state\r\n    }\r\n}","import { userConstants } from '../_constants';\r\n\r\nexport function users(state = {}, action) {\r\n    switch (action.type) {\r\n        case userConstants.UPDATE_REQUEST:\r\n            return {updating: true}\r\n        case userConstants.UPDATE_SUCCESS:\r\n            return {}\r\n        case userConstants.UPDATE_FAILURE:\r\n            return {}\r\n        case userConstants.GETALL_REQUEST:\r\n            return {...state,\r\n                loading: true\r\n            };\r\n        case userConstants.GETALL_SUCCESS:\r\n            return {...state,\r\n                items: action.users\r\n            };\r\n        case userConstants.GETALL_FAILURE:\r\n            return {...state,\r\n                error: action.error\r\n            };\r\n        case userConstants.GETBYID_REQUEST:\r\n            return {...state,\r\n                loading: true\r\n            };\r\n        case userConstants.GETBYID_SUCCESS:\r\n            return {...state,\r\n                items: action.user\r\n            };\r\n        case userConstants.GETBYID_FAILURE:\r\n            return {...state,\r\n                error: action.error\r\n            };\r\n        case userConstants.FIND_REQUEST:\r\n            return {...state,\r\n                loading: true\r\n            };\r\n        case userConstants.FIND_SUCCESS:\r\n            return {...state,\r\n                items: action.user\r\n            };\r\n        case userConstants.FIND_FAILURE:\r\n            return {...state,\r\n                error: action.error\r\n            };\r\n        case userConstants.DELETE_REQUEST:\r\n            // add 'deleting:true' property to user being deleted\r\n            return {\r\n                ...state,\r\n                items: state.items.map(user =>\r\n                    user.id === action.id\r\n                        ? { ...user, deleting: true }\r\n                        : user\r\n                )\r\n            };\r\n        case userConstants.DELETE_SUCCESS:\r\n            // remove deleted user from state\r\n            return {...state,\r\n                items: state.items.filter(user => user.id !== action.id)\r\n            };\r\n        case userConstants.DELETE_FAILURE:\r\n            // remove 'deleting:true' property and add 'deleteError:[error]' property to user\r\n            return {\r\n                ...state,\r\n                items: state.items.map(user => {\r\n                    if (user.id === action.id) {\r\n                        // make copy of user without 'deleting:true' property\r\n                        const { deleting, ...userCopy } = user;\r\n                        // return copy of user with 'deleteError:[error]' property\r\n                        return { ...userCopy, deleteError: action.error };\r\n                    }\r\n\r\n                    return user;\r\n                })\r\n            };\r\n        case userConstants.GETROLES_REQUEST:\r\n            return {...state,\r\n                loading: true\r\n            };\r\n        case userConstants.GETROLES_SUCCESS:\r\n            return {...state,\r\n                roles: action.users.roles\r\n            };\r\n        case userConstants.GETROLES_FAILURE:\r\n            return {...state,\r\n                error: action.error\r\n            };\r\n        default:\r\n            return state\r\n    }\r\n}\r\n","import { alertConstants} from '../_constants'\r\n\r\nexport function alert (state = {}, action) {\r\n    switch(action.type) {\r\n        case alertConstants.SUCCESS:\r\n            return {\r\n                type: 'alert-succes',\r\n                message: action.message\r\n            }\r\n        case alertConstants.ERROR:\r\n            return {\r\n                type: 'alert-danger',\r\n                message: action.message\r\n            }\r\n        case alertConstants.CLEAR:\r\n            return {}\r\n        default:\r\n            return state\r\n    }\r\n}\r\n","import { headerConstants } from '../_constants'\r\n\r\nexport function header (state = {state: headerConstants.STATES.NORMAL, title: \"\", subtitle: \"\"}, action) {\r\n    switch(action.type) {\r\n        case headerConstants.SET_TITLE:\r\n\t\t\treturn {...state, title: action.newTitle};\r\n\r\n\t\tcase headerConstants.SET_SUBTITLE:\r\n\t\t\treturn {...state, subtitle: action.newSubtitle};\r\n\r\n\t\tcase headerConstants.SET_ALL:\r\n\t\t\treturn {...state, title: action.newTitle, subtitle: action.newSubtitle};\r\n\r\n\t\tcase headerConstants.CLEAR_TITLE:\r\n\t\t\treturn {...state, title: \"\"};\r\n\r\n\t\tcase headerConstants.CLEAR_SUBTITLE:\r\n\t\t\treturn {...state, subtitle: \"\"};\r\n\r\n\t\tcase headerConstants.CLEAR_ALL:\r\n\t\t\treturn {...state, title: \"\", subtitle: \"\"};\r\n\r\n\t\tcase headerConstants.SET_STATE:\r\n\t\t\treturn {...state, state: action.newState};\r\n\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n    }\r\n}\r\n","import { musicConstants } from '../_constants/music.constants'\r\n\r\nexport function music ( state = {url: '', volume: 15}, action ) {\r\n\tswitch( action.type ) {\r\n\t\tcase musicConstants.SET:\r\n\t\t\treturn {...state, url: action.url};\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n}\r\n","import { createStore, applyMiddleware, compose } from 'redux'\r\nimport thunkMiddleware from 'redux-thunk'\r\nimport { createLogger } from 'redux-logger'\r\nimport rootReducer from '../_reducers'\r\n\r\nconst loggerMiddleware = createLogger()\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose\r\nconst store = createStore(\r\n    rootReducer,\r\n    composeEnhancers(\r\n      applyMiddleware(\r\n          thunkMiddleware,\r\n          loggerMiddleware\r\n      )\r\n    )\r\n)\r\n\r\nexport { store }\r\n","export function authHeader () {\r\n    const user = JSON.parse(localStorage.getItem('user'))\r\n    return user && user.jwt ? {\r\n        'Authorization': 'Bearer ' + user.jwt\r\n    } : {}\r\n}\r\n","import axios from 'axios'\r\nimport { authHeader } from '../_helpers'\r\nimport apiValues from '../apiValues'\r\n\r\nconst baseURL = 'https://learning-tool-backend.herokuapp.com'\r\nconst api  = axios.create({ baseURL })\r\n\r\nconst getAllBuilder = (routeName) => function getAll() {\r\n    // pegar rota\r\n    return api(\r\n      {\r\n        method: 'get',\r\n        url: `/${routeName.toLowerCase().replace(/_/g, '-')}`,\r\n        headers: authHeader()\r\n      })\r\n      .then(handleResponse)\r\n}\r\n\r\nconst getByIdBuilder = (routeName) => function getById(id){\r\n    return api(\r\n        {\r\n          method: 'get',\r\n          url: `/${routeName.toLowerCase().replace(/_/g, '-')}/${id}`,\r\n          headers: authHeader()\r\n        })\r\n        .then(handleResponse)\r\n}\r\n\r\nconst findBuilder = (routeName) => function find(data) {\r\n  return api(\r\n    {\r\n      method: 'get',\r\n      url: `/${routeName.toLowerCase().replace(/_/g, '-')}`,\r\n      headers: authHeader(),\r\n      query: data\r\n    })\r\n    .then(handleResponse)\r\n}\r\n\r\nconst createBuilder = (routeName) => function create(data) {\r\n    return api(\r\n      {\r\n        method: 'post',\r\n        url: `/${routeName.toLowerCase().replace(/_/g, '-')}`,\r\n        headers: authHeader(),\r\n        data: data\r\n      })\r\n      .then(handleResponse)\r\n}\r\n\r\nconst updateBuilder = (routeName) => function update(data){\r\n    return api(\r\n        {\r\n          method: 'put',\r\n          url: `/${routeName.toLowerCase().replace(/_/g, '-')}/${data.id}`,\r\n          headers:  {\r\n            ...authHeader(),\r\n          'Content-Type': 'application/json'\r\n          },\r\n          data: data\r\n        })\r\n        .then(handleResponse)\r\n}\r\n\r\nconst deleteBuilder = (routeName) => function _delete(id){\r\n    return api(\r\n        {\r\n          method: 'delete',\r\n          url: `/${routeName.toLowerCase().replace(/_/g, '-')}/${id}`,\r\n          headers: authHeader()\r\n        })\r\n        .then(handleResponse)\r\n}\r\n\r\nfunction handleResponse(response) {\r\n  if(response.status !== 200){\r\n      if(response.status === 401){\r\n          window.location.reload()\r\n      }\r\n      return Promise.reject(response.statusText)\r\n  }\r\n\r\n  return response.data\r\n}\r\n\r\nlet apiServices = {}\r\n\r\napiValues.map( apiDataType =>\r\n  apiServices[`${apiDataType}`] = {\r\n    getAll:  getAllBuilder(apiDataType),\r\n    getById: getByIdBuilder(apiDataType),\r\n    find:  findBuilder(apiDataType),\r\n    create:  createBuilder(apiDataType),\r\n    update:  updateBuilder(apiDataType),\r\n    delete:  deleteBuilder(apiDataType)\r\n})\r\n\r\nexport { apiServices, baseURL }\r\nexport default api\r\n","import { authHeader } from '../_helpers'\r\nimport api from './api.services'\r\n\r\nexport const userService = {\r\n    login,\r\n    logout,\r\n    register,\r\n    getAll,\r\n    getById,\r\n    find,\r\n    update,\r\n    delete: _delete,\r\n    getRoles\r\n}\r\n\r\nfunction login(email, password) {\r\n    return api(\r\n        {\r\n            method: 'post',\r\n            url: '/auth/local',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n            data: {\r\n                identifier: email,\r\n                password: password\r\n            }\r\n        })\r\n        .then(response => {\r\n          if(response.data.jwt){\r\n            localStorage.setItem('user',JSON.stringify(response.data))\r\n          }\r\n            \r\n          return response.data\r\n        })\r\n}\r\n\r\nfunction logout(){\r\n    localStorage.removeItem('user')\r\n}\r\n\r\nfunction getAll() {\r\n    // pegar rota\r\n    return api(\r\n      {\r\n        method: 'get',\r\n        url: '/users',\r\n        headers: authHeader()\r\n      })\r\n      .then(handleResponse)\r\n}\r\n\r\nfunction getById(id){\r\n    return api(\r\n        {\r\n          method: 'get',\r\n          url: `/users/${id}`,\r\n          headers: authHeader()\r\n        })\r\n        .then(handleResponse)\r\n}\r\n\r\nfunction find(data) {\r\n  return api(\r\n    {\r\n      method: 'get',\r\n      url: '/users',\r\n      headers: authHeader(),\r\n      query: data\r\n    })\r\n    .then(handleResponse)\r\n}\r\n\r\nfunction register(user) {\r\n  console.log(user)\r\n    return api(\r\n        {\r\n          method: 'post',\r\n          url: '/auth/local/register',\r\n          headers: {\r\n            'Content-Type': 'application/json'\r\n            },\r\n          data: user,\r\n        })\r\n        .then(response => {\r\n          if(response.data.jwt){\r\n            localStorage.setItem('user',JSON.stringify(response.data))\r\n          }\r\n            \r\n          return response.data\r\n        })\r\n}\r\n\r\nfunction update(user){\r\n    // checar rotausers\r\n    return api(\r\n        {\r\n          method: 'put',\r\n          url: `/users/${user.id}`,\r\n          headers:  {\r\n            ...authHeader(),\r\n          'Content-Type': 'application/json'\r\n          },\r\n          data: user\r\n        })\r\n        .then(response => {\r\n          console.log(response)\r\n        })\r\n}\r\n\r\nfunction _delete(id){\r\n    return api(\r\n        {\r\n          method: 'delete',\r\n          url: `/users/${id}`,\r\n          headers: authHeader()\r\n        })\r\n        .then(handleResponse)\r\n}\r\n\r\nfunction getRoles(){\r\n  return api(\r\n    {\r\n      method: 'get',\r\n      url: '/users-permissions/roles',\r\n      headers: authHeader()\r\n    })\r\n    .then(handleResponse)\r\n}\r\n\r\nfunction handleResponse(response) {\r\n  console.log(response)\r\n\r\n  if(response.status !== 200){\r\n      if(response.status === 401){\r\n          logout()\r\n          window.location.reload()\r\n      }\r\n\r\n      return Promise.reject(response.statusText)\r\n  }\r\n\r\n  return response.data\r\n}\r\n\r\n","import { userConstants } from '../_constants'\r\nimport { userService } from '../_services'\r\nimport { alertActions } from './'\r\n\r\nexport const userActions = {\r\n    getAll,\r\n    getById,\r\n    delete: _delete,\r\n    getRoles\r\n}\r\n\r\nexport const login = (email, password) => dispatch => {\r\n    dispatch(request({email}))\r\n\r\n    return userService.login(email, password)\r\n        .then(\r\n            user => {\r\n                dispatch(success(user))\r\n                return Promise.resolve()\r\n            },\r\n            error => {\r\n                dispatch(failure(error.toString()))\r\n                dispatch(alertActions.error(error.toString()))\r\n                return Promise.reject(error.response.data.data[0].messages[0].message)\r\n            }\r\n        )\r\n\r\n    function request(user) { return {type: userConstants.LOGIN_REQUEST, user} }\r\n    function success(user) { return {type: userConstants.LOGIN_SUCCESS, user} }\r\n    function failure(error) { return {type: userConstants.LOGIN_FAILURE, error} }\r\n}\r\n\r\nexport const logout = () => dispatch => {\r\n    userService.logout()\r\n    dispatch({type: userConstants.LOGOUT})                        \r\n}\r\n\r\nexport const register = (user) => dispatch => {\r\n    dispatch(request(user))\r\n\r\n    return userService.register(user)\r\n        .then(\r\n            user => {\r\n                dispatch(success())\r\n                return Promise.resolve()\r\n            },\r\n            error => {\r\n                dispatch(failure(error.toString()))\r\n                dispatch(alertActions.error(error.toString()))\r\n                return Promise.reject(error.response.data.data[0].messages[0].message)\r\n            }\r\n        )\r\n    function request(user) { return {type: userConstants.REGISTER_REQUEST, user} }\r\n    function success(user) { return {type: userConstants.REGISTER_SUCCESS, user} }\r\n    function failure(error) { return {type: userConstants.REGISTER_FAILURE, error} }\r\n}\r\n\r\nexport const update = (user) => dispatch => {\r\n    dispatch(request(user))\r\n\r\n    return userService.update(user)\r\n        .then(\r\n            user => {\r\n                dispatch(success())\r\n                return Promise.resolve()\r\n            },\r\n            error => {\r\n                dispatch(failure(error.toString()))\r\n                dispatch(alertActions.error(error.toString()))\r\n                return Promise.reject()\r\n            }\r\n        )\r\n\r\n    function request(user) { return {type: userConstants.UPDATE_REQUEST, user} }\r\n    function success(user) { return {type: userConstants.UPDATE_SUCCESS, user} }\r\n    function failure(error) { return {type: userConstants.UPDATE_FAILURE, error} }\r\n}\r\n\r\nfunction getAll(){\r\n    return dispatch => {\r\n        dispatch(request())\r\n\r\n        const r = userService.getAll()\r\n            r.then(\r\n                users => dispatch(success(users)),\r\n                error => dispatch(failure(error.toString()))\r\n            )\r\n    }\r\n\r\n    function request() { return {type: userConstants.GETALL_REQUEST} }\r\n    function success(users) { return {type: userConstants.GETALL_SUCCESS, users} }\r\n    function failure(error) { return {type: userConstants.GETALL_FAILURE, error} }\r\n}\r\n\r\nfunction getById(id){\r\n    return dispatch => {\r\n        dispatch(request())\r\n\r\n        userService.getById(id)\r\n            .then(\r\n                user => dispatch(success(user)),\r\n                error => dispatch(failure(error.toString()))\r\n            )\r\n    }\r\n\r\n    function request() { return {type: userConstants.GETBYID_REQUEST} }\r\n    function success(user) { return {type: userConstants.GETBYID_SUCCESS, user} }\r\n    function failure(error) { return {type: userConstants.GETBYID_FAILURE, error} }\r\n}\r\n\r\nfunction _delete(id){\r\n    return dispatch => {\r\n        dispatch(request(id))\r\n\r\n        userService.delete(id)\r\n            .then(\r\n                user => dispatch(success(id)),\r\n                error => dispatch(failure(id, error.toString()))\r\n            )\r\n    }\r\n\r\n    function request(id) { return {type: userConstants.DELETE_REQUEST, id} }\r\n    function success(id) { return {type: userConstants.DELETE_SUCCESS, id} }\r\n    function failure(id, error) { return {type: userConstants.DELETE_FAILURE, id, error} }\r\n}\r\n\r\nfunction getRoles(){\r\n    return dispatch => {\r\n        dispatch(request())\r\n\r\n        const r = userService.getRoles()\r\n            r.then(\r\n                users => dispatch(success(users)),\r\n                error => dispatch(failure(error.toString()))\r\n            )\r\n    }\r\n\r\n    function request() { return {type: userConstants.GETROLES_REQUEST} }\r\n    function success(users) { return {type: userConstants.GETROLES_SUCCESS, users} }\r\n    function failure(error) { return {type: userConstants.GETROLES_FAILURE, error} }\r\n}","import { headerConstants } from '../_constants'\r\n\r\nconst setTitle = (title) => {return {type: headerConstants.SET_TITLE, newTitle: title}};\r\nconst setSubtitle = (subtitle) => {return {type: headerConstants.SET_SUBTITLE, newSubtitle: subtitle}};\r\nconst setAll = (title, subtitle) => {return {type: headerConstants.SET_ALL, newTitle: title, newSubtitle: subtitle}};\r\n\r\nconst clearTitle = () => {return {type: headerConstants.CLEAR_TITLE}};\r\nconst clearSubtitle = () => {return {type: headerConstants.CLEAR_SUBTITLE}};\r\nconst clearAll = () => {return {type: headerConstants.CLEAR_ALL}};\r\n\r\nconst setState = (state) => {return {type: headerConstants.SET_STATE, newState: state}};\r\n\r\nexport const headerActions = {\r\n\tsetTitle,\r\n\tsetSubtitle,\r\n\tsetAll,\r\n\tclearTitle,\r\n\tclearSubtitle,\r\n\tclearAll,\r\n\tsetState\r\n}","import { apiConstants } from '../_constants'\r\nimport { apiServices } from '../_services'\r\n\r\nfunction requester(service, request, success, failure, payload){\r\n  return dispatch => {\r\n      dispatch(request(payload))\r\n\r\n      return service(payload)\r\n        .then(\r\n            data => {\r\n              dispatch(success(data))\r\n              return Promise.resolve()\r\n              },\r\n            error => {\r\n                dispatch(failure(error.toString()))\r\n\r\n                try {\r\n                  return Promise.reject(error.response.data.data[0].messages[0].message)\r\n                } catch{\r\n                  console.log(error)\r\n                }\r\n            }\r\n          )\r\n  }\r\n}\r\n\r\n//Could use some code refactory\r\nconst getAllConstructor = (service, apiDataType) => {\r\n  return function(){\r\n    return requester(service.getAll, request, success, failure)\r\n\r\n    function request() { return { type: apiConstants[apiDataType].GETALL_REQUEST }}\r\n    function success(data) { return {type: apiConstants[apiDataType].GETALL_SUCCESS, data} }\r\n    function failure(error) { return {type: apiConstants[apiDataType].GETALL_FAILURE, error} }\r\n  }\r\n}\r\n\r\nconst getByIdConstructor = (service, apiDataType) => {\r\n  return function(id){\r\n    return requester(service.getById, request, success, failure, id)\r\n\r\n    function request() { return {type: apiConstants[apiDataType].GETBYID_REQUEST} }\r\n    function success(data) { return {type: apiConstants[apiDataType].GETBYID_SUCCESS, data} }\r\n    function failure(error) { return {type: apiConstants[apiDataType].GETBYID_FAILURE, error} }\r\n  }\r\n}\r\n\r\nconst findConstructor = (service, apiDataType) => {\r\n  return function(findData){\r\n    return requester(service.find, request, success, failure, findData)\r\n\r\n    function request() { return {type: apiConstants[apiDataType].FIND_REQUEST} }\r\n    function success(data) { return {type: apiConstants[apiDataType].FIND_SUCCESS, data} }\r\n    function failure(error) { return {type: apiConstants[apiDataType].FIND_FAILURE, error} }\r\n  }\r\n}\r\n\r\nconst createConstructor = (service, apiDataType) => {\r\n  return function(createData){\r\n    return requester(service.create, request, success, failure, createData)\r\n\r\n    function request(data) { return {type: apiConstants[apiDataType].CREATE_REQUEST, [apiDataType]: data}}\r\n    function success(data) { return {type: apiConstants[apiDataType].CREATE_SUCCESS, data} }\r\n    function failure(error) { return {type: apiConstants[apiDataType].CREATE_FAILURE, error} }\r\n  }\r\n}\r\n\r\nconst updateConstructor = (service, apiDataType) => {\r\n  return function(updateData){\r\n      return requester(service.update, request, success, failure, updateData)\r\n\r\n      function request(data) { return {type: apiConstants[apiDataType].UPDATE_REQUEST, [apiDataType]: data} }\r\n      function success(data) { return {type: apiConstants[apiDataType].UPDATE_SUCCESS, data} }\r\n      function failure(error) { return {type: apiConstants[apiDataType].UPDATE_FAILURE, error} }\r\n  }\r\n}\r\n\r\nconst deleteConstructor = (service, apiDataType) => {\r\n  return function(deleteData){\r\n    return requester(service.delete, request, success, failure, deleteData)\r\n\r\n    function request(data) { return {type: apiConstants[apiDataType].DELETE_REQUEST, [apiDataType]: data} }\r\n    function success(data) { return {type: apiConstants[apiDataType].DELETE_SUCCESS, id: data.id} }\r\n    function failure(error) { return {type: apiConstants[apiDataType].DELETE_FAILURE, error} }\r\n  }\r\n}\r\n\r\nlet apiActions = {}\r\nObject.keys(apiConstants).forEach( (apiDataType) => {\r\n  apiActions[`${apiDataType.toLowerCase()}Actions`] = {\r\n    getAll:  getAllConstructor(apiServices[apiDataType], apiDataType),\r\n    getById: getByIdConstructor(apiServices[apiDataType], apiDataType),\r\n    find: findConstructor(apiServices[apiDataType],\r\n    apiDataType),\r\n    create:  createConstructor(apiServices[apiDataType], apiDataType),\r\n    update:  updateConstructor(apiServices[apiDataType], apiDataType),\r\n    delete:  deleteConstructor(apiServices[apiDataType], apiDataType)\r\n  }\r\n})\r\n\r\nexport { apiActions }\r\n","import { musicConstants } from '../_constants'\r\n\r\nconst set = (music) => { return { type: musicConstants.SET, url: music } }\r\n\r\nexport const musicActions = \r\n{\r\n  set\r\n}\r\n","import React from 'react'\r\nimport avatar from '../../img/avatar1.svg'\r\nimport home from '../../img/i-home.svg'\r\nimport notifications from '../../img/i-notification.svg'\r\nimport settings from '../../img/i-settings.svg'\r\nimport { logout } from '../../_actions'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { useAlert } from 'react-alert';\r\nimport Button from '@material-ui/core/Button'\r\n\r\nconst UserHeader = ({pageInfo}) => {\r\n\tlet headerInfo = useSelector(state => state.header)\r\n    const [state, setState] = React.useState( {view: 'default'} );\r\n\tconst dispatch = useDispatch()\r\n\tconst alert = useAlert()\r\n\r\n\tconst clickProfile = () => {\r\n\t\tsetState({...state, view: 'profile'});\r\n\t\talert.show(\"Vc achou onde faz para abrir o seu perfil! \\n\\n Ending 3/15\");\r\n\t}\r\n\r\n\tconst clickHome = () => {\r\n\t\tsetState({...state, view: 'home'});\r\n\t\talert.show(\"Vc achou onde faz para voltar ao início! \\n\\n Ending 1/15\");\r\n\t}\r\n\r\n\tconst clickNotif = () => {\r\n\t\tsetState({...state, view: 'notif'});\r\n\t\talert.show(\"Vc achou onde faz para ver suas notificações! \\n\\n Ending 7/15\");\r\n\t}\r\n\r\n\tconst clickSettings = () => {\r\n\t\tsetState({...state, view: 'settings'});\r\n\t\talert.show(\"Vc achou onde faz para abrir suas configurações! \\n\\n Ending 8/15\");\r\n\t}\r\n\r\n\treturn (\r\n\t\t<header id=\"app-header\" className={ headerInfo.state.toLowerCase() }>\r\n\t\t\t<div className=\"group-btns\" id=\"left-btns\">\r\n\t\t\t\t<div className=\"header-btn\" id=\"home-btn\" onClick={clickHome}><img src={home} alt=\"Home\"></img></div>\r\n\t\t\t\t<div className=\"header-btn\" id=\"notif-btn\" onClick={clickNotif}><img src={notifications} alt=\"Notifications\"></img></div>\r\n\t\t\t\t<div className=\"header-btn\" id=\"settings-btn\" onClick={clickSettings}><img src={settings} alt=\"Settings\"></img></div>\r\n\t\t\t</div>\r\n\t\t\t<div id=\"pageTitle\">\r\n\t\t\t\t<div id=\"mainTitle\">{headerInfo.title}</div>\r\n\t\t\t\t<div id=\"subTitle\">{headerInfo.subtitle}</div>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"group-btns\" id=\"right-btns\">\r\n\t\t\t\t<div id=\"profilePic\" onClick={clickProfile}><img src={avatar} alt=\"Profile_Picture\"/></div>\r\n\t\t\t\t<div className=\"header-btn\" id=\"logout-btn\" onClick={() => {dispatch(logout())}}>Logout</div>\r\n\t\t\t</div>\r\n\t\t\t{/* style provisório para teste*/}\r\n\t\t\t{ state.view === 'settings' &&\r\n\t\t\t\t<div className='ConfigPopUp' style={{position: 'absolute', backgroundColor: '#ddddee', top: 100, margin: '0 auto', width: '50%', height: 500}}>\r\n\t\t\t\t\tConfigurações\r\n\t\t\t\t\t<Button>Config 1</Button>\r\n\t\t\t\t\t<Button>Config 2</Button>\r\n\t\t\t\t\t<Button>Config 3</Button>\r\n\t\t\t\t\t<Button onClick={() => setState({...state, view: 'default'})}>X</Button>\r\n\t\t\t\t</div>\r\n\t\t\t}\r\n\t\t</header>\r\n\t)\r\n\t/**/\r\n}\r\n\r\nexport default UserHeader\r\n","import React from 'react'\r\n\r\nconst DefaultHeader = ({pageInfo}) => {\r\n\r\n\treturn (\r\n\t\t<header id=\"app-header\" className=\"normal\">\r\n\t\t\t<div className=\"group-btns\">\r\n\t\t\t\t<div className=\"header-btn\">Home</div>\r\n\t\t\t\t<div className=\"header-btn\">About</div>\r\n\t\t\t</div>\r\n\t\t</header>\r\n\t)\r\n\t\r\n}\r\n\r\nexport default DefaultHeader","import './index.scss'\r\nimport React from 'react'\r\nimport UserHeader from '../UserHeader'\r\nimport DefaultHeader from '../DefaultHeader'\r\n\r\nconst AppHeader = ({props}) => {\r\n\treturn props.isLogged ? <UserHeader pageInfo={props} /> : <DefaultHeader />\r\n}\r\n\r\nexport default AppHeader","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport './index.scss'\r\n\r\nconst Home = () => {\r\n  return(\r\n    <div id=\"message\">\r\n      Aqui é a home. Nada muito interessante aqui. Se quiser fazer login:\r\n      <Link to='/login' className=\"btn-normal\">Login</Link>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Home\r\n","import React from 'react'\r\nimport './index.scss'\r\n\r\nconst Init = ({icon, name, description, nameTranlate = \"Name\", descriptionTranlate = \"Description\", onStart, onBack, onSeeTutorial}) => {\r\n    return (\r\n        <div className=\"main-init-wrapper\">\r\n          <div className=\"inner-content\">\r\n            <div name=\"infos\">\r\n              <img className=\"classImage\" src={icon} alt=\"\"/>\r\n              <h1 className=\"margin-half-top type-l type-display type-center\">{name}</h1>\r\n              <h1 className=\"type-m type-display type-center subtitle\">{nameTranlate}</h1>\r\n\r\n              <h2 className=\"margin-half-top type-s type-center description\">{description}</h2>\r\n              <h2 className=\"type-s type-center subdescription\">{descriptionTranlate}</h2>\r\n            </div>\r\n            <div id=\"btns\">\r\n              { onBack && <button className=\"btn btn-center\" id=\"btn-back\" onClick={onBack}>Voltar</button> }\r\n              { onStart && <button className=\"btn btn-center\" id=\"btn-start\" onClick={onStart}>Iniciar</button> }\r\n              { onSeeTutorial && <button className=\"btn btn-center\" id=\"btn-tutorial\" onClick={onSeeTutorial}>Ver tutorial</button> }\r\n            </div>\r\n          </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Init\r\n","import React from 'react'\r\nimport './index.scss'\r\n\r\nconst Result = ({gameEndState}) => {\r\n    return (\r\n        <div>\r\n            {/* Não era pra a gente precisar checar se a string é null, pq era pra isso\r\n            só aparecer quando já tivesse um valor na string... WTF */}\r\n            { gameEndState ? gameEndState.split('\\n').map( str => <p>{str}</p>) : null}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Result\r\n","import React from 'react'\r\nimport './index.scss'\r\n\r\nconst RoomSelect = ({value, buttonList, onChange}) => {\r\n\tconst [state, setState] = React.useState(0)\r\n\r\n\tconst buttonClick = (num) => () => {\r\n\t\tif(onChange) {\r\n\t\t\tonChange(num)\r\n\t\t\tsetState(num)\r\n\t\t}\r\n\t}\r\n\r\n\tReact.useEffect(() => {\r\n\t\tif(value) setState(value)\r\n\t}, [value])\r\n\r\n  return (\r\n\t<div id=\"RoomSelect\">\r\n\t\t<div className=\"section-title\">\r\n\t\t\t<span lang=\"pt-br\">Salas</span>\r\n\t\t\t<span lang=\"en\">Rooms</span>\r\n\t\t</div>\r\n\t\t<div id=\"button-rows\">\r\n\t\t\t{buttonList.map( (name, index) =>\r\n\t\t\t\t<button className={\"RoomBtn\" + (onChange ? \"\" : \" disabled\")} key={index}\r\n\t\t\t\tid={ state === index ? \"selected\" : \"\" }\r\n\t\t\t\tonClick={buttonClick(index)}\r\n\t\t\t\t>\r\n\t\t\t\t\t{index+1}\r\n\t\t\t\t</button> )}\r\n\t\t</div>\r\n\t</div>\r\n  )\r\n}\r\n\r\nexport default RoomSelect\r\n","import React from 'react'\r\nimport './sala.scss'\r\n\r\nconst Sala = ({children, roomData, setCurrentChar}) => {\r\n\r\n  const img = roomData && roomData.backgroundAssets.length > 0 ? roomData.backgroundAssets[0].image[0].url : \"\"\r\n  return (\r\n      // <div id=\"sala\" style={{backgroundImage: `url(\"${img}\")`}}>\r\n      <div id=\"sala\">\r\n        <img src={img} alt=\"\" />\r\n        <div id=\"sala-content\">\r\n          {children}\r\n        </div>\r\n      </div>\r\n  )\r\n}\r\n\r\nexport default Sala\r\n","import React from 'react'\r\nimport './character.scss'\r\n\r\nconst Character = ({zDepth, character, dragPosition, position, onClick, showNameOnHover}) => {\r\n    return (\r\n    <div className=\"CharDiv\" onClick={onClick} style={{\"--z\": zDepth}}>\r\n        <img src={character.characterAssets.length > 0 ? character.characterAssets.find(asset => asset.bodyPart === 'fullbody'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t).image[0].url : \"\"} alt={`${character.name}`}/>\r\n        {showNameOnHover && <div>{character.name}</div>}\r\n    </div>\r\n    )\r\n}\r\n\r\nexport default Character\r\n","const initialValue = {\r\n//METADATA\r\n  back: false,\r\n//GAME STATE\r\n  scene: \"INIT\",\r\n  endGame: false,\r\n  currentLocationIndex: 0,\r\n  locations:[],\r\n  jobs:[],\r\n  countries:[],\r\n  contactsTemplate:[],\r\n  contactsAtSession:[],\r\n//DIALOG\r\n  dialogHistory: [],\r\n  answers: [],\r\n  preSpeech: [],\r\n  currentChar: null,\r\n  characterFeeling: 'init',\r\n  showContacts: false,\r\n  maxQuestions: 4,\r\n  // onMinimize: null,\r\n  shouldMinimize: false,\r\n  shouldCloseDialog: false,\r\n  wrongContacts: 0,\r\n}\r\n\r\n\r\nexport default initialValue\r\n","const stub = {\r\n  name: 'Stub mission',\r\n  description: 'Local stub mission for tests',\r\n  locations: [\r\n    {name: 'sala', backgroundAssets: []},\r\n    {name: 'cozinha', backgroundAssets: []},\r\n    {name: 'biblioteca', backgroundAssets: []},\r\n    {name: 'escritório', backgroundAssets: []}],\r\n  characters: [\r\n    {\r\n      name: 'Joao', characterAssets: [],\r\n      answers: [\r\n        {\r\n          answer: 'oi',\r\n          question: {question: \"oi?\"}\r\n        },\r\n        {\r\n          answer: 'turusim',\r\n          question: {question: \"turubem?\"}\r\n        },\r\n\r\n        {\r\n          answer: 'kiésim',\r\n          question: {question: \"cumékié?\"}\r\n        }\r\n      ]\r\n    },\r\n    {name: 'Pedro', characterAssets: [], answers: [{question: {question: \"oi?\"}}]},\r\n    {name: 'Marta', characterAssets: [], answers: [{question: {question: \"oi?\"}}]},\r\n    {name: 'Suzane', characterAssets: [], answers: [{question: {question: \"oi?\"}}]},\r\n    {name: 'Maria', characterAssets: [], answers: [{question: {question: \"oi?\"}}]},\r\n    {name: 'Pablo', characterAssets: [], answers: [{question: {question: \"oi?\"}}]},\r\n  ]\r\n}\r\n\r\nexport default stub\r\n","import React from 'react'\r\n\r\nconst Dropdown = ({style, defaultText, onChange, label, optionList, value}) => {\r\n\r\n  return(\r\n    <div className={label}>\r\n      <p>{label}</p>\r\n      <select style={style} value={value} onChange={onChange}>\r\n          <option value='' key={-1} disabled>{defaultText ?? \"-- Selecione --\"}</option>\r\n        {optionList?.map((option, index) =>\r\n          <option value={option} key={index}>{option}</option>\r\n        )}\r\n      </select>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Dropdown\r\n","export default __webpack_public_path__ + \"static/media/Celular Sala.f026f530.svg\";","export default __webpack_public_path__ + \"static/media/Celular Base.794704d0.svg\";","export default __webpack_public_path__ + \"static/media/Mão dedão.60615287.svg\";","export default __webpack_public_path__ + \"static/media/Mão palma.ff873eea.svg\";","import React from 'react'\r\n\r\nimport './index.scss'\r\n\r\n/**\r\n * Cria um novo contexto de renderização de página inteira com fundo branco semitransparente\r\n * @param  {Object} props\r\n * @param  {Object | Object[]} props.children\t\t\t\t\t\t\tElementos a serem renderizados\r\n * @param  {boolean} [props.showCloseBtn]\t\t\t\t\t\t\t\tDevo mostrar o botão de fechar?\r\n * @param  {boolean} [props.shouldExit]\t\t\t\t\t\t\t\t\tDevo fechar? Se verdadeiro, inicia animação de fechamento\r\n * @param  {() => void} [props.onClickClose]\t\t\t\t\t\t\tCallback para quando clicam no botão de fechar\r\n * @param  {(event) => void} [props.onReadyToExit]\t\t\t\t\t\tCallback para quando terminei de fechar\r\n * @param  {{r:number, g:number, b:number, a:number}} [props.bgRGBA]\tCor (formato da função rgba()) do fundo desse novo contexto. default é r:255, g:255, b:255, a:0.73\r\n * @param  {{r:number, g:number, b:number}} [props.closeRGB]\t\t\tCor (formato da função rgba()) do botão de fechar desse novo contexto. default é r:255, g:255, b:255, a:0.73\r\n * @param  {{r:number, g:number, b:number}} [props.closeHoverRGB]\t\tCor (formato da função rgba()) do botão de fechar quanto em hover desse novo contexto. default é r:255, g:255, b:255, a:0.73\r\n */\r\nconst FullscreenOverlay = ({\r\n\t\tchildren,\r\n\t\tshowCloseBtn = true,\r\n\t\tshouldExit = false,\r\n\t\tonClickClose,\r\n\t\tonReadyToExit,\r\n\t\tbgRGBA = {},\r\n\t\tcloseRGB = {},\r\n\t\tcloseHoverRGB = {}\r\n\t}) => {\r\n\r\n\tif( showCloseBtn && onClickClose == null ) throw Error(\"Invalid callback for click on close button.\")\r\n\tif( shouldExit && onReadyToExit == null ) throw Error(\"Invalid callback for when finishing the exit animation.\")\r\n\r\n\tconst _readyToExit = (event) => {\r\n\t\tif ( event.target === event.currentTarget ) onReadyToExit(event)\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div id=\"fullscreen-overlay\"\r\n\t\t\t className={shouldExit ? \"ExitAnim\" : null}\r\n\t\t\t onAnimationEnd={shouldExit ? _readyToExit : null}\r\n\t\t\t style={{'--bgR': bgRGBA.r ?? 255, '--bgG': bgRGBA.g ?? 255, '--bgB': bgRGBA.b ?? 255, '--bgA': bgRGBA.a ?? 0.73}}\r\n\t\t>\r\n\t\t\t{children}\r\n\t\t\t{showCloseBtn &&\r\n\t\t\t\t<div\r\n\t\t\t\t\tid=\"fullscreen-overlay-close-btn\"\r\n\t\t\t\t\tonClick={onClickClose}\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t'--closeR': closeRGB.r ?? 89,\r\n\t\t\t\t\t\t'--closeG': closeRGB.g ?? 49,\r\n\t\t\t\t\t\t'--closeB': closeRGB.b ?? 109,\r\n\t\t\t\t\t\t'--closeHoverR': closeHoverRGB.r ?? 249,\r\n\t\t\t\t\t\t'--closeHoverG': closeHoverRGB.g ?? 175,\r\n\t\t\t\t\t\t'--closeHoverB': closeHoverRGB.b ?? 161\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<span>×</span>\r\n\t\t\t\t</div>\r\n\t\t\t}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default FullscreenOverlay\r\n","import React from 'react'\r\nimport Dropdown from '../Dropdown'\r\n\r\nimport smallPhone from '../../../../img/Game1/Celular Sala.svg'\r\nimport bigPhone from '../../../../img/Game1/Celular Base.svg'\r\nimport dedao from '../../../../img/Game1/Mão dedão.svg'\r\nimport palma from '../../../../img/Game1/Mão palma.svg'\r\n\r\nimport './index.scss'\r\nimport FullscreenOverlay from '../../../Game2/components/FullscreenOverlay'\r\n\r\n// const Phone = ({children, modifyContact, contactsTemplate, contacts, jobs, countries, onAddContact, onFinish, onMinimize}) => {\r\nconst Phone = ({children, modifyContact, contactsTemplate, contacts, jobs, countries, onAddContact, onFinish, shouldMinimize, onMinimize}) => {\r\n\tconst [state,setState] = React.useState({maximized: false, shouldMinimize: false})\r\n\t// const [newContact,setNewContact] = React.useState({name: '', job: '', country: ''})\r\n\t\r\n\tReact.useEffect( () => {\r\n\t\tsetState({...state, contacts: contacts})\r\n\t\t//eslint-disable-next-line\r\n\t}, [contacts])\r\n\t\r\n\tReact.useEffect( () => {\r\n\t\tif(shouldMinimize) _shouldMinimize()\r\n\t\t//eslint-disable-next-line\r\n\t}, [shouldMinimize])\r\n\r\n\t// React.useEffect( () => {\r\n\t// \tif(onMinimize) _shouldMinimize()\r\n\t// \t//eslint-disable-next-line\r\n\t// }, [onMinimize])\r\n\r\n\tconst _maximize = () => {\r\n\t\tsetState({...state, maximized: true})\r\n\t}\r\n\t\r\n\tconst _shouldMinimize = () => {\r\n\t\tsetState({...state, shouldMinimize: true})\r\n\t}\r\n\r\n\tconst _minimized = () => {\r\n\t\t// setState({...state, shouldMinimize: false, maximized: false})\r\n\t\tstate.shouldMinimize = false\r\n\t\tstate.maximized = false\r\n\t\tif(typeof(onMinimize) === \"function\") onMinimize()\r\n\t}\r\n\r\n\t// const _addContato = () => {\r\n\t// \tif(onAddContact) onAddContact(newContact)\r\n\t// \telse throw new Error(\"Using phone without callback: onAddContact\")\r\n\t// \tsetNewContact({name: '', job: '', country: ''})\r\n\t// }\r\n\r\n\tconst _terminou = () => {\r\n\t\tif(typeof(onFinish) === \"function\") onFinish()\r\n\t\telse console.log(\"onFinish not set or is not a function\")\r\n\t}\r\n\r\n\tconst _contatoTemplate = (contact, key) => {\r\n\t\treturn (\r\n\t\t\t<div className=\"contato\" key={key}>\r\n\t\t\t\t<div className=\"contact-profile-pic\">\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<div></div>\r\n\t\t\t\t\t\t<div></div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<span>{key+1}</span>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"name\">\r\n\t\t\t\t\t<p>Nome</p>\r\n\t\t\t\t\t<input type=\"text\" name=\"nome\" placeholder=\"Nome do contato\" value={contact.name} readOnly=\"readonly\" onChange={()=>{}}/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<Dropdown\r\n\t\t\t\t\t// style={ contact.job === contactsTemplate?.find( template => template?.id === contact.id).job? {backgroundColor: '#cceecc'} : {}}\r\n\t\t\t\t\tonChange={e => modifyContact({...contact, job: e.target.value}) }\r\n\t\t\t\t\tlabel={\"Profissão\"}\r\n\t\t\t\t\tvalue={contact.job}\r\n\t\t\t\t\toptionList={jobs}\r\n\t\t\t\t/>\r\n\t\t\t\t<Dropdown\r\n\t\t\t\t\t// style={ contact.country === contactsTemplate?.find( template => template?.id === contact.id).country? {backgroundColor: '#cceecc'} : {}}\r\n\t\t\t\t\tonChange={e => modifyContact({...contact, country: e.target.value})}\r\n\t\t\t\t\tlabel={\"Nacionalidade\"}\r\n\t\t\t\t\tvalue={contact.country}\r\n\t\t\t\t\toptionList={countries}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n\r\n\treturn(\r\n\t\t<div id=\"phone\">\r\n\t\t\t<div id=\"small-phone-wrapper\" className={state.maximized ? \"maximized\" : null}>\r\n\t\t\t\t<div id=\"small-phone-inner-wrapper\">\r\n\t\t\t\t\t<div id=\"small-phone-content\" onClick={_maximize}>\r\n\t\t\t\t\t\t<div id=\"small-phone-floating-text\">\r\n\t\t\t\t\t\t\t<span lang=\"pt-br\">Adicione um novo contato</span>\r\n\t\t\t\t\t\t\t<span lang=\"default\">Add a new contact</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<img src={smallPhone} alt=\"\" />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t{state.maximized &&\r\n\t\t\t\t<FullscreenOverlay\r\n\t\t\t\t\t\tbgRGBA={{r:249, g:175, b:161, a:0.69}}\r\n\t\t\t\t\t\tcloseHoverRGB={{r: 255, g: 255, b: 255}}\r\n\t\t\t\t\t\tonClickClose={_shouldMinimize}\r\n\t\t\t\t\t\tshouldExit={state.shouldMinimize}\r\n\t\t\t\t\t\tonReadyToExit={_minimized}\r\n\t\t\t\t>\r\n\t\t\t\t\t<div id=\"big-phone-wrapper\" className={state.shouldMinimize ? \"minimizing\" : null}>\r\n\t\t\t\t\t\t<div id=\"big-phone-imgs\">\r\n\t\t\t\t\t\t\t<img src={palma} alt=\"\" />\r\n\t\t\t\t\t\t\t<img src={bigPhone} alt=\"\" />\r\n\t\t\t\t\t\t\t<img src={dedao} alt=\"\" />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div id=\"big-phone-screen-wrapper\">\r\n\t\t\t\t\t\t\t<div id=\"big-phone-screen-content\">\r\n\t\t\t\t\t\t\t\t<p>Lista de contatos</p>\r\n\t\t\t\t\t\t\t\t<div id=\"lista-contatos\">\r\n\t\t\t\t\t\t\t\t\t{contacts?.map((contact, index) => {\r\n\t\t\t\t\t\t\t\t\t\treturn _contatoTemplate(contact, index)\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t{/* <div id=\"add-contato\" className=\"contato\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"contact-profile-pic\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div></div>\r\n\t\t\t\t\t\t\t\t\t\t\t<span><strong>+</strong></span>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"Nome\">\r\n\t\t\t\t\t\t\t\t\t\t\t<p>Nome</p>\r\n\t\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tname=\"nome\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Nome do contato\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={newContact.name}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={(event)=>setNewContact({...newContact, name: event.target.value})}/>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\t\t\t\t\tlabel={\"Profissão\"}\r\n\t\t\t\t\t\t\t\t\t\t\toptionList={jobs}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={newContact.job}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={(event)=>setNewContact({...newContact, job: event.target.value})}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\t\t\t\t\tlabel={\"Nacionalidade\"}\r\n\t\t\t\t\t\t\t\t\t\t\toptionList={countries}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={newContact.country}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={(event)=>setNewContact({...newContact, country: event.target.value})}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\tid=\"btn-add-contato\"\r\n\t\t\t\t\t\t\t\t\t\t\tclassName={!(newContact.name && newContact.job && newContact.country) ? \"disabled\" : \"enabled\"}\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={addContato}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\tAdicionar contato\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div> */}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{/* <div id=\"btn-terminei\" onClick={() => setState({...state, changeRoomPopUp: true})}> */}\r\n\t\t\t\t\t\t<div id=\"btn-terminei-wrapper\">\r\n\t\t\t\t\t\t\t<div id=\"btn-terminei\" onClick={_terminou}>\r\n\t\t\t\t\t\t\t\tTerminei!\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</FullscreenOverlay>\r\n\t\t\t}\r\n\t\t</div>\r\n\t)\r\n}\r\nexport default Phone\r\n","import React from 'react'\r\n\r\nconst Menu = ({buttonList, onButtonClick}) => {\r\n  return(\r\n    <div id='Menu'>\r\n      <div id=\"menu-options\">\r\n        {buttonList.map( (button,index) =>\r\n          <button key={index} onClick={() => {onButtonClick(button)}}><span>{button.question}</span></button>\r\n          )}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Menu\r\n","import React from 'react'\r\n\r\nconst DialogCharacter = ({character, feeling}) => {\r\n  let characterImg = \"\"\r\n\r\n  if( !(character == null) ) {\r\n    if( character.characterAssets.length > 0 ) {\r\n      characterImg = character.characterAssets\r\n        .find(asset => asset.bodyPart === 'upperBody' && asset.type === feeling)\r\n        .image[0].url\r\n    }\r\n  }\r\n\r\n  return(\r\n    <div id='CharacterPortrait'>\r\n      {<img src={characterImg} alt=\"Character Portrait\" />}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default DialogCharacter\r\n","import React from 'react'\r\nimport './index.scss'\r\n\r\nconst DialogHistory = ({dialogHistory}) => {\r\n\treturn(\r\n\t\t<div id='dialog-history-wrapper'>\r\n\t\t\t<div id='dialog-history-content'>\r\n\t\t\t\t{dialogHistory.map((dialog, index)=>\r\n\t\t\t\t\t<div className={\"mensagem\" + (dialog.speaker==='player'? 0 : 1) } key={index}>{dialog.text}</div>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default DialogHistory\r\n","import React from 'react'\r\n/**\r\n * Componente para escrita de texto caracter a caracter\r\n * \r\n * @param  {Object} props\r\n * @param  {string} props.text\t\t\t\tTexto a ser escrito caracter por caracter\r\n * @param  {number} props.characterTime\t\tDelay, em milissegundos, entre cada caracter\r\n * @param  {() => void} props.onWritten\t\tCallback para quando terminou de escrever\r\n * @param  {number} props.afterWrittenTime\tDelay, em milissegundos, antes de avisar que terminou de escrever\r\n */\r\nconst Writer = ({text, characterTime, onWritten, afterWrittenTime}) => {\r\n\tconst [state, setState] = React.useState({text: text, index: 0})\r\n\r\n\tReact.useEffect( () => {\r\n\tif( text !== state.text )\r\n\t\tsetState( () => ({text: text, index: 0}))\r\n\t}, [text, state.text] )\r\n\r\n\tReact.useEffect( () => {\r\n\t\tlet timeoutID\r\n\t\tif( state.index < state.text.length ) {\r\n\t\t\ttimeoutID = setTimeout( () => { setState({...state, index: state.index + 1}) }, characterTime)\r\n\t\t} else {\r\n\t\t\ttimeoutID = setTimeout( onWritten, afterWrittenTime )\r\n\t\t}\r\n\t\treturn () => {clearTimeout(timeoutID)}\r\n\t})\r\n\r\n\treturn(\r\n\t\t<div id=\"Writer\">\r\n\t\t\t{ state.text.substring(0, state.index) }\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default Writer\r\n","import Menu from '../Menu'\r\nimport React from 'react'\r\nimport DialogCharacter from '../DialogCharacter'\r\nimport DialogHistory from '../DialogHistory'\r\nimport FullscreenOverlay from '../FullscreenOverlay'\r\nimport Writer from '../Writer'\r\n\r\nimport './index.scss'\r\n\r\n/**\r\n * Elemento para renderização de uma conversa com algum NPC, estilo graphic novel.\r\n * \r\n * @param  {Object} props\r\n * @param  {Object | Object[]} [props.children]\r\n *\t\t\tElementos extras a serem renderizados no mesmo contexto\r\n * @param  {boolean} [props.shouldExit]\r\n *\t\t\tDevo fechar? Se verdadeiro, inicia animação de fechamento\r\n * @param  {boolean} [props.showDialogHistory]\r\n *\t\t\tO histórico da conversa deve ser mostrado?\r\n * @param  {(dialogHistory)=>void} [props.onClearDialogHistory]\r\n *\t\t\tEnquanto este campo não for null, limparei meu histórico e chamarei esse callback a cada limpeza\r\n * @param  {boolean} [props.callAfterWritterForEveryMsg]\r\n *\t\t\tSe verdadeiro, chamarei a callback afterWritter ao final de cada mensagem, mesmo no caso de múltiplas mensagens consecutivas\r\n * @param  {number} [props.msPerCharacter]\r\n *\t\t\tDelay, em milissegundos, entre cada caracter da exibição da resposta\r\n * @param  {number} [props.waitAfterWritten]\r\n *\t\t\tDelay, em milissegundos, ao final de cada mensagem escrita\r\n * @param  { {text:string, speaker?: string}[]} [props.prevDialogHistory]\r\n *\t\t\tHistórico inicial da conversa\r\n * @param  {string | string[]} [props.charPreSpeech]\r\n *\t\t\tLista de falas a serem apresentadas antes de se dar a opção de escolha ao jogador\r\n * @param  {{question:string, answers:string[]}[]} props.convOptions\r\n *\t\t\tLista de opções para o jogador escolher (com suas respostas)\r\n * @param  {Object} [props.currentChar]\r\n *\t\t\tInfo do personagem a ser renderizado\r\n * @param  {Object} [props.charFeeling]\r\n *\t\t\tInfo de qual emoção o personagem deve ter\r\n * @param  {() => void} [props.afterWriter]\r\n *\t\t\tCallback para quando as mensagems terminarem de ser enviadas\r\n * @param  {(dialogHistory:{text:string, speaker?:string}[]) => void} [props.onExited]\r\n *\t\t\tCallback para quando se sair do diálogo. Envia todo o histórico de mensagens enviadas até o momento\r\n * @param  {(convoChoosen) => void} [props.onConvoChoiceMade]\r\n *\t\t\tCallback sobre qual alternativa foi escolhida. Envia a convOption escolhida\r\n */\r\nconst Conversa = ({\r\n\t\tchildren,\r\n\t\tshouldExit = false,\r\n\t\tshowDialogHistory = true,\r\n\t\tonClearDialogHistory = null,\r\n\t\tcallAfterWritterForEveryMsg = false,\r\n\t\tmsPerCharacter = 50,\r\n\t\twaitAfterWritten = 2000,\r\n\t\tprevDialogHistory = [],\r\n\t\tcharPreSpeech = null,\r\n\t\tconvOptions = [],\r\n\t\tcurrentChar = null,\r\n\t\tcharFeeling = null,\r\n\t\tafterWriter = () => {},\r\n\t\tonExited = (dialogHistory) => {},\r\n\t\tonConvoChoiceMade = (convoChoosen) => {},\r\n\t}) => {\r\n\r\n\tconst [state, setState] = React.useState({\r\n\t\tquerFechar: shouldExit,\r\n\t\tanswers: null,\r\n\t\tdialogHistory: prevDialogHistory\r\n\t});\r\n\r\n\t// if( charPreSpeech !== null && charPreSpeech.length > 0 ) {\r\n\t// \tstate.currentAnswer = 0\r\n\t// \tstate.answers = typeof(charPreSpeech) === \"string\" ? [charPreSpeech] : charPreSpeech\r\n\t// \tcharPreSpeech = null\r\n\t// }\r\n\r\n\t// * UNDEFINED BEHAVIOR caso alguém mude o charPreSpeech desse componente enquanto o writer faz algo\r\n\tReact.useEffect( () => {\r\n\t\tif( charPreSpeech !== null && charPreSpeech.length > 0 ) {\r\n\t\t\t// state.currentAnswer = 0\r\n\t\t\t// state.answers = typeof(charPreSpeech) === \"string\" ? [charPreSpeech] : charPreSpeech\r\n\t\t\t// console.log('effect', state.answers)\r\n\t\t\tsetState({\r\n\t\t\t\t...state,\r\n\t\t\t\tcurrentAnswer: 0,\r\n\t\t\t\tanswers: typeof(charPreSpeech) === \"string\" ? [charPreSpeech] : charPreSpeech\r\n\t\t\t})\r\n\t\t}\r\n\t\t// eslint-disable-next-line\r\n\t}, [charPreSpeech])\r\n\t\r\n\t// * UNDEFINED BEHAVIOR caso alguém mande limpar enquanto o writer faz algo\r\n\tReact.useEffect(() => {\r\n\t\tif( onClearDialogHistory ) {\r\n\t\t\tonClearDialogHistory(state.dialogHistory)\r\n\t\t\tstate.dialogHistory = []\r\n\t\t}\r\n\t\t// eslint-disable-next-line\r\n\t}, [onClearDialogHistory])\r\n\t\r\n\tReact.useEffect( () => {\r\n\t\tsetState({...state, querFechar: shouldExit})\r\n\t\t// eslint-disable-next-line\r\n\t}, [shouldExit])\r\n\r\n\tconst _querFechar = () => {\r\n\t\tsetState({\r\n\t\t\t...state,\r\n\t\t\tquerFechar: true\r\n\t\t})\r\n\t}\r\n\r\n\tconst _podeFechar = () => {\r\n\t\tonExited(state.dialogHistory)\r\n\t}\r\n\r\n\tconst _afterWriter = () => {\r\n\t\tlet updateState = {}\r\n\t\tif( state.currentAnswer < state.answers.length - 1 ) {\r\n\t\t\tupdateState = {\r\n\t\t\t\tcurrentAnswer: state.currentAnswer + 1\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tupdateState = {\r\n\t\t\t\tcurrentAnswer: null,\r\n\t\t\t\tanswers: null\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tsetState({\r\n\t\t\t...state,\r\n\t\t\t...updateState,\r\n\t\t\tdialogHistory: [\r\n\t\t\t\t...state.dialogHistory,\r\n\t\t\t\t{text: state.answers[state.currentAnswer]}\r\n\t\t\t],\r\n\t\t})\r\n\r\n\t\tif( callAfterWritterForEveryMsg || state.currentAnswer >= state.answers.length - 1 )\r\n\t\t\tafterWriter()\r\n\t}\r\n\r\n\tconst _convoChoiceClick = (convoChoosen) => {\r\n\r\n\t\tif( typeof(convoChoosen.answers) === \"string\" ) convoChoosen.answers = [convoChoosen.answers]\r\n\t\tsetState( {\r\n\t\t\t...state,\r\n\t\t\tdialogHistory: [\r\n\t\t\t\t...state.dialogHistory,\r\n\t\t\t\t{text: convoChoosen.question, speaker: 'player'}\r\n\t\t\t],\r\n\t\t\tanswers: convoChoosen.answers,\r\n\t\t\tcurrentAnswer: 0\r\n\t\t})\r\n\r\n\t\tonConvoChoiceMade(convoChoosen)\r\n\t}\r\n\r\n\treturn (\r\n\t\t<FullscreenOverlay shouldExit={state.querFechar} onClickClose={_querFechar} onReadyToExit={_podeFechar}>\r\n\t\t\t<div id=\"dialog-interact\" className={state.querFechar ? \"ExitAnim\" : null}>\r\n\t\t\t\t<div id=\"dialogos\">\r\n\t\t\t\t\t{showDialogHistory ? <DialogHistory dialogHistory={state.dialogHistory}/> : <div style={{flexGrow: '1'}} />}\r\n\t\t\t\t\t<div id='dialog-box' className={state.answers ? \"alternative\" : \"\"}>\r\n\t\t\t\t\t\t{state.answers ?\r\n\t\t\t\t\t\t\t<Writer text={state.answers[state.currentAnswer]}\r\n\t\t\t\t\t\t\t\tonWritten={_afterWriter}\r\n\t\t\t\t\t\t\t\tafterWrittenTime={waitAfterWritten}\r\n\t\t\t\t\t\t\t\tcharacterTime={msPerCharacter}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t<Menu buttonList={convOptions}\r\n\t\t\t\t\t\t\t\tonButtonClick={_convoChoiceClick}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<DialogCharacter character={currentChar} feeling={charFeeling}/>\r\n\t\t\t</div>\r\n\t\t\t{children}\r\n\t\t</FullscreenOverlay>\r\n\t)\r\n}\r\n\r\nexport default Conversa\r\n","export default __webpack_public_path__ + \"static/media/ícone_jogo1.244e8c29.svg\";","import React from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { Redirect } from 'react-router-dom'\r\n\r\nimport { apiActions } from '../../_actions'\r\n\r\nimport Init from '../Game2/components/Init'\r\nimport Result from '../Game2/components/Result'\r\nimport RoomSelect from '../Game2/components/RoomSelect'\r\nimport Sala from '../Game2/components/Sala'\r\nimport Character from '../Game2/components/Character'\r\nimport initialState from './initialState.js'\r\nimport stub from './stub.js'\r\nimport Phone from './components/Phone'\r\nimport Conversa from '../Game2/components/Conversa'\r\nimport FullscreenOverlay from '../Game2/components/FullscreenOverlay'\r\n\r\nimport iconInit from '../../img/Game1/ícone_jogo1.svg'\r\n\r\nimport './index.scss'\r\n\r\nconst Game1 = (props) => {\r\n\tconst [state, setState] = React.useState(initialState)\r\n\r\n\tconst { game_1_missionsActions, play_sessionsActions, player_actionsActions } = apiActions\r\n\tconst id = props.match.params.id\r\n\tconst dispatch = useDispatch()\r\n\r\n\tconst loading = useSelector( state => state.game_1_missions.loading)\r\n\tlet error = useSelector( state => state.game_1_missions.error)\r\n\tlet mission = useSelector( state => state.game_1_missions.items.find(mission => mission.id === props.match.params.id))\r\n\t//const userId = useSelector( state => state.authentication.user.user.id )\r\n\tconst currentPlaySession = useSelector( state => state.play_sessions ? state.play_sessions.items[0] : {} )\r\n\r\n\t//Track playerActions\r\n\tReact.useEffect(() => {\r\n\t\tif(!state.tracking || !currentPlaySession)\r\n\t\t\treturn\r\n\r\n\t\tconst\tgetClickedObject = (e) => {\r\n\t\t\t\tdispatch(player_actionsActions.create({\r\n\t\t\t\t\t'play_session': currentPlaySession.id,\r\n\t\t\t\t\tdata:\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\ttag: e.target.nodeName,\r\n\t\t\t\t\t\t\t\talt: e.target.alt,\r\n\t\t\t\t\t\t\t\tclassName: e.target.className,\r\n\t\t\t\t\t\t\t\tinnerHTML: e.target.innerHTML.includes('<div') ? null : e.target.innerHTML, clickTime: new Date()\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t}))\r\n\t\t\t}\r\n\t\tdocument.addEventListener(\"mousedown\", getClickedObject)\r\n\r\n\t\tsetState( s => { return {...s, currentPlaySession, getClickedObject} })\r\n\t\treturn () => {\r\n\t\t\tdocument.removeEventListener(\"mousedown\", getClickedObject)\r\n\t\t}\r\n\t}, [dispatch, currentPlaySession, player_actionsActions, state.tracking])\r\n\r\n\tReact.useEffect(() => {\r\n\t\tif(id && !mission)\r\n\t\t\tdispatch(game_1_missionsActions.getById(props.match.params.id))\r\n\t\tif(mission){\r\n\t\t\tlet data = {}\r\n\r\n\t\t\t//distribute characters in locations\r\n\t\t\tif(state.locations.length === 0){\r\n\t\t\t\t// data.locations = [...mission.locations]\r\n\t\t\t\tdata.locations = mission.locations.filter( (location) => {return location.characters}) // Só pq o backend está trazendo info errada\r\n\t\t\t\tlet place = data.locations.length-1\r\n\t\t\t\tlet characters = mission.characters.slice()\r\n\t\t\t\twhile( characters.length > 0 ) {\r\n\t\t\t\t\tlet randIdx = Math.floor(Math.random()*characters.length)\r\n\t\t\t\t\t// percorre as salas uma por uma e ordem crescente repetidamente\t\t\t\tE coloca um personagem aleatório dentro dela\r\n\t\t\t\t\tdata.locations[place=(place+1)%data.locations.length].characters.push( {...characters.splice(randIdx, 1)[0], zDepth: Math.random()} )\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t//list of all available jobs\r\n\t\t\tif(state.jobs.length === 0){\r\n\t\t\t\tdata.jobs = mission.characters.reduce( (acc, character) => {\r\n\t\t\t\t\tif(!acc.includes(character.job))\r\n\t\t\t\t\t\tacc.push(character.job)\r\n\t\t\t\t\treturn acc\r\n\t\t\t\t}, [])\r\n\t\t\t}\r\n\r\n\t\t\t//list of all available countries\r\n\t\t\tif(state.countries.length === 0){\r\n\t\t\t\tdata.countries = mission.characters.reduce( (acc, character) => {\r\n\t\t\t\t\tif(!acc.includes(character.country))\r\n\t\t\t\t\t\tacc.push(character.country)\r\n\t\t\t\t\treturn acc\r\n\t\t\t\t}, [])\r\n\t\t\t}\r\n\r\n\t\t\t//resume characters as contacts\r\n\t\t\tif(state.contactsTemplate.length === 0){\r\n\t\t\t\t//create full contact template\r\n\t\t\t\tdata.contactsTemplate = mission.characters.reduce( (acc, character) => {\r\n\t\t\t\t\tacc.push({id: character.id, name: character.name, country: character.country, job: character.job,\r\n\t\t\t\t\t\t//looks for mission configuration\r\n\t\t\t\t\t\tshowJob: character.game_1_mission_characters.length > 0 &&\r\n\t\t\t\t\t\t\t\t\t\t character.game_1_mission_characters.find(config => config.game_1_mission === mission.id).showJob,\r\n\t\t\t\t\t\tshowCountry: character.game_1_mission_characters.length > 0 &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t character.game_1_mission_characters.find(config => config.game_1_mission === mission.id).showCountry})\r\n\t\t\t\t\treturn acc\r\n\t\t\t\t}, [])\r\n\r\n\t\t\t\t//create contact state shown to/ manipulated by to player\r\n\t\t\t\tdata.contactsAtSession = data.contactsTemplate.map( contact => {\r\n\t\t\t\t\treturn {...contact,\r\n\t\t\t\t\t\tjob: contact.showJob? contact.job : '',\r\n\t\t\t\t\t\tcountry: contact.showCountry? contact.showCountry : ''\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\tif(Object.keys(data).length > 0)\r\n\t\t\t\tsetState(state => { return {...state, ...data}})\r\n\t\t}\r\n\t}, [dispatch, id, mission, game_1_missionsActions, props.match.params.id, state.locations.length, state.contactsTemplate.length, state.countries.length, state.jobs.length])\r\n\r\n\tif(error){\r\n\t\terror = null\r\n\t\tmission = stub\r\n\t}\r\n\r\n\tconst onStartGame = (e) => {\r\n\t\tif(state.tracking){\r\n\t\t\tdispatch(play_sessionsActions.create({\r\n\t\t\t\t//usersPergame_1_missionsUser: userId,\r\n\t\t\t\t//mission: mission.id\r\n\t\t\t}))\r\n\t\t}\r\n\t\tsetState({...state, scene: 'ROOM'})\r\n\t}\r\n\r\n\tconst setCurrentChar = (character) => () => {\r\n\t\tlet convOptions = character.answers.filter( answer => mission?.questions?.find(question => question?.id === answer?.question?.id)) ?? []\r\n\t\tif(convOptions.length === 0) console.log(\"Couldn't find any questions to ask currentChar\")\r\n\t\tsetState({...state, currentChar: character, questionsAsked: 0, convOptions: convOptions})\r\n\t}\r\n\r\n\tconst afterWriter = () => {\r\n\t\tlet updatedState = {}\r\n\t\tif( state.questionsAsked === state.maxQuestions && state.preSpeech.length === 0 ) {\r\n\t\t\tupdatedState.preSpeech = [\"Espero que isso tenha sido tudo. Tenho que ir agora...\"]\r\n\t\t\tupdatedState.convOptions = [{question: \"Ah tá. Tchau!\", answer: [\"Tchau!\"], close: true}]\r\n\t\t} else if ( state.questionsAsked > state.maxQuestions ) {\r\n\t\t\tupdatedState.convOptions = []\r\n\t\t}\r\n\t\tif(state.close) {\r\n\t\t\tupdatedState.shouldCloseConvo = true\r\n\t\t\tupdatedState.close = false\r\n\t\t}\r\n\r\n\t\tsetState({...state, ...updatedState})\r\n\t}\r\n\r\n\tconst onMenuButtonClick = (answer) => {\r\n\t\t//\r\n\t\t//\tAplicar lógica adicional de click nos botões do menu\r\n\t\t//\r\n\t\tlet updatedState = {}\r\n\t\tupdatedState.questionsAsked = state.questionsAsked + 1\r\n\t\tif( updatedState.questionsAsked < state.maxQuestions ) {\r\n\t\t\tupdatedState.convOptions = state.convOptions.filter( convOption => convOption !== answer ) // Esse é para remover as perguntas já feitas, se for pra fazer isso\r\n\t\t} else {\r\n\t\t\tupdatedState.preSpeech = []\r\n\t\t\tupdatedState.convOptions = []\r\n\t\t}\r\n\t\tif( answer.close ) updatedState.close = true\r\n\t\tsetState({...state, ...updatedState})\r\n\t}\r\n\r\n\tconst modifyContact = (contact) => {\r\n\t\tlet index = state.contactsAtSession.indexOf(state.contactsAtSession.find( c => c.id === contact.id))\r\n\t\tconsole.log('changing:', contact)\r\n\t\tsetState({...state,\r\n\t\t\tcontactsAtSession: [\r\n\t\t\t\t...state.contactsAtSession.slice(0, index), contact, ...state.contactsAtSession.slice(index + 1)\r\n\t\t\t]\r\n\t\t})\r\n\t}\r\n\r\n\tconst closeDialog = () => {\r\n\t\tsetState({...state, currentChar: null})\r\n\t}\r\n\r\n\tif(state.changeRoomPopUp) {\r\n\t\tstate.wrongContacts = 0\r\n\t\tstate.locations[state.currentLocationIndex].characters.forEach( (contact, index) => {\r\n\t\t\tlet answer = state.contactsAtSession.find( (contactAtSession) => {return contactAtSession.id === contact.id} )\r\n\t\t\tlet gabarito = state.contactsTemplate.find( (contactTemplate) => {return contactTemplate.id === contact.id} )\r\n\t\t\tif( answer.job !== gabarito.job || answer.country !== gabarito.country )\r\n\t\t\t\tstate.wrongContacts++\r\n\t\t})\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div id=\"game1-wrapper\">\r\n\t\t\t{loading ? <div>Loading...</div> : error ? <div>{error}</div> : mission &&\r\n\t\t\t\t<div id=\"game1-content\">\r\n\t\t\t\t\t<div id=\"input-tracker\">TrackInput: <input type=\"checkbox\" onChange={(e)=>{ setState({...state, tracking: e.target.checked}) }} /></div>\r\n\t\t\t\t\t{(function renderScene(){\r\n\t\t\t\t\t\tswitch(state.scene){\r\n\t\t\t\t\t\t\tcase \"INIT\":\r\n\t\t\t\t\t\t\t\treturn <Init\r\n\t\t\t\t\t\t\t\t\t\t\ticon={iconInit}\r\n\t\t\t\t\t\t\t\t\t\t\tname={mission.name} description={mission.description}\r\n\t\t\t\t\t\t\t\t\t\t\tonStart={ onStartGame }\r\n\t\t\t\t\t\t\t\t\t\t\tonBack={ ()=> setState({...state, back: true}) }\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\tcase \"ROOM\":\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<div id=\"room-itself\">\r\n\t\t\t\t\t\t\t\t\t\t<RoomSelect\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={state.currentLocationIndex}\r\n\t\t\t\t\t\t\t\t\t\t\tbuttonList={state.locations.map( location => location.name)}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t<Sala roomData={state.locations[state.currentLocationIndex]} key={state.currentLocationIndex}>\r\n\t\t\t\t\t\t\t\t\t\t\t{state.locations[state.currentLocationIndex].characters.map((character, index) =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Character key={index}\r\n\t\t\t\t\t\t\t\t\t\t\t\tzDepth={character.zDepth}\r\n\t\t\t\t\t\t\t\t\t\t\t\tcharacter={character}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={setCurrentChar(character)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t</Sala>\r\n\t\t\t\t\t\t\t\t\t\t<Phone\r\n\t\t\t\t\t\t\t\t\t\t\tcontacts={\r\n\t\t\t\t\t\t\t\t\t\t\t\tstate.contactsAtSession.filter(contact => state.locations[state.currentLocationIndex].characters.find( character => character.id === contact.id))\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\tmodifyContact={modifyContact}\r\n\t\t\t\t\t\t\t\t\t\t\tcontactsTemplate={state.contactsTemplate}\r\n\t\t\t\t\t\t\t\t\t\t\tjobs={state.jobs}\r\n\t\t\t\t\t\t\t\t\t\t\tcountries={state.countries}\r\n\t\t\t\t\t\t\t\t\t\t\tonFinish={() => setState({...state, changeRoomPopUp: true})}\r\n\t\t\t\t\t\t\t\t\t\t\tonMinimize={() => setState({...state, shouldMinimize: false})}\r\n\t\t\t\t\t\t\t\t\t\t\tshouldMinimize={state.shouldMinimize}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t{state.currentChar &&\r\n\t\t\t\t\t\t\t\t\t\t<Conversa\r\n\t\t\t\t\t\t\t\t\t\t\tshouldExit={state.shouldCloseConvo}\r\n\t\t\t\t\t\t\t\t\t\t\tprevDialogHistory={[]}\r\n\t\t\t\t\t\t\t\t\t\t\tonClearDialogHistory={state.refreshDialog}\r\n\t\t\t\t\t\t\t\t\t\t\tcharPreSpeech={state.preSpeech}\r\n\t\t\t\t\t\t\t\t\t\t\tconvOptions={state.convOptions.reduce((acc, convOption) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tlet option = {...convOption, ...convOption.question, answers: convOption.answer}\r\n\t\t\t\t\t\t\t\t\t\t\t\tdelete option.answer\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn [...acc, option ]\r\n\t\t\t\t\t\t\t\t\t\t\t}, [])}\r\n\t\t\t\t\t\t\t\t\t\t\tcurrentChar={state.currentChar}\r\n\t\t\t\t\t\t\t\t\t\t\tcharFeeling={state.characterFeeling}\r\n\t\t\t\t\t\t\t\t\t\t\tafterWriter={afterWriter}\r\n\t\t\t\t\t\t\t\t\t\t\tonExited={closeDialog}\r\n\t\t\t\t\t\t\t\t\t\t\tonConvoChoiceMade={onMenuButtonClick}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<div id=\"question-counter\" className={state.questionsAsked >= state.maxQuestions ? \"max\" : null}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div id=\"question-counter-info\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div>Você já fez</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"numbers\"><span>{Math.min(state.questionsAsked, state.maxQuestions)}</span>/{state.maxQuestions}</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div>perguntas</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</Conversa>\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t{ state.changeRoomPopUp &&\r\n\t\t\t\t\t\t\t\t\t\t<FullscreenOverlay\r\n\t\t\t\t\t\t\t\t\t\t\tshowCloseBtn={false}\r\n\t\t\t\t\t\t\t\t\t\t\tshouldExit={state.shouldCloseDialog}\r\n\t\t\t\t\t\t\t\t\t\t\tonReadyToExit={() => {setState({...state, shouldCloseDialog: false, changeRoomPopUp: false})}}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"popup-wrapper\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"popup-content\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span>Are you sure?</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{state.wrongContacts > 0 ?\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstate.wrongContacts + \" people have the wrong data. Are you sure you want to continue? You may not be able to overcome this midlife crisis!\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"Everything seems ok around here. Do you want to continue?\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div id=\"popup-btns\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<button id=\"no-go\" onClick={() => setState({...state, shouldCloseDialog: true})}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{state.wrongContacts > 0 ? \"Keep trying\" : \"Not yet\"}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<button id=\"go\" onClick={ () => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif(state.currentLocationIndex + 1 < state.locations.length)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetState({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...state,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tshouldCloseDialog: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcurrentLocationIndex: state.currentLocationIndex + 1,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tshouldMinimize: true\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetState({...state, scene: 'ENDGAME'})\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{state.wrongContacts > 0 ? \"Continue anyway\" : \"Let's go\"}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</FullscreenOverlay>\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t</div>)\r\n\t\t\t\t\t\t\t\tcase 'ENDGAME':\r\n\t\t\t\t\t\t\t\t\treturn(\r\n\t\t\t\t\t\t\t\t\t\t<div style={{position: 'absolute', top:0, right:0, bottom:0, left:0, textAlign:\"center\", paddingTop:\"45vh\"}}>\r\n\t\t\t\t\t\t\t\t\t\t\tFim de jogo! tela de feedback\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\t\t\treturn(<div>Error</div>)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}())}\r\n\t\t\t\t\t{ !state.gameEndState && // Não dá para ser !endGame pq ele vira true na hora que aparece para o jogador se apresentar\r\n\t\t\t\t\t\t<div></div>\r\n\t\t\t\t\t}\r\n\t\t\t\t\t{\tstate.endGame ? <Result gameEndState={state.gameEndState}/> : null }\r\n\t\t\t\t\t{ state.tries > 0 ? <div>{state.tries} tentativa{state.tries > 1? 's' : ''}!</div> : null}\r\n\t\t\t\t\t{ state.back && <Redirect to='/userspace' />}\r\n\t\t\t\t</div>\r\n\t\t\t}\r\n\t\t</div>\r\n  )\r\n}\r\n\r\nexport default Game1\r\n","export default __webpack_public_path__ + \"static/media/lampada_apagada.3f2311d7.svg\";","export default __webpack_public_path__ + \"static/media/lampada_acesa.aeef7b84.svg\";","import React from 'react'\r\nimport lamp_apagada from '../../../../img/lampada_apagada.svg'\r\nimport lamp_acesa from '../../../../img/lampada_acesa.svg'\r\n\r\nimport './index.scss'\r\n\r\nconst AcusationLamp = ({onClick}) => {\r\n  return(\r\n    <div id=\"acusar\" onClick={onClick}>\r\n      <span>É você!</span>\r\n      <img id=\"lamp-apagada\" src={lamp_apagada} alt=\"\"></img>\r\n      <img id=\"lamp-acesa\" src={lamp_acesa} alt=\"\"></img>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default AcusationLamp\r\n","// eslint-disable-next-line import/no-anonymous-default-export\r\nconst initialState = () => ({\r\n//GAME STATE\r\n  scene: \"INIT\",\r\n  currentRoom: 0,\r\n  isOnDialog: false,\r\n  endGame: false,\r\n  found: false,\r\n  locations:[],\r\n  tips: ['O engenheiro sabe'],\r\n  acusation: false,\r\n  closeAcusation: false,\r\n  tries: 0,\r\n  validQuestions: [],\r\n  tutorialStep: 0,\r\n  seeTutorial: false,\r\n  hasPlayed: false,\r\n  checkedPlayed: false,\r\n//DIALOG\r\n  dialogHistory: [],\r\n  dialogStep: 0,\r\n  characterFeeling: 'init',\r\n  totalDialogSteps: 2,\r\n  questionsByStep: 2,\r\n  currentChar: null,\r\n  showConvo: false,\r\n  questions: [],\r\n  targetName: 'Leila',\r\n  correct: 0,\r\n  ncorrect: 0,\r\n  correctMinimum: 2,\r\n  gameEndState: null,\r\n  score: 0,\r\n  startedTimestamp: new Date(Date.now()),\r\n  elapsedTime: null,\r\n  back: false,\r\n  spokenCharacters: [],\r\n})\r\n\r\nexport default initialState\r\n","export default __webpack_public_path__ + \"static/media/parabens_vitoria-persistente.62184df1.svg\";","export default __webpack_public_path__ + \"static/media/parabens_vitoria-primeira.a06b772e.svg\";","export default __webpack_public_path__ + \"static/media/símbolo_feedback errado.7ae11eab.svg\";","export default __webpack_public_path__ + \"static/media/ícone_jogo1.244e8c29.svg\";","export default __webpack_public_path__ + \"static/media/Icone_jogo-tela_inicio.1e641e01.svg\";","export default __webpack_public_path__ + \"static/media/bg-forma-azul.166555e1.svg\";","export default __webpack_public_path__ + \"static/media/bg-forma-laranja.01e2bb93.svg\";","export default __webpack_public_path__ + \"static/media/bg-forma-verde.60dfa7ed.svg\";","import React from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { apiActions, headerActions, musicActions } from '../../_actions'\r\nimport Init from './components/Init'\r\nimport RoomSelect from './components/RoomSelect'\r\nimport Sala from './components/Sala'\r\nimport Character from './components/Character'\r\nimport Button from '@material-ui/core/Button'\r\nimport './index.scss'\r\nimport './tela-acusacao.scss'\r\nimport './tela-fim-jogo.scss'\r\nimport './tela-tutorial.scss'\r\nimport AcusationLamp from './components/AcusationLamp'\r\nimport initialState from './initialState'\r\nimport { headerConstants } from '../../_constants'\r\nimport Conversa from './components/Conversa'\r\nimport DialogCharacter from './components/DialogCharacter'\r\nimport { Redirect } from 'react-router'\r\n\r\nimport iconVitoriaPers from '../../img/Game2/parabens_vitoria-persistente.svg'\r\nimport iconVitoriaPrim from '../../img/Game2/parabens_vitoria-primeira.svg'\r\nimport iconDerrota from '../../img/Game2/símbolo_feedback errado.svg'\r\nimport iconDicas from '../../img/ícone_jogo1.svg'\r\nimport iconInit from '../../img/Game2/Icone_jogo-tela_inicio.svg'\r\nimport blobAzul from '../../img/bg-forma-azul.svg'\r\nimport blobLaranja from '../../img/bg-forma-laranja.svg'\r\nimport blobVerde from '../../img/bg-forma-verde.svg'\r\nimport FullscreenOverlay from './components/FullscreenOverlay'\r\n\r\nconst Game2 = (props) => {\r\n\r\n\tconst [state, setState] = React.useState(initialState());\r\n\r\n\tconst id = props.match.params.id\r\n\tconst dispatch = useDispatch()\r\n\tlet error = useSelector( state => state.missions.error)\r\n\tlet mission = useSelector( state => state.missions.items.find(mission => mission.id === props.match.params.id))\r\n\tconst loading = useSelector( state => state.missions.loading)\r\n\tconst userId = useSelector( state => state.authentication.user.user.id )\r\n\tconst lang = useSelector( state => state.authentication.user.user.language.id )\r\n\tconst currentPlaySession = useSelector( state => state.play_sessions ? state.play_sessions.items[0] : {} )\r\n\tconst { missionsActions, play_sessionsActions, player_actionsActions, user_game_resultsActions } = apiActions\r\n\tconst hasPlayed = useSelector( state => state.user_game_results.items.length > 0)\r\n\r\n\tlet tipsCount\r\n\r\n\tif(mission)\r\n\t\ttipsCount = mission.missionCharacters.filter(missionCharacter => { return missionCharacter.tip }).length\r\n\tconst dialogInitialState = { dialogHistory: [], dialogStep: 0, correct: 0, characterFeeling: 'init', preSpeech: null, convOptions: [] }\r\n\r\n\tReact.useEffect(()=>{\r\n\t\tif(mission)\r\n\t\t\tdispatch(musicActions.set(mission.backgroundAudios[0].music[0].url))\r\n\t\treturn () => dispatch(musicActions.set(''))\r\n\t}, [dispatch, mission])\r\n\r\n\t//fetch mission if doesn't already have\r\n\tReact.useEffect(() => {\r\n\t\tif(id && !mission) dispatch(missionsActions.getById(props.match.params.id))\r\n\t}, [id, mission, dispatch, missionsActions, props.match.params.id])\r\n\r\n\t// check if user already played the game\r\n\tReact.useEffect(() => {\r\n\t\tlet updateState = {}\r\n\t\tif(mission && !state.checkedPlayed){\r\n\t\t\tdispatch(user_game_resultsActions.find({\r\n\t\t\t\t'user.id': userId,\r\n\t\t\t\t'mission.id': mission.id\r\n\t\t\t}))\r\n\r\n\t\t\tupdateState.checkedPlayed = true\r\n\t\t}\r\n\t\tupdateState.hasPlayed = hasPlayed\r\n\t\tsetState({...state, ...updateState})\r\n\t\t// eslint-disable-next-line\r\n\t}, [userId, mission, dispatch, user_game_resultsActions, hasPlayed])\r\n\r\n\t//track player actions\r\n\tReact.useEffect(() => {\r\n\t\tif(!state.tracking || !currentPlaySession)\r\n\t\t\treturn\r\n\r\n\t\tconst\tgetClickedObject = (e) => {\r\n\t\t\t\tdispatch(player_actionsActions.create({\r\n\t\t\t\t\t'play_session': currentPlaySession.id,\r\n\t\t\t\t\tdata:\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\ttag: e.target.nodeName,\r\n\t\t\t\t\t\t\t\talt: e.target.alt,\r\n\t\t\t\t\t\t\t\tclassName: e.target.className,\r\n\t\t\t\t\t\t\t\tinnerHTML: e.target.innerHTML.includes('<div') ? null : e.target.innerHTML, clickTime: new Date()\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t}))\r\n\t\t\t}\r\n\t\tdocument.addEventListener(\"mousedown\", getClickedObject)\r\n\r\n\t\tsetState(s => {return {...s, currentPlaySession, getClickedObject }})\r\n\t\treturn () => {\r\n\t\t\tdocument.removeEventListener(\"mousedown\", getClickedObject)\r\n\t\t}\r\n\t}, [dispatch, player_actionsActions, state.tracking, currentPlaySession])\r\n\t/*//Testing tool\r\n\tif(error){\r\n\t\terror = null\r\n\t\tmission = stub\r\n\t}\r\n\t*/\r\n\r\n\t//Randomizar personagens para aparecer nas salas\r\n\t//\tEnquanto houver personagens na lista de personagens disponíveis\r\n\t//\t\tEscolhe um local ao acaso\r\n\t//\t\tEscolhe um personagem dentre a lista de personagens disponíveis ao acaso\r\n\t//\t\tAdiciona personagem ao local\r\n\t//\t\tRetira personagem da lista de personagens disponíveis\r\n\r\n\tif(mission && state.locations.length === 0){\r\n\t\t// safe copies\r\n\t\tlet availableCharacters = mission.missionCharacters.slice(0)\r\n\t\tlet locations = mission.locations.filter(location => {\r\n\t\t\treturn location.type === 'room'\r\n\t\t}).map( location => {\r\n\t\t\tdelete location.characters\r\n\t\t\treturn {location: location, missionCharacters: []}\r\n\t\t})\r\n\t\t\r\n\t\tlet tutorialRoom = { location: mission.locations.find(location => {\r\n\t\t\treturn location.type === 'tutorial'\r\n\t\t}),\r\n\t\t missionCharacters: []\r\n\t\t}\r\n\r\n\t\tconsole.log(tutorialRoom)\r\n\r\n\t\t//distribute on locations\r\n\t\twhile(availableCharacters.length > 0){\r\n\t\t\t// se personagem for o de tutorial, separa ele e continua\r\n\t\t\tif( availableCharacters[0].character.name === \"Tutorial\" ) {\r\n\t\t\t\ttutorialRoom.missionCharacters.push(availableCharacters[0])\r\n\t\t\t\tavailableCharacters.splice(0, 1)\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\t// sorteia sala aleatoriamente com pesos que diminuem dependendo de quantos personagens já se tem\r\n\t\t\tlet totalWeight = 0\r\n\t\t\tlet crowdestRoomPop = 0\r\n\t\t\tlet emptiestRoomPop = 999\r\n\t\t\tconst minPerRoom = 1\r\n\t\t\tconst maxPerRoom = 5\r\n\t\t\tlocations.forEach( (location) => {\r\n\t\t\t\tcrowdestRoomPop = Math.max(location.missionCharacters.length, crowdestRoomPop)\r\n\t\t\t\temptiestRoomPop = Math.min(location.missionCharacters.length, emptiestRoomPop)\r\n\t\t\t})\r\n\t\t\t\r\n\t\t\tconst maxWeight = (() => {\r\n\t\t\t\tif( emptiestRoomPop < minPerRoom ) return minPerRoom\r\n\t\t\t\telse if( emptiestRoomPop < maxPerRoom ) return maxPerRoom\r\n\t\t\t\telse return crowdestRoomPop+1\r\n\t\t\t})()\r\n\r\n\t\t\ttotalWeight = 0\r\n\t\t\tconst weights = locations.map( (location) => {\r\n\t\t\t\tlet weight = maxWeight - location.missionCharacters.length\r\n\t\t\t\ttotalWeight += weight\r\n\t\t\t\treturn weight\r\n\t\t\t})\r\n\r\n\t\t\tlet rand = Math.floor(Math.random()*totalWeight)\r\n\t\t\tlet i = 0;\r\n\t\t\twhile( rand >= 0 ) rand -= weights[i++]\r\n\t\t\tconst locationIndex = i-1\r\n\r\n\t\t\t//each character has some good and bad questions that can be asked\r\n\t\t\tlet availableAnswers = [...availableCharacters[0].answers]\r\n\t\t\tlet correct = availableAnswers.filter(answer => answer.question.correct)\r\n\t\t\tlet ncorrect = availableAnswers.filter(answer => !answer.question.correct)\r\n\r\n\t\t\tlet selectedQuestions = []\r\n\t\t\t// ? E se correct/ncorrect não tiveram a quantidade necessária de perguntas?\r\n\t\t\twhile(selectedQuestions.length < 4){\r\n\t\t\t\tlet source = selectedQuestions.length % 2 === 0? correct : ncorrect\r\n\t\t\t\tlet index = Math.floor(Math.random(0, source.length))\r\n\t\t\t\tselectedQuestions.push( source[index] )\r\n\t\t\t\tsource.splice(index, 1)\r\n\t\t\t}\r\n\r\n\t\t\t// Aleatorizando para que nem sempre venham as perguntas na ordem certo->errado\r\n\t\t\tif(Math.floor(Math.random(0,1) < .5)){\r\n\t\t\t\tlet temp = selectedQuestions[0]\r\n\t\t\t\tselectedQuestions[0] = selectedQuestions[1]\r\n\t\t\t\tselectedQuestions[1] = temp\r\n\t\t\t}\r\n\t\t\tif(Math.floor(Math.random(0, 1) > .5)){\r\n\t\t\t\tlet temp = selectedQuestions[2]\r\n\t\t\t\tselectedQuestions[2] = selectedQuestions[3]\r\n\t\t\t\tselectedQuestions[3] = temp\r\n\t\t\t}\r\n\r\n\t\t\tlocations[locationIndex].missionCharacters = [...locations[locationIndex].missionCharacters,\r\n\t\t\t\t{...availableCharacters[0],\r\n\t\t\t\t\tselectedQuestions,\r\n\t\t\t\t\tzDepth: Math.random()\r\n\t\t\t\t}\r\n\t\t\t]\r\n\r\n\t\t\tavailableCharacters.splice(0, 1)\r\n\t\t}\r\n\r\n\t\t// Aleatorizando ordem dos personagens em cada sala\r\n\t\tfor( let i = 0; i < locations.length; i++ ) {\r\n\t\t\tlet amountChars = locations[i].missionCharacters.length\r\n\t\t\tif( amountChars <= 1) continue\r\n\t\t\tfor( let j = 0; j < amountChars-1; j++ ) {\r\n\t\t\t\tlet exchangeWith = Math.floor(Math.random() * (amountChars - j)) + j\r\n\t\t\t\tif (j === exchangeWith) continue // Não precisa trocar se for consigo mesmo\r\n\t\t\t\t//swap\r\n\t\t\t\tlet aux = locations[i].missionCharacters[j]\r\n\t\t\t\tlocations[i].missionCharacters[j] = locations[i].missionCharacters[exchangeWith]\r\n\t\t\t\tlocations[i].missionCharacters[exchangeWith] = aux\r\n\t\t\t}\r\n\t\t}\r\n\t\tsetState({...state, locations, tutorialRoom})\r\n\t}\r\n\r\n\tconst onStartGame = (e) => {\r\n\t\tif(state.tracking){\r\n\t\t\tdispatch(play_sessionsActions.create({\r\n\t\t\t\tusersPermissionsUser: userId,\r\n\t\t\t\tmission: mission.id\r\n\t\t\t}))\r\n\t\t}\r\n\r\n\t\t//check if should start or skip tutorial\r\n\t\tsetState({...state, scene: (!state.seeTutorial && state.hasPlayed) ? \"ROOM\" : \"TUTORIAL\"})\r\n\t}\r\n\r\n\tconst endTutorial = () => {\r\n\t\tlet updateState = {\r\n\t\t\tshowConvo: false,\r\n\t\t\tcurrentChar: null,\r\n\t\t\tscene: \"ROOM\",\r\n\t\t\t...dialogInitialState\r\n\t\t}\r\n\t\tsetState({...state, ...updateState})\r\n\t}\r\n\r\n\tconst setTutorialCharacter = (character) => () => {\r\n\t\tsetState(\r\n\t\t\t{...state,\r\n\t\t\t\ttutorialStep: state.tutorialStep + 1,\r\n\t\t\t\tshowConvo: true,\r\n\t\t\t\tcurrentChar: character,\r\n\t\t\t\tconvOptions:\r\n\t\t\t\t[\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tanswer: ['Olha, não sei quem você está procurando, cheguei aqui semana passada...','O engenheiro deve saber!'],\r\n\t\t\t\t\t\tquestion: {\r\n\t\t\t\t\t\t\tquestion: 'Estou procurando alguém. Você pode me ajudar?',\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tclose: false\r\n\t\t\t\t\t}\r\n\t\t\t\t]\r\n\t\t\t})\r\n\t}\r\n\r\n\t//shows only selected questions\r\n\tconst setCurrentCharacter = (character) => () => {\r\n\t\tsetState({\r\n\t\t\t...state,\r\n\t\t\tshowConvo: true,\r\n\t\t\tcurrentChar: character,\r\n\t\t\tdialogStep: 0,\r\n\t\t\tconvOptions: state.locations[state.currentRoom].missionCharacters\r\n\t\t\t\t\t\t\t\t\t\t.find(c => c.character.id === character.id).selectedQuestions\r\n\t\t\t\t\t\t\t\t\t\t.slice(0, state.questionsByStep)\r\n\t\t})\r\n\t}\r\n\r\n\tconst closeDialog = (dialogHistory) => {\r\n\t\tsetState({\r\n\t\t\t...state,\r\n\t\t\t...dialogInitialState,\r\n\t\t\tshowConvo: false,\r\n\t\t\tshouldCloseConvo: false,\r\n\t\t\tcurrentChar: null\r\n\t\t})\r\n\t}\r\n\r\n\tconst afterWriter = () => {\r\n\t\tif( state.scene === \"TUTORIAL\" ) {\r\n\t\t\tsetTimeout(() => { setState({\r\n\t\t\t\t...state,\r\n\t\t\t\ttutorialStep: state.tutorialStep + 1\r\n\t\t\t}) }, 1500)\r\n\t\t} else {\r\n\t\t\tlet updateState = {}\r\n\t\t\tif(state.dialogStep < state.totalDialogSteps){\r\n\t\t\t\tupdateState.convOptions = state.locations[state.currentRoom].missionCharacters\r\n\t\t\t\t\t.find(mc => mc.character.id === state.currentChar.id).selectedQuestions\r\n\t\t\t\t\t.slice(state.questionsByStep * state.dialogStep, state.questionsByStep * (state.dialogStep + 1))\r\n\t\t\t} else if(state.dialogStep === state.totalDialogSteps) {\r\n\t\t\t\tif(state.correct < state.correctMinimum){\r\n\t\t\t\t\tupdateState.preSpeech = state.currentChar.wrongAnswer\r\n\t\t\t\t\tupdateState.convOptions = [{refresh: true, question:{question: 'Sim'}}, {close: true, question:{question: 'Não'}, answer:state.currentChar.endDialog}]\r\n\t\t\t\t} else {\r\n\t\t\t\t\tupdateState.convOptions = [{tip: state.currentChar.tip, question:{question: 'Estou procurando alguém. Você pode me ajudar?'}, answer:state.currentChar.rightAnswer, correct: true }]\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tconst tchaus = ['Ah tá, tchau!', 'Ok. Valeu!', 'Tchau!', 'Até mais!',\r\n\t\t\t\t\t\t\t\t'Entendi... Muito obrigado!', 'Até logo!', 'Até a próxima!']\r\n\t\t\t\tconst rIdx = Math.floor(Math.random()*tchaus.length)\r\n\t\t\t\tupdateState.convOptions = [{close: true, question:{question: tchaus[rIdx], correct: true}, answer:state.currentChar.endDialog}]\r\n\t\t\t}\r\n\t\t\tif( state.closeAfterWritter ) {\r\n\t\t\t\tdelete state.closeAfterWritter\r\n\t\t\t\tupdateState.convOptions = []\r\n\t\t\t\tupdateState.shouldCloseConvo = true\r\n\t\t\t}\r\n\t\t\tsetState({...state, ...updateState})\r\n\t\t}\r\n\t}\r\n\r\n\tconst onRefreshDialog = () => {\r\n\t\tsetState({\r\n\t\t\t...state,\r\n\t\t\t...dialogInitialState,\r\n\t\t\trefreshDialog: null,\r\n\t\t\tconvOptions: state.locations[state.currentRoom].missionCharacters\r\n\t\t\t\t\t\t\t\t\t.find(c => c.character.id === state.currentChar.id).selectedQuestions\r\n\t\t\t\t\t\t\t\t\t.slice(0, state.questionsByStep)\r\n\t\t})\r\n\t}\r\n\r\n\tconst onMenuButtonClick = (answer) => {\r\n\t\tlet updateState = {}\r\n\r\n\t\tif(answer.tip && state.tips.indexOf(answer.tip) === -1)\r\n\t\t\tupdateState = {...updateState, tips: [...state.tips, answer.tip]}\r\n\r\n\t\tif(answer.refresh)\r\n\t\t\tupdateState = {...updateState, refreshDialog: onRefreshDialog}\r\n\t\telse if(answer.close)\r\n\t\t\tupdateState = {...updateState, closeAfterWritter: true}\r\n\t\telse {\r\n\t\t\tif (state.scene === \"TUTORIAL\"){\r\n\t\t\t\tupdateState = {\r\n\t\t\t\t\t...updateState,\r\n\t\t\t\t\tcharacterFeeling: 'wrongQuestion',\r\n\t\t\t\t\tconvOptions: []\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tupdateState = {\r\n\t\t\t\t\t...updateState,\r\n\t\t\t\t\tspokenCharacters: state.spokenCharacters,\r\n\t\t\t\t\tvalidQuestions: state.validQuestions,\r\n\t\t\t\t\tcharacterFeeling: null,\r\n\t\t\t\t}\r\n\t\t\t\tif (updateState.spokenCharacters.indexOf(state.currentChar.name) === -1)\r\n\t\t\t\t\tupdateState.spokenCharacters.push(state.currentChar.name)\r\n\r\n\t\t\t\t//change character face\r\n\t\t\t\tif(answer.correct){\r\n\t\t\t\t\tif(updateState.validQuestions.hasOwnProperty(answer.question)){\r\n\t\t\t\t\t\tupdateState.validQuestions[answer.question]++\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tupdateState.validQuestions[answer.question] = 0\r\n\t\t\t\t\t}\r\n\t\t\t\t\tupdateState.characterFeeling = 'rightQuestion'\r\n\t\t\t\t} else {\r\n\t\t\t\t\tupdateState.characterFeeling = 'wrongQuestion'\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tupdateState = {\r\n\t\t\t\t...updateState,\r\n\t\t\t\tdialogStep: state.dialogStep + 1,\r\n\t\t\t\tcorrect: state.correct + (answer.correct? 1 : 0)\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tsetState({...state, ...updateState})\r\n\t}\r\n\r\n\tconst checkEnd = () => {\r\n\t\tif(state.tries < 2 && state.currentChar.name !== state.targetName){\r\n\t\t\tstate.tries++\r\n\t\t\tsetState({\r\n\t\t\t\t...state,\r\n\t\t\t\tacusation: false,\r\n\t\t\t\tcharacterFeeling: 'wrongAccusation',\r\n\t\t\t\tpreSpeech: state.currentChar.acusationAnswer\r\n\t\t\t})\r\n\t\t} else {\r\n\t\t\tsetState({...state, acusation: false, scene: \"ENDGAME\", gameEndState: state.currentChar.name === state.targetName, characterFeeling: state.currentChar.name === state.targetName ?\r\n\t\t\t'rightAccusation' : 'wrongAccusation',\r\n\t\t\tcurrentChar: null\r\n\t\t\t})\r\n\r\n\t\t\t//aqui\r\n\t\t\tdispatch(user_game_resultsActions.create({\r\n\t\t\t\tuser: userId,\r\n\t\t\t\tmission: mission.id,\r\n\t\t\t\tscore: state.score,\r\n\t\t\t\ttipsCount: state.tips.length,\r\n\t\t\t\tspokenCharactersCount: state.spokenCharacters.length,\r\n\t\t\t\ttries: state.tries,\r\n\t\t\t\twon: state.gameEndState,\r\n\t\t\t\tvalidQuestionsCount: Object.keys(state.validQuestions).length\r\n\t\t\t}))\r\n\r\n\t\t\tdispatch(headerActions.setAll(mission.name, mission.nameTranslate))\r\n\t\t\tdispatch(headerActions.setState(headerConstants.STATES.OVERLAY))\r\n\t\t}\r\n\t}\r\n\r\n\tconst tutorialScreen = (id) => {\r\n\t\treturn (\r\n\t\t\t<div id=\"room-itself\" className=\"tutorial\">\r\n\t\t\t\t<Sala roomData={state.tutorialRoom.location} key={-1}>\r\n\t\t\t\t\t{state.tutorialRoom.missionCharacters.map((missionCharacter, index) =>\r\n\t\t\t\t\t\t\t<Character\r\n\t\t\t\t\t\t\tcharacter={missionCharacter.character}\r\n\t\t\t\t\t\t\tonClick={setTutorialCharacter(missionCharacter.character)}\r\n\t\t\t\t\t\t\tkey={index}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t<div className=\"abs-fix\">\r\n\t\t\t\t\t\t<div id=\"tutorial-popup-1\">\r\n\t\t\t\t\t\t\t<span lang=\"pt-br\">Selecione alguém para conversar e te ajudar a encontrar o seu guia.</span>\r\n\t\t\t\t\t\t\t<span lang=\"en\">Select someone to talk and help you find your guide.</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Sala>\r\n\t\t\t\t{state.showConvo &&\r\n\t\t\t\t\t<Conversa\r\n\t\t\t\t\t\tonExited = {() => {setState({...state, showConvo: false, tutorialStep: state.tutorialStep-1})}}\r\n\t\t\t\t\t\tconvOptions = {state.convOptions.reduce((acc, convOption) => {\r\n\t\t\t\t\t\t\tlet option = {...convOption, answers: convOption.answer, question: convOption.question.question}\r\n\t\t\t\t\t\t\tdelete option.answer\r\n\t\t\t\t\t\t\treturn [...acc, option ]\r\n\t\t\t\t\t\t}, [])}\r\n\t\t\t\t\t\tcurrentChar = {state.currentChar}\r\n\t\t\t\t\t\tcharFeeling = {state.characterFeeling}\r\n\t\t\t\t\t\tafterWriter = {afterWriter}\r\n\t\t\t\t\t\tonConvoChoiceMade = {onMenuButtonClick}\r\n\t\t\t\t\t/>\r\n\t\t\t\t}\r\n\t\t\t\t{id === 2 &&\r\n\t\t\t\t\t<div id=\"tutorial-popup-2-wrapper\">\r\n\t\t\t\t\t\t<div id=\"tutorial-popup-2-content\">\r\n\t\t\t\t\t\t\t<span lang=\"pt-br\"><strong>Lembre-se:</strong> As pessoas estão ocupadas em seus ambientes de trabalho, então tenha certeza de não gastar o tempo delas com perguntas fora de contexto!</span>\r\n\t\t\t\t\t\t\t<span lang=\"en\"><strong>Remember:</strong> People are busy in their workplaces, so be sure not to waste their times with question that are out of yout context!</span>\r\n\t\t\t\t\t\t\t<button className=\"btn btn-center\" id=\"btn-end-tutorial\" onClick={endTutorial}>Continuar</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n\r\n\tconst restart = () => {\r\n\t\tsetState({...initialState(), hasPlayed: true})\r\n\t\tdispatch(headerActions.setState(headerConstants.STATES.HIDDEN))\r\n\t}\r\n\r\n\tconsole.log(state)\r\n\r\n\treturn (\r\n\t\t<div id=\"game2-wrapper\">\r\n\t\t\t{loading ? <div>Loading...</div> : error ? <div>{error}</div> : mission &&\r\n\t\t\t<div id=\"game2-content\">\r\n\t\t\t\t<div id=\"input-tracker\">TrackInput: <input type=\"checkbox\" onChange={(e)=>{ setState({...state, tracking: e.target.checked}) }} /></div>\r\n\t\t\t\t{(function renderScene(){\r\n\t\t\t\t\t// eslint-disable-next-line default-case\r\n\t\t\t\t\tswitch(state.scene){\r\n\t\t\t\t\t\tcase \"INIT\":\r\n\t\t\t\t\t\t\treturn <Init\r\n\t\t\t\t\t\t\t\t\t\ticon={iconInit}\r\n\t\t\t\t\t\t\t\t\t\tname={mission.name}\r\n\t\t\t\t\t\t\t\t\t\tdescription={mission.description}\r\n\t\t\t\t\t\t\t\t\t\tnameTranlate={mission.missionNameLanguages.find(name => { return name.language === lang}).name}\r\n\t\t\t\t\t\t\t\t\t\tdescriptionTranlate={mission.missionDescriptionLanguages.find(description => { return description.language === lang}).description}\r\n\t\t\t\t\t\t\t\t\t\tonStart={ onStartGame }\r\n\t\t\t\t\t\t\t\t\t\tonBack={() => setState({...state, back: true})}\r\n\t\t\t\t\t\t\t\t\t\tonSeeTutorial={ state.hasPlayed ? () => {state.seeTutorial = true;onStartGame()} : null }\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\tcase \"TUTORIAL\":\r\n\t\t\t\t\t\t\treturn ( tutorialScreen(state.tutorialStep) )\r\n\t\t\t\t\t\tcase \"ROOM\":\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<div id=\"room-itself\">\r\n\t\t\t\t\t\t\t\t\t<RoomSelect\r\n\t\t\t\t\t\t\t\t\t\tbuttonList={state.locations.map((location, index) => index)}\r\n\t\t\t\t\t\t\t\t\t\tonChange={(num) => {\r\n\t\t\t\t\t\t\t\t\t\t\tsetState({...state, currentRoom: num})\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t{/* //? Pq sala recebe a location inteira? Se ela só precisa saber a imagem de fundo,\r\n\t\t\t\t\t\t\t\t\t\t//? pq passar tudo ao invés de só passar a string? Que aí poderia ser local ou na rede... */}\r\n\t\t\t\t\t\t\t\t\t<Sala roomData={state.locations[state.currentRoom].location} key={state.currentRoom}>\r\n\t\t\t\t\t\t\t\t\t\t{state.locations[state.currentRoom].missionCharacters.map((missionCharacter, index) =>\r\n\t\t\t\t\t\t\t\t\t\t\t<Character key={index}\r\n\t\t\t\t\t\t\t\t\t\t\t\tzDepth={missionCharacter.zDepth}\r\n\t\t\t\t\t\t\t\t\t\t\t\tcharacter={missionCharacter.character}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={setCurrentCharacter(missionCharacter.character)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t// showNameOnHover={true} descomentar linha se quiser que os nomes dos personagens apareça sob hover do mouse\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t</Sala>\r\n\t\t\t\t\t\t\t\t\t{state.showConvo &&\r\n\t\t\t\t\t\t\t\t\t\t<Conversa\r\n\t\t\t\t\t\t\t\t\t\t\tshouldExit={state.shouldCloseConvo}\r\n\t\t\t\t\t\t\t\t\t\t\tprevDialogHistory={[]}\r\n\t\t\t\t\t\t\t\t\t\t\tonClearDialogHistory={state.refreshDialog}\r\n\t\t\t\t\t\t\t\t\t\t\tcharPreSpeech={state.preSpeech}\r\n\t\t\t\t\t\t\t\t\t\t\tconvOptions={state.convOptions.reduce((acc, convOption) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tlet option = {...convOption, ...convOption.question, answers: convOption.answer}\r\n\t\t\t\t\t\t\t\t\t\t\t\tdelete option.answer\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn [...acc, option ]\r\n\t\t\t\t\t\t\t\t\t\t\t}, [])}\r\n\t\t\t\t\t\t\t\t\t\t\tcurrentChar={state.currentChar}\r\n\t\t\t\t\t\t\t\t\t\t\tcharFeeling={state.characterFeeling}\r\n\t\t\t\t\t\t\t\t\t\t\tafterWriter={afterWriter}\r\n\t\t\t\t\t\t\t\t\t\t\tonExited={closeDialog}\r\n\t\t\t\t\t\t\t\t\t\t\tonConvoChoiceMade={onMenuButtonClick}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<AcusationLamp onClick={() => setState({...state, acusation: true})} />\r\n\t\t\t\t\t\t\t\t\t\t</Conversa>\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t</div>)\r\n\t\t\t\t\t\t\tcase \"ENDGAME\":\r\n\t\t\t\t\t\t\t\treturn(\r\n\t\t\t\t\t\t\t\t\t<div id=\"endGame-screen\">\r\n\t\t\t\t\t\t\t\t\t\t{state.gameEndState ?\r\n\t\t\t\t\t\t\t\t\t\t<div id=\"end-panels\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div id=\"painel-icon\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<img src={state.tries === 0 ? iconVitoriaPrim : iconVitoriaPers} alt=\"\"/>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div id=\"endgame-messages\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t{state.tries === 0 ?\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"painel\" id=\"painel-1\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span lang=\"pt-br\">Muito bem! Você encontrou a pessoa na primeira tentativa. Vai arrasar na sua nova carreira!</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span lang=\"en\">Well done! You have found the right person on your first try. You're going to rock on your new career!</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<a href=\"#painel-2\" className=\"next-btn\">{'❯'}</a>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div> :\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"painel\" id=\"painel-1\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span lang=\"pt-br\">Você encontrou a pessoa certa! Parabéns!</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span lang=\"en\">You have found the right person! Congrats!</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<a href=\"#painel-2\" className=\"next-btn\">{'❯'}</a>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>}\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"painel\" id=\"painel-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"painel-2-wrapper\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"painel-2-content\" style={{backgroundImage: \"url(\" + (state.tips.length === tipsCount ? blobAzul : blobVerde) + \")\"}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div><span>{state.tips.length ?? 0}</span>/<span>{tipsCount}</span></div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div>clues</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"painel-2-wrapper\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"painel-2-content\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p>After talking to {state.spokenCharacters.length} people, you found {state.tips.length} of the {tipsCount} existing clues.</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p>Regarding the questions you asked, {Object.keys(state.validQuestions).length} of them were useful.</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<a href=\"#painel-1\" className=\"prev-btn\">{'❮'}</a>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div id=\"endGame-action-btns\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Button onClick={restart}>Tentar novamente</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Button onClick={() => setState({...state, back: true}) }>Sair do jogo</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</div> :\r\n\t\t\t\t\t\t\t\t\t\t<div id=\"endGame-wrong-wrapper\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"painel\" id=\"painel-1\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div id=\"painel-icon-derrota\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<img src={iconDerrota} alt=\"\"/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span lang=\"pt-br\">Você ainda não encontrou a pessoa certa. Como você vai entender o que deve ser feito em seu novo trabalho? Você ainda precisa descobrir algumas dicas.</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span lang=\"en\">You still haven't found the right person. How will you understand what has to be done in your new job? There are clues yet to be found.</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"painel\" id=\"painel-3\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"painel-2-wrapper\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"painel-2-content\" style={{backgroundImage: \"url(\" + blobLaranja + \")\"}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div><span>{state.tips.length ?? 0}</span>/<span>{tipsCount}</span></div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div>clues</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"painel-2-wrapper\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"painel-2-content\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p>After talking to {state.spokenCharacters.length} people, you found {state.tips.length} of the {tipsCount} existing clues.</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p>Regarding the questions you asked, {Object.keys(state.validQuestions).length} of them were useful. Try asking more relevant questions!</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div id=\"endGame-action-btns\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Button onClick={restart}>Tentar novamente</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Button onClick={() => setState({...state, back: true}) }>Sair do jogo</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t{state.gameEndState &&\r\n\t\t\t\t\t\t\t\t\t\t<DialogCharacter\r\n\t\t\t\t\t\t\t\t\t\t\tcharacter={\r\n\t\t\t\t\t\t\t\t\t\t\t\tmission.missionCharacters.find((mc) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn mc.character.name===state.targetName\r\n\t\t\t\t\t\t\t\t\t\t\t\t}).character}\r\n\t\t\t\t\t\t\t\t\t\t\tfeeling={\"rightAccusation\"}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t}\r\n\t\t\t\t}())}\r\n\t\t\t\t{state.acusation &&\r\n\t\t\t\t<FullscreenOverlay\r\n\t\t\t\t\tshowCloseBtn={false}\r\n\t\t\t\t\tshouldExit={state.closeAcusation}\r\n\t\t\t\t\tonReadyToExit={() => {setState({...state, closeAcusation: false, acusation: false})}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<div id=\"dialog-accusation-wrapper\">\r\n\t\t\t\t\t\t<div id=\"dialog-accusation\">\r\n\t\t\t\t\t\t\t<div id=\"accusation-infos\">\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<span lang=\"pt-br\">Tem certeza?</span>\r\n\t\t\t\t\t\t\t\t\t<span lang=\"en\">Are you sure it's them?<br />Check your tips.</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div id=\"tips-received\">\r\n\t\t\t\t\t\t\t\t\t<div id=\"accusation-icon\">\r\n\t\t\t\t\t\t\t\t\t\t<img src={iconDicas} alt=\"\" />\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t{state.tips.length > 0 ?\r\n\t\t\t\t\t\t\t\t\t\tstate.tips.map((tip, index) => <div key={index}>{tip}</div>)\r\n\t\t\t\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\t\t\t<div>Nenhuma dica recebida.</div>\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div id=\"accusation-btns\">\r\n\t\t\t\t\t\t\t\t<Button onClick={() => setState({...state, closeAcusation: true}) }>Não</Button>\r\n\t\t\t\t\t\t\t\t<Button onClick={checkEnd}>Sim</Button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</FullscreenOverlay>\r\n\t\t\t\t}\r\n\t\t\t</div>\r\n\t\t\t}\r\n\t\t\t{ state.back && <Redirect to='/userspace' />}\r\n\t\t</div>\r\n  )\r\n}\r\n\r\nexport default Game2\r\n","import React from 'react'\r\n\r\nconst zeroFill = (s, size) => {\r\n  while(s.length < size){\r\n    s = '0' + s\r\n  }\r\n  return s\r\n}\r\nconst Timer = ({seconds, onEnd, onSecondPassed}) => {\r\n  const [state, setState] = React.useState(seconds)\r\n\r\n  React.useEffect(() => {\r\n    if(state === 0){\r\n      if(onEnd) onEnd()\r\n    }\r\n    else if(state > 0){\r\n      let timeout = setTimeout(() =>\r\n      {\r\n        setState(state - 1)\r\n        if(onSecondPassed) onSecondPassed()\r\n      }, 1000)\r\n\r\n      return () => clearTimeout(timeout)\r\n    }\r\n  }, [state, onEnd, onSecondPassed])\r\n\r\n  return(\r\n    <div>\r\n      {zeroFill(Math.floor(state / 60).toString(), 2)}:{zeroFill((state % 60).toString(), 2)}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Timer\r\n","const stub = {\r\n  name: 'Vamos as compras!',\r\n  description: 'Bora comprar as comidas ae',\r\n  ingredients: [\r\n    {name: 'maçã'},\r\n    {name: 'uva'},\r\n    {name: 'pera'},\r\n    {name: 'carne'},\r\n    {name: 'alho'}\r\n  ],\r\n  moneyTypes:[\r\n    {\r\n      url: '',\r\n      value: 25\r\n    },\r\n    {\r\n      url: '',\r\n      value: 0.5\r\n    },\r\n    {\r\n      url: '',\r\n      value: 1\r\n    },\r\n    {\r\n      url: '',\r\n      value: 2\r\n    },\r\n    {\r\n      url: '',\r\n      value: 5\r\n    },\r\n    {\r\n      url: '',\r\n      value: 10\r\n    },\r\n    {\r\n      url: '',\r\n      value: 20\r\n    },\r\n    {\r\n      url: '',\r\n      value: 50\r\n    },\r\n    {\r\n      url: '',\r\n      value: 100\r\n    },\r\n  ],\r\n  corridors:[\r\n    {\r\n      name: 'Frutas',\r\n      shelveProducts:[\r\n        {name: 'maçã'},\r\n        {name: 'uva'},\r\n        {name: 'pera'},\r\n        {name: 'banana'},\r\n        {name: 'melancia'}\r\n      ]\r\n    },\r\n    {\r\n      name: 'frios',\r\n      shelveProducts:[\r\n        {name: 'carne'},\r\n        {name: 'queijo'},\r\n        {name: 'presunto'},\r\n        {name: 'iogurte'},\r\n        {name: 'frango'}\r\n      ]\r\n    },\r\n    {\r\n      name: 'verduras e legumes',\r\n      shelveProducts:[\r\n        {name: 'batata'},\r\n        {name: 'rabanete'},\r\n        {name: 'beterraba'},\r\n        {name: 'espinafre'},\r\n        {name: 'alface'}\r\n      ]\r\n    },\r\n    {\r\n      name: 'temperos',\r\n      shelveProducts:[\r\n        {name: 'pimenta do reino'},\r\n        {name: 'sal'},\r\n        {name: 'alho'},\r\n        {name: 'cebolinha'}\r\n      ]\r\n    }\r\n  ]\r\n}\r\n\r\nexport default stub\r\n","const initialState = {\r\n  scene: 'INIT',\r\n  cart: [],\r\n  currentAisle: 0,\r\n  checkout: false,\r\n  onPayment: false,\r\n  payment: [],\r\n  win: false,\r\n  change: null,\r\n  paymentAmount: null\r\n}\r\n\r\nexport default initialState\r\n","import React from 'react'\r\nimport { Redirect, Link } from 'react-router-dom'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\n\r\nimport { apiActions } from '../../_actions'\r\n\r\nimport Button from '@material-ui/core/Button'\r\n\r\nimport Init from '../Game2/components/Init'\r\nimport Timer from './Timer'\r\nimport stub from './stub'\r\nimport initialState from './initialState'\r\n\r\nconst goRound = (value, max) => value >= 0 ? value % max : max - (Math.abs(value) % max)\r\n\r\nconst Game3 = (props) => {\r\n  const [state, setState] = React.useState({...initialState})\r\n  const dispatch = useDispatch()\r\n  const mission = useSelector( state => state.game_3_missions.items.find( m => m.id === props.match.params.id) )\r\n  const onStartGame = () => {\r\n    setState({...state, scene: 'TUTORIAL'})\r\n  }\r\n\r\n  React.useEffect(() =>{\r\n    if(!mission && props.match.params.id){\r\n      dispatch(apiActions.game_3_missionsActions.getById(props.match.params.id))\r\n    }\r\n  }, [props.match.params.id])\r\n\r\n  const addProduct = (product) => () => setState({...state, cart: [...state.cart, product]})\r\n\r\n  const removeProduct = (index) => () => {\r\n    setState({...state,\r\n      cart: [\r\n        ...state.cart.slice(0, index),\r\n        ...state.cart.slice(index + 1)\r\n      ]\r\n    })\r\n  }\r\n\r\n  const toPreviousaisle = () => setState(\r\n    {...state,\r\n      currentAisle: goRound(state.currentAisle - 1, mission.aisles.length)\r\n    })\r\n\r\n\r\n  const toNextaisle = () => setState(\r\n    {...state,\r\n      currentAisle: goRound(state.currentAisle + 1, mission.aisles.length)\r\n    })\r\n\r\n  const haveAll = () => {\r\n    var i\r\n    for(i = 0; i < mission.ingredients.length; i++)\r\n        if(!state.cart.find( item => item.name === mission.ingredients[i].name))\r\n          return false\r\n    return true\r\n  }\r\n\r\n  const addToPayment = (money) => () => {\r\n    setState({...state, payment: [...state.payment, money]})\r\n  }\r\n\r\n  const removeFromPayment = (index) => () => {\r\n    setState({...state, payment: [...state.payment.slice(0, index), ...state.payment.slice(index+1)]})\r\n  }\r\n\r\n  const moveToPayment = () => {\r\n    setState({...state, onPayment: true, price: state.cart.reduce( (acc, product) => product.price + acc, 0)})\r\n  }\r\n\r\n  const doPayment = () => {\r\n    let updateData = {}\r\n    updateData.paymentAmount = state.payment.reduce( (acc, money) => money.value + acc, 0)\r\n    updateData.change = updateData.paymentAmount - state.price\r\n    setState({...state, ...updateData})\r\n  }\r\n\r\n  const receiveChange = () => {\r\n    let updateData = {}\r\n    updateData.scene = 'END_GAME'\r\n    updateData.win = true\r\n    setState({...state, ...updateData})\r\n\r\n  }\r\n\r\n  //const { mission } = state\r\n  console.log('mission:', mission)\r\n  return(\r\n    <div>\r\n    { mission ?\r\n    //verificar se é possível generalizar esses gameX-wrapper\r\n    <div id=\"game2-wrapper\">\r\n      {(function renderScene(){\r\n        switch(state.scene){\r\n            case 'INIT':\r\n              return(\r\n                <Init name={mission.name} description={mission.description}\r\n  \t\t\t\t\t\t\tonStart={ onStartGame }\r\n  \t\t\t\t\t\t\tonBack={ () => setState({...state, back: true}) }\r\n                nameTranlate={'Tradução'}\r\n                descriptionTranlate={'Tradução'}\r\n                />\r\n              )\r\n            case 'TUTORIAL':\r\n              return(\r\n                <div>\r\n                  Tutorial\r\n                  <div>\r\n                    Apresentador\r\n                  </div>\r\n                  <div>\r\n                    Fala\r\n                    <div>\r\n                      Receita\r\n                      <div>\r\n                        {mission.ingredients.map( (ingredient, index) =>\r\n                          <div key={index}>\r\n                            {ingredient.name}\r\n                          </div>\r\n                        )}\r\n                      </div>\r\n                      <button onClick={()=> setState({...state, scene: 'MARKET'})}>\r\n                        Estou pronto\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              )\r\n            case 'MARKET':\r\n              return(\r\n                <div>\r\n                  <Timer seconds={mission.seconds} /* onEnd={()=>setState({...state, scene: 'END_GAME', timeUp: true})}*//>\r\n                  <button onClick={() => setState({...state, shopList: !state.shopList})}>\r\n                    {state.shopList? 'Fechar' : 'Abrir'} lista de compras\r\n                  </button>\r\n                  {!state.checkout &&\r\n                    <div>\r\n                      <div className='Prateleira'>\r\n                        <div>Corredor: {mission.aisles[state.currentAisle].name}</div>\r\n                        {mission.aisles[state.currentAisle].products.map((product, index) =>\r\n                          <button key={index} onClick={addProduct(product)}>{product.name}</button>\r\n                        )}\r\n                      </div>\r\n\r\n                      <button className='Voltar' onClick={toPreviousaisle}>\r\n                        Voltar ao corredor {mission.aisles[goRound(state.currentAisle - 1, mission.aisles.length)].name}\r\n                      </button>\r\n\r\n                      <button className='Avançar' onClick={toNextaisle}>\r\n                        Ir ao corredor {mission.aisles[goRound(state.currentAisle + 1, mission.aisles.length)].name}\r\n                      </button>\r\n\r\n                      <button onClick={()=>setState({...state, checkout: true})}>\r\n                        Ir para o caixa\r\n                      </button>\r\n                    </div>\r\n                  }\r\n\r\n                  {state.checkout &&\r\n                    <div>\r\n                      Caixa\r\n                      {haveAll() ?\r\n                        <button onClick={moveToPayment}>\r\n                          Pagar\r\n                        </button>\r\n                        :\r\n                        <div>\r\n                          Está faltando coisa aí!\r\n                          <button onClick={() => setState({...state, checkout: false})}>Voltar às compras</button>\r\n                        </div>\r\n                      }\r\n                      {state.onPayment &&\r\n                        <div>\r\n                          Hora de pagar! Sua compra deu {Number.parseFloat(state.price).toFixed(2)}\r\n                          <button onClick={doPayment}>\r\n                            Finalizar Compra\r\n                          </button>\r\n                          {state.paymentAmount && state.paymentAmount < state.price &&\r\n                            <div>Opa, pagament insuficiente.</div>\r\n                          }\r\n                          {state.change &&\r\n                            <div className='PopUp'>\r\n                              <div>Seu troco! {state.change}</div>\r\n                              <div>O troco está correto?</div>\r\n                              <button onClick={receiveChange}>Yes</button>\r\n                              <button onClick={receiveChange}>No</button>\r\n                            </div>\r\n                          }\r\n                          <div>\r\n                            {mission.moneyTypes.map( (money, index) =>\r\n                              <Button key={index} onClick={addToPayment(money)}>\r\n                                <img style={{width: 50}} src={money.image.url} alt='money'/>\r\n                              </Button>\r\n                            )}\r\n                          </div>\r\n\r\n                          <div>\r\n                          {state.payment.map((money, index) =>\r\n                            <div key={index}>\r\n                              <img style={{width: 50}} src={money.image.url} alt='money'/>\r\n                              <button onClick={removeFromPayment(index)}>Remover</button>\r\n                            </div>\r\n                          )}\r\n                          </div>\r\n                        </div>\r\n                      }\r\n                    </div>\r\n                  }\r\n\r\n                  <div className='carrinho'>\r\n                    {state.cart.map((product, index) =>\r\n                      <div key={index}>{product.name}\r\n                        { !state.checkout &&\r\n                          <button onClick={removeProduct(index)}>Remover</button>\r\n                        }\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n\r\n                  {state.shopList &&\r\n                    <div className='Lista de compras'>\r\n                        <div>\r\n                          {mission.ingredients.map( (ingredient, index) =>\r\n                            <div key={index}>{ingredient.name}</div>\r\n                          )}\r\n                        </div>\r\n                    </div>\r\n                  }\r\n                </div>\r\n              )\r\n            case 'END_GAME':\r\n              return(\r\n                <div>\r\n                  {state.timeUp &&\r\n                    <div>\r\n                      Seu tempo acabou!\r\n                    </div>\r\n                  }\r\n                  {state.win &&\r\n                    <div>\r\n                      Parabens!! isso e isso deu certo, mas isso e isso deu errado!\r\n                    </div>\r\n                  }\r\n                  <button onClick={()=>setState({...initialState, mission: stub})}>\r\n                    Jogar novamente\r\n                  </button>\r\n                  <Link to={'/userspace'}>\r\n                    Sair do jogo\r\n                  </Link>\r\n                </div>\r\n              )\r\n            default:\r\n              return(\r\n                <div>\r\n                  Erro\r\n                </div>\r\n              )\r\n      }})()}\r\n    {state.back && <Redirect to={'/userspace'} />}\r\n    </div>\r\n    :\r\n    <div>Loading..</div>\r\n    }\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Game3\r\n","import React from 'react'\r\nimport { Route, Redirect } from 'react-router-dom'\r\n\r\nfunction PrivateRoute ({component: Component, roles, render, ...rest}){\r\n    return (\r\n        <Route {...rest}\r\n          render={ props => localStorage.getItem('user') ?\r\n                    Component ? <Component {...props} />\r\n                  : render && render(props)\r\n                  : <Redirect to={{ pathname: '/login', state: {from:props.location} }} />\r\n          }\r\n        />\r\n    )\r\n}\r\n\r\nexport { PrivateRoute }\r\n","import './index.scss'\r\n\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Button from '@material-ui/core/Button';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nimport React, { useState } from 'react'\r\nimport { Link, Redirect } from 'react-router-dom'\r\nimport { useDispatch, useSelector} from 'react-redux'\r\nimport { useAlert } from 'react-alert'\r\n\r\nimport { login } from '../../_actions'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n      height: '100vh',\r\n    },\r\n    image: {\r\n      backgroundImage: 'url(https://source.unsplash.com/random)',\r\n      backgroundRepeat: 'no-repeat',\r\n      backgroundColor:\r\n        theme.palette.type === 'light' ? theme.palette.grey[50] : theme.palette.grey[900],\r\n      backgroundSize: 'cover',\r\n      backgroundPosition: 'center',\r\n    },\r\n    paper: {\r\n      margin: theme.spacing(8, 4),\r\n      display: 'flex',\r\n      flexDirection: 'column',\r\n      alignItems: 'center',\r\n    },\r\n    avatar: {\r\n      margin: theme.spacing(1),\r\n      backgroundColor: theme.palette.secondary.main,\r\n    },\r\n    form: {\r\n      width: '100%', // Fix IE 11 issue.\r\n      marginTop: theme.spacing(1),\r\n    },\r\n    submit: {\r\n      margin: theme.spacing(3, 0, 2),\r\n    }\r\n  }));\r\n\r\nconst Login = () => {\r\n    const [inputs, setInputs] = useState({\r\n        email: '',\r\n        password: ''\r\n    })\r\n    const [submitted, setSubmitted ] = useState(false)\r\n    const { email, password } = inputs\r\n    const loggingIn = useSelector(state => state.authentication.loggingIn)\r\n    const user = useSelector(state => state.authentication.user)\r\n    const dispatch = useDispatch()\r\n    const classes = useStyles()\r\n    const alert = useAlert()\r\n\r\n    function handleChange(e) { \r\n        const {name, value} = e.target\r\n        setInputs(inputs => ({...inputs, [name]: value}))\r\n    }\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault()\r\n\r\n        setSubmitted(true)\r\n\r\n        if(email && password){\r\n            dispatch(login(email, password))\r\n              .catch(() => {\r\n                alert.error('Email and/or password invalid! Please, check your inputs and try again!')\r\n              })\r\n\r\n        } else {\r\n          alert.error('Email and/or password missing! Please, check your inputs and try again!')\r\n        }\r\n    }\r\n    \r\n    return (\r\n        <Grid container component=\"main\" className={classes.root}>\r\n          {user ? user.user ? <Redirect to='/userspace' /> : null : null}\r\n          <CssBaseline />\r\n          <Grid item xs={false} sm={4} md={7} className={classes.image} />\r\n          <Grid item xs={12} sm={8} md={5} component={Paper} elevation={6} square>\r\n            <div className={classes.paper}>\r\n              <Avatar className={classes.avatar}>\r\n                <LockOutlinedIcon />\r\n              </Avatar>\r\n              <Typography component=\"h1\" variant=\"h5\">\r\n                Sign in\r\n              </Typography>\r\n              <form onSubmit={handleSubmit} className={classes.form} noValidate>\r\n                <TextField\r\n                  variant=\"outlined\"\r\n                  margin=\"normal\"\r\n                  required\r\n                  fullWidth\r\n                  id=\"email\"\r\n                  label=\"E-mail\"\r\n                  name=\"email\"\r\n                  autoComplete=\"email\"\r\n                  autoFocus\r\n                  className={'form-control' + (submitted && !email ? ' is-invalid' : '')}\r\n                  onChange={handleChange}\r\n                />\r\n                <TextField\r\n                  variant=\"outlined\"\r\n                  margin=\"normal\"\r\n                  required\r\n                  fullWidth\r\n                  name=\"password\"\r\n                  label=\"Senha\"\r\n                  type=\"password\"\r\n                  id=\"password\"\r\n                  autoComplete=\"current-password\"\r\n                  className={'form-control' + (submitted && !password ? ' is-invalid' : '')}\r\n                  onChange={handleChange}\r\n                />\r\n                <Button\r\n                  type=\"submit\"\r\n                  fullWidth\r\n                  variant=\"contained\"\r\n                  color=\"primary\"\r\n                  className={classes.submit}\r\n                >\r\n                {loggingIn && <span className=\"spinner-border spinner-border-sm mr-1\"></span>}\r\n                  Sign in\r\n                </Button>\r\n                <Grid container justify=\"flex-end\">\r\n                  <Grid item>\r\n                    <Link to=\"/register\" variant=\"body2\">\r\n                    Don't have an account yet? Sign up!\r\n                    </Link>\r\n                  </Grid>\r\n                </Grid>\r\n              </form>\r\n            </div>\r\n          </Grid>\r\n        </Grid>\r\n      );\r\n\r\n\r\n}\r\n\r\nexport default Login \r\n","import './index.scss'\r\nimport React from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { Link } from 'react-router-dom'\r\nimport { apiActions } from '../../_actions'\r\n\r\nconst UserSpace = () => {\r\n\r\n\r\n  const user = useSelector(state => state.authentication.user.user)\r\n  const missions = useSelector( state => state.missions)\r\n  const game1missions = useSelector( state => state.game_1_missions)\r\n  const game3missions = useSelector( state => state.game_3_missions)\r\n  const dispatch = useDispatch()\r\n  const { missionsActions, game_1_missionsActions, game_3_missionsActions } = apiActions\r\n\r\n\r\n  React.useEffect(()=>{\r\n    dispatch(missionsActions.getAll())\r\n  }, [dispatch, missionsActions])\r\n\r\n  React.useEffect(()=>{\r\n    dispatch(game_1_missionsActions.getAll())\r\n  }, [dispatch, game_1_missionsActions])\r\n\r\n    React.useEffect(()=>{\r\n      dispatch(game_3_missionsActions.getAll())\r\n    }, [dispatch, game_3_missionsActions])\r\n\r\n  return(\r\n    <div id=\"userspace\">\r\n      <p>Oi {user.username}!</p>\r\n\r\n      <div id=\"area-criacao\">\r\n        Área de criação\r\n        <div>\r\n          <Link to='/missions'>Ver Missões</Link>\r\n        </div>\r\n\r\n        <div>\r\n          <Link to='/characters'>Personagens</Link>\r\n        </div>\r\n\r\n        <div>\r\n          <Link to='/questions'>Perguntas</Link>\r\n        </div>\r\n        <div>\r\n          <Link to='/questionnaires'>Questionnaires</Link>\r\n        </div>\r\n        <div>\r\n          <Link to='/playSessions'>Ver PlaySessions</Link>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"jogos\">\r\n        <p>Jogar jogo 1</p>\r\n        <p>Missões:</p>\r\n        <Link to={'/game1/0'}>Stub</Link>\r\n        <div id=\"missoes\">\r\n          {game1missions.loading ? <div id=\"loading\">Loading...</div> :\r\n            game1missions && game1missions.items.map( (mission, index) =>\r\n            <div key={index} className=\"missao\">\r\n              <Link to={`/game1/${mission.id}`}>\r\n                <div id=\"imagem\"></div>\r\n                <div id=\"card-text-wrapper\">\r\n                  <div id=\"nome-missao\">{mission.name}</div>\r\n                  <div id=\"descricao\">Descrição</div>\r\n                  <div id=\"recompensas\">Recompensas</div>\r\n                </div>\r\n              </Link>\r\n            </div>)\r\n          }\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"jogos\">\r\n        <p>Jogar jogo 2</p>\r\n        <p>Missões:</p>\r\n        <Link to={'/game2/0'}>Stub</Link>\r\n        <div id=\"missoes\">\r\n          {missions.loading ? <div>Loading...</div> :\r\n            missions && missions.items.map( (mission, index) =>\r\n            <div key={index} className=\"missao\">\r\n              <Link to={`/game2/${mission.id}`}>\r\n                <div id=\"imagem\"></div>\r\n                <div id=\"card-text-wrapper\">\r\n                  <div id=\"nome-missao\">{mission.name}</div>\r\n                  <div id=\"descricao\">Descrição</div>\r\n                  <div id=\"recompensas\">Recompensas</div>\r\n                </div>\r\n              </Link>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"jogos\">\r\n        <p>Jogar jogo 3</p>\r\n        <p>Missões:</p>\r\n        <Link to={'/game3/0'}>Stub</Link>\r\n        <div id=\"missoes\">\r\n          {game3missions.loading ? <div id=\"loading\">Loading...</div> :\r\n            game3missions && game3missions.items.map( (mission, index) =>\r\n            <div key={index} className=\"missao\">\r\n              <Link to={`/game3/${mission.id}`}>\r\n                <div id=\"imagem\"></div>\r\n                <div id=\"card-text-wrapper\">\r\n                  <div id=\"nome-missao\">{mission.name}</div>\r\n                  <div id=\"descricao\">Descrição</div>\r\n                  <div id=\"recompensas\">Recompensas</div>\r\n                </div>\r\n              </Link>\r\n            </div>)\r\n          }\r\n        </div>\r\n      </div>\r\n\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default UserSpace\r\n","import React, { useState } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { apiActions, register } from '../../_actions'\r\nimport Avatar from '@material-ui/core/Avatar'\r\nimport Button from '@material-ui/core/Button'\r\nimport CssBaseline from '@material-ui/core/CssBaseline'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport Container from '@material-ui/core/Container'\r\nimport { useAlert } from 'react-alert'\r\nimport { Link } from 'react-router-dom'\r\nimport { MenuItem } from '@material-ui/core'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  form: {\r\n    width: '100%', // Fix IE 11 issue.\r\n    marginTop: theme.spacing(3),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n}))\r\n\r\n\r\nconst Register = () => {\r\n  const classes = useStyles()\r\n  const alert = useAlert()\r\n\r\n  const { languagesActions } = apiActions\r\n\r\n  const [inputs, setInputs] = useState({\r\n      email: '',\r\n      password: '',\r\n      username: '',\r\n      firstName: '',\r\n      lastName: '',\r\n      language: ''\r\n  })\r\n  const languages = useSelector(state => state.languages.items)\r\n  const [submitted, setSubmitted ] = useState(false)\r\n  const registering = useSelector(state => state.authentication.registering)\r\n  const dispatch = useDispatch()\r\n\r\n  function handleChange(e) {\r\n      const {name, value} = e.target\r\n      setInputs(inputs => ({...inputs, [name]: value}))\r\n  }\r\n\r\n  React.useEffect(()=>{\r\n\t\tdispatch(languagesActions.getAll())\r\n\t}, [])\r\n\r\n  function handleSubmit(e) {\r\n      e.preventDefault()\r\n      setSubmitted(true)\r\n\r\n      if(inputs.email && inputs.password && inputs.username){\r\n          dispatch(register(inputs))\r\n            .then(() => {\r\n              alert.success('User registred!')\r\n              setTimeout(()=>{\r\n                window.location.href = \"/userspace\"\r\n              }, 3000)\r\n            })\r\n            .catch(error => {\r\n              alert.error(error)\r\n            })\r\n      } else {\r\n        alert.error('Required fields missing! Please, check your inputs and try again!')\r\n      }\r\n  }\r\n\r\n  return (\r\n    <Container component=\"main\" maxWidth=\"xs\">\r\n      <CssBaseline />\r\n      <div className={classes.paper}>\r\n        <Avatar className={classes.avatar}>\r\n          <LockOutlinedIcon />\r\n        </Avatar>\r\n        <Typography component=\"h1\" variant=\"h5\">\r\n          Register\r\n        </Typography>\r\n        <form onSubmit={handleSubmit} className={classes.form} noValidate>                \r\n          <Grid container spacing={2}>\r\n            <Grid item xs={12} sm={6}>\r\n              <TextField\r\n                autoComplete=\"fname\"\r\n                name=\"firstName\"\r\n                variant=\"outlined\"\r\n                fullWidth\r\n                id=\"firstName\"\r\n                label=\"First Name\"\r\n                autoFocus                \r\n                onChange={handleChange}\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12} sm={6}>\r\n              <TextField\r\n                variant=\"outlined\"\r\n                fullWidth\r\n                id=\"lastName\"\r\n                label=\"Last Name\"\r\n                name=\"lastName\"\r\n                autoComplete=\"lname\"\r\n                onChange={handleChange}\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <TextField\r\n                variant=\"outlined\"\r\n                required\r\n                fullWidth\r\n                id=\"username\"\r\n                label=\"Username\"\r\n                name=\"username\"\r\n                autoComplete=\"username\"\r\n                className={submitted && !inputs.username ? 'danger' : ''}\r\n                onChange={handleChange}\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <TextField\r\n                variant=\"outlined\"\r\n                required\r\n                fullWidth\r\n                id=\"email\"\r\n                label=\"Email Address\"\r\n                name=\"email\"\r\n                autoComplete=\"email\"\r\n                className={submitted && !inputs.email ? 'danger' : ''}\r\n                onChange={handleChange}\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <TextField\r\n                variant=\"outlined\"\r\n                required\r\n                fullWidth\r\n                name=\"password\"\r\n                label=\"Password\"\r\n                type=\"password\"\r\n                id=\"password\"\r\n                autoComplete=\"current-password\"\r\n                className={submitted && !inputs.password ? 'danger' : ''}\r\n                onChange={handleChange}\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <TextField\r\n                variant=\"outlined\"\r\n                required\r\n                fullWidth\r\n                name=\"language\"\r\n                label=\"Language\"\r\n                type=\"language\"\r\n                id=\"language\"\r\n                className={submitted && !inputs.language ? 'danger' : ''}\r\n                onChange={handleChange}\r\n                select\r\n              >\r\n                {languages.map(language => \r\n                        <MenuItem value={language.id}>{language.lang}</MenuItem>\r\n                      )}\r\n              </TextField>\r\n            </Grid>\r\n          </Grid>\r\n          \r\n          <Button\r\n            type=\"submit\"\r\n            fullWidth\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            className={classes.submit}\r\n          >\r\n          {registering && <span className=\"spinner-border spinner-border-sm mr-1\"></span>}\r\n           Sign Up\r\n          </Button>\r\n          <Grid container justify=\"flex-end\">\r\n            <Grid item>\r\n              <Link to=\"/login\" variant=\"body2\">\r\n              Already have an account? Sign in!\r\n              </Link>\r\n            </Grid>\r\n          </Grid>\r\n        </form>\r\n      </div>\r\n    </Container>\r\n  )\r\n}\r\n\r\nexport default Register\r\n","import React from 'react'\r\n\r\nconst UserInfo = ({user}) => {\r\n  return(\r\n    <div>\r\n      Username: {user.username}\r\n      Email: {user.email}\r\n      Provider: {user.provider}\r\n      Confirmed: <input type='checkbox' checked={user.confirmed} />\r\n      Blocked: <input type='checkbox' checked={user.blocked} />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default UserInfo\r\n","import React from 'react'\r\n\r\nimport { useDispatch, useSelector} from 'react-redux'\r\nimport { userActions } from '../../_actions'\r\nimport Register from '../Register'\r\nimport UserInfo from '../../_components/UserInfo'\r\n\r\nconst UsersCRUD = () => {\r\n  const dispatch = useDispatch()\r\n  const users = useSelector( state => state.users )\r\n\r\n  React.useEffect(()=>{\r\n    dispatch(userActions.getAll())\r\n  }, [dispatch])\r\n\r\n  console.log('users:', users)\r\n\r\n  return (\r\n    <div>\r\n      <div>\r\n        Create User:\r\n        <Register />\r\n      </div>\r\n      <div>\r\n        All Users:\r\n        {users && users.items ? users.items.map( (user, index) =>\r\n          <div key={index}>\r\n            <UserInfo user={user} />\r\n            <button onClick={()=>{}}>\r\n              UPDATE USER\r\n            </button>\r\n            <button onClick={()=>dispatch(userActions.delete(user.id))}>\r\n              DELETE USER\r\n            </button>\r\n          </div>\r\n        ): null}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default UsersCRUD\r\n","import React from 'react'\r\n\r\nconst Mission = ({mission}) => {\r\n\r\n  return(\r\n    <div>\r\n      <div>Nome: {mission.name}</div>\r\n      <div>\r\n        <div>Descrição:</div>\r\n        <div>{mission.description}</div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Mission\r\n","import React from 'react'\r\n\r\nconst Character = ({character}) => {\r\n  const getAnswer = (qId) => {\r\n    let a = character.answers.find( answer => answer.question && answer.question.id === qId)\r\n    return a ? a.answer : ''\r\n  }\r\n\r\n  return(\r\n    <div style={{borderStyle: 'groove', borderRadius: 5}}>\r\n      <div style={{borderStyle: 'groove', borderRadius: 5}}>\r\n        <div>Name: {character.name}</div>\r\n        <div style={{display: 'flex'}}>\r\n          {character.characterAssets && character.characterAssets.length > 0 ?\r\n            character.characterAssets.map((characterAsset, index) =>\r\n              <div key={index}>\r\n                <img style={{width: 50}} src={`${character.characterAssets[index].image[0].url}`} alt={characterAsset.name}/>\r\n              </div>\r\n            ):'nenhum'\r\n          }\r\n        </div>\r\n        {character.characterAssets && <div>Layers: {character.characterAssets.length}</div>}\r\n        <div>Job: {character.job}</div>\r\n        <div>Country: {character.country}</div>\r\n        <div>Civil state: {character.civilState}</div>\r\n      </div>\r\n      <div>\r\n        <div> JOGO 1 - Missões que participa: </div>\r\n        {character.game_1_missions && character.game_1_missions.map((mission, index)=>\r\n          <div key={index}>\r\n            <div>{index+1}: {mission.name}</div>\r\n            {mission.questions.map((question, qIndex) =>\r\n              <div key={qIndex}>\r\n                <div>Pergunta: {question.question}</div>\r\n                <div>Resposta: {getAnswer(question.id)}</div>\r\n              </div>\r\n            )}\r\n          </div>\r\n        )}\r\n      </div>\r\n      <div>\r\n        <div> JOGO 2 - Missões que participa: </div>\r\n        {character.missions && character.missions.map((mission, index)=>\r\n          <div key={index}>\r\n            <div>{index+1}: {mission.name}</div>\r\n            {mission.questions.map((question, qIndex) =>\r\n              <div key={qIndex}>\r\n                <div>Pergunta: {question.question}</div>\r\n                <div>Resposta: {getAnswer(question.id)}</div>\r\n              </div>\r\n            )}\r\n          </div>\r\n        )}\r\n        <div>Errou alguma: {character.wrongAnswer}</div>\r\n        <div>Acertou o suficiente: {character.rightAnswer}</div>\r\n        <div>Dica: {character.tip}</div>\r\n        <div>Resposta à acusação: {character.acusationAnswer}</div>\r\n        <div>Despedida: {character.endDialog}</div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Character\r\n","import React from 'react'\r\n\r\nconst Question = ({question}) => {\r\n  return(\r\n    <div style={{display: 'flex', flexDirection: 'row'}}>\r\n      <span>{question.question}</span> <span>{question.correct? 'true' : 'false'}</span>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Question\r\n","import React from 'react'\r\n\r\nimport { useSelector } from 'react-redux'\r\n\r\nimport Button from '@material-ui/core/Button'\r\nimport AddIcon from '@material-ui/icons/Add'\r\nimport RemoveIcon from '@material-ui/icons/Remove'\r\nimport DoneIcon from '@material-ui/icons/Done'\r\n\r\nimport Character from '../Character'\r\nimport Question from '../Question'\r\n\r\nconst EditMission = ({mission, onDone}) => {\r\n  const [state, setState] = React.useState(mission)\r\n\r\n  console.log(mission)\r\n\r\n  const [charList, setCharList] = React.useState(mission.missionCharacters)\r\n  const [locationList, setLocationList] = React.useState(mission.locations)\r\n  const [questionList, setQuestionList] = React.useState(mission.questions)\r\n  const characters = useSelector(state => state.characters)\r\n  const locations = useSelector(state => state.locations)\r\n  const questions = useSelector(state => state.questions)\r\n\r\n  const addToMission = (character) => () => {\r\n    setCharList([...charList, character])\r\n  }\r\n\r\n  const removeFromMission = (character) => () => {\r\n    setCharList(charList.filter( c => c.id !== character.id) )\r\n  }\r\n\r\n  const addLocationToMission = (location) => () => {\r\n    setLocationList([...locationList, location])\r\n  }\r\n\r\n  const removeLocationFromMission = (location) => () => {\r\n    setLocationList(locationList.filter( l => l.id !== location.id) )\r\n  }\r\n\r\n  const addQuestionToMission = (question) => () => {\r\n    setQuestionList([...questionList, question])\r\n  }\r\n\r\n  const removeQuestionFromMission = (question) => () => {\r\n    setQuestionList(questionList.filter(c => c.id !== question.id))\r\n  }\r\n\r\n  const onClick = () => {\r\n    let newState = {\r\n      id: state.id,\r\n      name: state.name,\r\n      description: state.description\r\n    }\r\n    newState.characters = charList.reduce((acc, character) => [...acc, character.id], [] )\r\n    newState.locations = locationList.reduce((acc, location) => [...acc, location.id], [] )\r\n    newState.questions = questionList.reduce((acc, question) => [...acc, question.id], [] )\r\n    onDone(newState)\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <div>\r\n        Nome: <input value={state.name} onChange={ e => setState({...state, name: e.target.value})} />\r\n      </div>\r\n      <div>\r\n        Descrição: <input value={state.description} onChange={ e => setState({...state, description: e.target.value})} />\r\n      </div>\r\n\r\n      <div>\r\n        <div>Personagens na missão:</div>\r\n        {charList.map((character, index) =>\r\n          <div key={index} style={{display: 'flex', flexDirection: 'row'}}>\r\n            <Button onClick={removeFromMission(character)}><RemoveIcon /></Button>\r\n            <Character character={character}/>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      <div>\r\n        <div>Personagens disponíveis</div>\r\n        {characters.items && characters.items.length > 0 && characters.items\r\n          .filter( character => !charList.find( c => c.id === character.id ) )\r\n          .map( (character, index) =>\r\n          <div key={index} style={{display: 'flex', flexDirection: 'row'}}>\r\n            <Button onClick={addToMission(character)}>\r\n              <AddIcon />\r\n            </Button>\r\n            <Character character={character}/>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      <div>\r\n        <div>Locais na missão:</div>\r\n        {locationList.map((location, index) =>\r\n          <div key={index} style={{display: 'flex', flexDirection: 'row'}}>\r\n            <Button onClick={removeLocationFromMission(location)}><RemoveIcon /></Button>\r\n            <div>{location.name}</div>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      <div>\r\n        <div>Locais disponíveis</div>\r\n        {locations.items && locations.items.length > 0 && locations.items\r\n          .filter( location => !locationList.find( l => l.id === location.id ) )\r\n          .map( (location, index) =>\r\n          <div key={index} style={{display: 'flex', flexDirection: 'row'}}>\r\n            <Button onClick={addLocationToMission(location)}>\r\n              <AddIcon />\r\n            </Button>\r\n            <div>{location.name}</div>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      <div>\r\n        <div>Questions:</div>\r\n        {questionList.map( ( question, index) =>\r\n          <div key={index} style={{display: 'flex', flexDirection: 'row'}}>\r\n            <Button onClick={removeQuestionFromMission(question)}><RemoveIcon /></Button>\r\n            <Question question={question}/>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      <div>\r\n        <div>Preset questions</div>\r\n        {questions.items && questions.items.length > 0 && questions.items\r\n          .filter( question => !questionList.find( c => c.id === question.id) )\r\n          .map( (question, index) =>\r\n          <div key={index} style={{display: 'flex', flexDirection: 'row'}}>\r\n            <Button onClick={addQuestionToMission(question)}>\r\n              <AddIcon />\r\n            </Button>\r\n            <Question question={question}/>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      <Button onClick={onClick}><DoneIcon/></Button>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default EditMission\r\n","import React from 'react'\r\nimport { Link, Redirect } from 'react-router-dom'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\n\r\nimport { apiActions } from '../../_actions'\r\n\r\nimport Button from '@material-ui/core/Button'\r\nimport DeleteIcon from '@material-ui/icons/Delete'\r\nimport EditIcon from '@material-ui/icons/Edit'\r\nimport CancelIcon from '@material-ui/icons/Cancel'\r\n\r\nimport Mission from '../Mission'\r\nimport EditMission from '../EditMission'\r\n\r\nconst Missions = () => {\r\n  const { missionsActions, game_1_missionsActions } = apiActions\r\n  const dispatch = useDispatch()\r\n  const missions = useSelector( state => state.missions)\r\n  const game1missions = useSelector( state => state.game_1_missions)\r\n  const [ createMission, setCreateMission ] = React.useState(false)\r\n  const [ edit, setEdit ] = React.useState(-1)\r\n\r\n  React.useEffect(()=> {\r\n    setEdit(-1)\r\n    setCreateMission(false)\r\n  }, [missions])\r\n\r\n  React.useEffect(() => {\r\n    dispatch(game_1_missionsActions.getAll())\r\n  }, [dispatch, game_1_missionsActions])\r\n\r\n  React.useEffect(() => {\r\n    dispatch(missionsActions.getAll())\r\n  }, [dispatch, missionsActions])\r\n\r\n  return(\r\n    <div>\r\n      <div>\r\n        <div>Missões jogo 1</div>\r\n        {game1missions.items && game1missions.items.length > 0 && game1missions.items.map((mission, index) =>\r\n          <div key={index} style={{display: 'flex', flexDirection: 'row'}}>\r\n            {edit !== index ?\r\n              <Mission key={index} mission={mission} />\r\n              : <EditMission mission={mission} onDone={(newState) => {\r\n                  setEdit(-1)\r\n                  dispatch(game_1_missionsActions.update(newState))\r\n                }} /> }\r\n\r\n            {edit !== index ?\r\n              <Button><Link to={`missions/edit/game_1_missions/${mission.id}`}><EditIcon/></Link></Button>\r\n              : <Button onClick={() => setEdit(-1) }><CancelIcon/></Button>\r\n             }\r\n\r\n            <Button onClick={() => dispatch(game_1_missionsActions.delete(mission.id))}><DeleteIcon/></Button>\r\n          </div>\r\n        )}\r\n        <Button onClick={() => setCreateMission(!createMission)}>\r\n          {createMission? 'Cancelar' : 'Criar Missão'}\r\n        </Button>\r\n        {createMission &&  <Redirect to='missions/create'/>}\r\n      </div>\r\n      <div>\r\n        <div>Missões jogo 2</div>\r\n        {missions.items && missions.items.length > 0 && missions.items.map((mission, index) =>\r\n          <div key={index} style={{display: 'flex', flexDirection: 'row'}}>\r\n            {edit !== index ?\r\n              <Mission key={index} mission={mission} />\r\n              : <EditMission mission={mission} onDone={(newState) => {\r\n                  setEdit(-1)\r\n                  dispatch(missionsActions.update(newState))\r\n                }} /> }\r\n\r\n            {edit !== index ?\r\n              <Button><Link to={`missions/edit/${mission.id}`}><EditIcon/></Link></Button>\r\n              : <Button onClick={() => setEdit(-1) }><CancelIcon/></Button>\r\n             }\r\n\r\n            <Button onClick={() => dispatch(missionsActions.delete(mission.id))}><DeleteIcon/></Button>\r\n          </div>\r\n        )}\r\n        <Button onClick={() => setCreateMission(!createMission)}>\r\n          {createMission? 'Cancelar' : 'Criar Missão'}\r\n        </Button>\r\n        {createMission &&  <Redirect to='missions/create'/>}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Missions\r\n","import React from 'react'\r\nimport Radio from '@material-ui/core/Radio'\r\nimport { useDispatch } from 'react-redux'\r\nimport { apiActions } from '../../_actions'\r\nimport { useAlert } from 'react-alert'\r\n\r\nconst CreateCharacter = () => {\r\n  const { charactersActions } = apiActions\r\n  const [name, setName] = React.useState('')\r\n  const [job, setJob] = React.useState('')\r\n  const [civilState, setCivilState] = React.useState('single')\r\n  const civilStates = ['single', 'married', 'divorced', 'widowed']\r\n  const estadosCivis = ['solteir@', 'casad@', 'divorciad@', 'viúv@']\r\n  const dispatch = useDispatch()\r\n  const alert = useAlert()\r\n\r\n  const create = () => {\r\n    console.log('called')\r\n    dispatch(charactersActions.create({name: name, job: job, civilState: civilState})).then(() => {\r\n        alert.success('Character created!')\r\n    })\r\n    .catch(error => {\r\n        alert.error(error)\r\n    })\r\n    setName('')\r\n    setJob('')\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <div>Criador de personagens:</div>\r\n      <div>Nome: <input type='text' value={name} onChange={ e => setName(e.target.value)} /> </div>\r\n      <div>Trabalho: <input type='text' value={job} onChange={ e => setJob(e.target.value)} /> </div>\r\n      <div>Estado civil:\r\n        {civilStates.map((cs, index) =>\r\n          <div key={index}>\r\n            <Radio checked={civilState === civilStates[index]} value={civilStates[index]} onChange={ e => setCivilState(e.target.value)}/>\r\n            {estadosCivis[index]}\r\n          </div>\r\n        )}\r\n      </div>\r\n      <button onClick={create}>Criar</button>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default CreateCharacter\r\n","import React from 'react'\r\nimport { useDispatch } from 'react-redux'\r\nimport { apiActions } from '../../_actions'\r\n\r\nimport Button from '@material-ui/core/Button'\r\n\r\nconst CreateLocation = () => {\r\n  const [state, setState] = React.useState({name: ''})\r\n  const dispatch = useDispatch()\r\n  const { locationsActions } = apiActions\r\n\r\n  const create = () => {\r\n    dispatch(locationsActions.create(state))\r\n    setState({name: ''})\r\n  }\r\n  return (\r\n    <div>\r\n      Nome: <input value={state.name} onChange={ e => setState({...state, name:e.target.value})} placeholder='Sala de estar' />\r\n      <Button onClick={create}>Salvar</Button>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default CreateLocation\r\n","import { React, useState } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { apiActions } from '../../_actions'\r\nimport Button from '@material-ui/core/Button'\r\nimport CssBaseline from '@material-ui/core/CssBaseline'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport Container from '@material-ui/core/Container'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { FormControlLabel, FormLabel, Radio, RadioGroup } from '@material-ui/core'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  form: {\r\n    width: '100%', // Fix IE 11 issue.\r\n    marginTop: theme.spacing(3),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n}))\r\n\r\nconst CreateQuestion = () => {\r\n    const { questionsActions }= apiActions\r\n    const dispatch = useDispatch()\r\n    const [inputs, setInputs] = useState({\r\n        question: '',\r\n        group: 0,\r\n        correct: true\r\n    })\r\n    const submitted = false\r\n    const classes = useStyles()\r\n    const creating = useSelector(state => state.authentication.registering)\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault()\r\n        console.log('inputs', inputs)\r\n        dispatch(questionsActions.create(inputs))\r\n    }\r\n\r\n    return (\r\n        <Container component=\"main\" maxWidth=\"sm\">\r\n            <CssBaseline />\r\n            <div className={classes.paper}>\r\n                <Typography component=\"h1\" variant=\"h5\">\r\n                Create Question\r\n                </Typography>\r\n                <form id=\"create-question-form\" onSubmit={handleSubmit} className={classes.form} noValidate>\r\n                    <Grid container spacing={2}>\r\n                        <Grid item xs={12}>\r\n                            <TextField\r\n                            type=\"textArea\"\r\n                            name=\"question\"\r\n                            variant=\"outlined\"\r\n                            id=\"question\"\r\n                            label=\"Question\"\r\n                            fullWidth\r\n                            required\r\n                            className={submitted && (inputs.question === \"\") ? 'danger' : ''}\r\n                            onChange={e => {setInputs(inputs => ({...inputs, question: e.target.value}))}}\r\n                            />\r\n                        </Grid>\r\n                        <Grid item xs={12} sm={6}>\r\n                            <TextField\r\n                            type=\"number\"\r\n                            variant=\"outlined\"\r\n                            fullWidth\r\n                            id=\"group\"\r\n                            label=\"Group\"\r\n                            name=\"group\"\r\n                            required\r\n                            aria-describedby=\"my-helper-text\"\r\n                            className={submitted && !inputs.group ? 'danger' : ''}\r\n                            onChange={e => {setInputs(inputs => ({...inputs,  group: parseInt(e.target.value)}))}}\r\n                            />\r\n                            <span id=\"my-helper-text\">Group is a integer that defines the which questions to show in every step. For example, if a question is group 1, it will be displayed on the first user interaction with a character.</span>\r\n                        </Grid>\r\n                        <Grid item xs={12} sm={6} justify=\"center\">\r\n                            <FormLabel component=\"legend\">Is question correct?</FormLabel>\r\n\r\n                            <RadioGroup\r\n                            aria-label=\"correct\"\r\n                            id=\"correct\"\r\n                            name=\"correct\"\r\n                            value={inputs.correct.toString()}\r\n                            required\r\n                            onChange={e => {setInputs(inputs => ({...inputs, correct: e.target.value === \"true\" ? true : false}))}}\r\n                            >\r\n                                <FormControlLabel value=\"true\" control={<Radio />} label=\"Correct\"/>\r\n                                <FormControlLabel value=\"false\" control={<Radio />} label=\"Incorrect\"/>\r\n                            </RadioGroup>\r\n                        </Grid>\r\n                    </Grid>\r\n\r\n                    <Button\r\n                    type=\"submit\"\r\n                    fullWidth\r\n                    variant=\"contained\"\r\n                    color=\"primary\"\r\n                    className={classes.submit}\r\n                    >\r\n                    {creating && <span className=\"spinner-border spinner-border-sm mr-1\"></span>}\r\n                    Create\r\n                    </Button>\r\n                </form>\r\n            </div>\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default CreateQuestion\r\n","import React from 'react'\r\nimport _ from 'lodash'\r\n\r\nconst EditMissionCharacter = ({missionCharacter, onDone, questions, cancel}) => {\r\n\r\n  const [state, setState] = React.useState({\r\n    answers: missionCharacter.answers ? [...missionCharacter.answers] : []\r\n  })\r\n\r\n  const editAnswer = (question, index) => e => {\r\n    console.log('question:', question)\r\n    let aQ = _.cloneDeep(missionCharacter.answers.find( answer => answer.question && answer.question.id === question.id))\r\n\r\n    let changedIndex = {...state.answers[index], answer: e.target.value}\r\n    if(!aQ) changedIndex.question = question.id\r\n\r\n    setState({\r\n      ...state,\r\n      answers: [\r\n        ...state.answers.slice(0, index),\r\n        changedIndex,\r\n        ...state.answers.slice(index+1)\r\n      ]\r\n    })\r\n  }\r\n  const getAnswer = (qId) => {\r\n    let a = state.answers.find( answer => answer.question && answer.question.id ? answer.question.id === qId : answer.question === qId)\r\n    console.log('a:', a)\r\n    return a ? a.answer : ''\r\n  }\r\n\r\n  return(\r\n    <div>\r\n      <div>\r\n        <div>\r\n          <div>Answers:</div>\r\n            {questions.map( (question, qIndex) =>\r\n              <div key={qIndex}>\r\n                <div>{question.question}</div>\r\n                <input type='text' value={getAnswer(question.id)}\r\n                  onChange={editAnswer(question, qIndex)} placeholder='Resposta'/>\r\n              </div>\r\n            )}  \r\n          <div>\r\n            <div>\r\n              Errou alguma opção:\r\n            </div>\r\n            <input type='text' value={missionCharacter.wrongAnswer} onChange={e => setState({...state, wrongAnswer: e.target.value})} placeholder='Errou alguma'/>\r\n          </div>\r\n          <div>\r\n            <div>\r\n              Acertou o suficiente:\r\n            </div>\r\n            <input type='text' value={missionCharacter.rightAnswer} onChange={e => setState({...state, rightAnswer: e.target.value})} placeholder='Acertou o suficiente'/>\r\n          </div>\r\n          <div>\r\n            <div>\r\n              Dica:\r\n            </div>\r\n            <input type='text' value={missionCharacter.tip} onChange={e => setState({...state, tip: e.target.value})} placeholder='Dica'/>\r\n          </div>\r\n          <div>\r\n            <div>\r\n              Resposta da acusação certa:\r\n            </div>\r\n            <input type='text' value={missionCharacter.rightAcusationAnswer} onChange={e => setState({...state, rightAcusationAnswer: e.target.value})} placeholder='Resposta à acusação'/>\r\n          </div>\r\n          <div>\r\n            <div>\r\n              Resposta da acusação errada:\r\n            </div>\r\n            <input type='text' value={missionCharacter.wrongAcusationAnswer} onChange={e => setState({...state, wrongAcusationAnswer: e.target.value})} placeholder='Resposta à acusação'/>\r\n          </div>\r\n          <div>\r\n            <div>\r\n              Despedida:\r\n            </div>\r\n            <input type='text' value={missionCharacter.endDialog} onChange={e => setState({...state, endDialog: e.target.value})} placeholder='Despedida'/>\r\n          </div>\r\n        </div>\r\n        <button onClick={onDone(state)}>Salvar</button>\r\n        <button onClick={cancel()}>Cancel</button>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\nexport default EditMissionCharacter","import React from 'react'\r\nimport _ from 'lodash'\r\n\r\nconst EditNewMissionCharacter = ({character, onDone, questions, cancel}) => {\r\n  console.log(character)\r\n\r\n  const [missionCharacter, setmissionCharacter] = React.useState({...character})\r\n\r\n  const editAnswer = (question, index) => e => {\r\n    console.log('question:', question)\r\n    let aQ = _.cloneDeep(missionCharacter.answers.find( answer => answer.question && answer.question.id === question.id))\r\n\r\n    let changedIndex = {...missionCharacter.answers[index], answer: e.target.value}\r\n    if(!aQ) changedIndex.question = question.id\r\n\r\n    setmissionCharacter({\r\n      ...missionCharacter,\r\n      answers: [\r\n        ...missionCharacter.answers.slice(0, index),\r\n        changedIndex,\r\n        ...missionCharacter.answers.slice(index+1)\r\n      ]\r\n    })\r\n  }\r\n\r\n  const getAnswer = (qId) => {\r\n    let a = missionCharacter.answers.find( answer => answer.question && answer.question.id ? answer.question.id === qId : answer.question === qId)\r\n    console.log('a:', a)\r\n    return a ? a.answer : ''\r\n  }\r\n\r\n  return(\r\n    <div>\r\n      <div>\r\n        <div>\r\n          <div>Answers:</div>\r\n            {questions.map( (question, qIndex) =>\r\n              <div key={qIndex}>\r\n                <div>{question.question}</div>\r\n                <input type='text' value={getAnswer(question.id)}\r\n                  onChange={editAnswer(question, qIndex)} placeholder='Resposta'/>\r\n              </div>\r\n            )}  \r\n          <div>\r\n            <div>\r\n              Errou alguma opção:\r\n            </div>\r\n            <input type='text' value={missionCharacter.wrongAnswer} onChange={e => setmissionCharacter({...missionCharacter, wrongAnswer: e.target.value})} placeholder='Errou alguma'/>\r\n          </div>\r\n          <div>\r\n            <div>\r\n              Acertou o suficiente:\r\n            </div>\r\n            <input type='text' value={missionCharacter.rightAnswer} onChange={e => setmissionCharacter({...missionCharacter, rightAnswer: e.target.value})} placeholder='Acertou o suficiente'/>\r\n          </div>\r\n          <div>\r\n            <div>\r\n              Dica:\r\n            </div>\r\n            <input type='text' value={missionCharacter.tip} onChange={e => setmissionCharacter({...missionCharacter, tip: e.target.value})} placeholder='Dica'/>\r\n          </div>\r\n          <div>\r\n            <div>\r\n              Resposta da acusação certa:\r\n            </div>\r\n            <input type='text' value={missionCharacter.rightAcusationAnswer} onChange={e => setmissionCharacter({...missionCharacter, rightAcusationAnswer: e.target.value})} placeholder='Resposta à acusação'/>\r\n          </div>\r\n          <div>\r\n            <div>\r\n              Resposta da acusação errada:\r\n            </div>\r\n            <input type='text' value={missionCharacter.wrongAcusationAnswer} onChange={e => setmissionCharacter({...missionCharacter, wrongAcusationAnswer: e.target.value})} placeholder='Resposta à acusação'/>\r\n          </div>\r\n          <div>\r\n            <div>\r\n              Despedida:\r\n            </div>\r\n            <input type='text' value={missionCharacter.endDialog} onChange={e => setmissionCharacter({...missionCharacter, endDialog: e.target.value})} placeholder='Despedida'/>\r\n          </div>\r\n        </div>\r\n        <button onClick={onDone(missionCharacter)}>Salvar</button>\r\n        <button onClick={cancel()}>Cancel</button>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\nexport default EditNewMissionCharacter\r\n","// eslint-disable-next-line import/no-anonymous-default-export\r\nconst missionCharacterInitialState = (character) => ({\r\n  character: character,\r\n  answers: [],\r\n  tip: '',\r\n  endDialog: '',\r\n  wrongAnswer: '',\r\n  rightAnswer: '',\r\n  wrongAcusationAnswer: '',\r\n  rightAcusationAnswer: '',\r\n  targetCharacter: false,\r\n})\r\n  \r\nexport default missionCharacterInitialState\r\n  \r\n","import React from 'react'\r\nimport { useDispatch } from 'react-redux'\r\nimport { apiActions } from '../../../_actions'\r\nimport Checkbox from '@material-ui/core/Checkbox'\r\n\r\nconst CreateGame1Data = ({data, characters}) => {\r\n\r\n  const dispatch = useDispatch()\r\n\r\n  const onCheckChange = (id, type) => e => {\r\n\r\n    let payload = {id: id, [type]: e.target.checked}\r\n    dispatch(apiActions.game_1_mission_charactersActions.update(payload))\r\n  }\r\n\r\n  return(\r\n    <div>\r\n      Dados do Game1:\r\n      {data && data.map((d, index) =>\r\n        <div>\r\n          <div>{characters.find(character => d.character === character.id).name}</div>\r\n          <div>\r\n            <Checkbox checked={d.showJob} onChange={onCheckChange(d.id, 'showJob')}/>\r\n            Show Job\r\n          </div>\r\n          <div>\r\n            <Checkbox checked={d.showCountry} label='ShowCountry' onChange={onCheckChange(d.id, 'showCountry')}/>\r\n            Show Country\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default CreateGame1Data\r\n","import React from 'react'\r\n\r\nconst Game2Data = () => {\r\n  return (\r\n    <div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Game2Data\r\n","import React from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\n\r\nimport AddIcon from '@material-ui/icons/Add'\r\nimport RemoveIcon from '@material-ui/icons/Remove'\r\nimport Button from '@material-ui/core/Button'\r\n\r\nimport CreateCharacter from '../CreateCharacter'\r\nimport CreateLocation from '../CreateLocation'\r\nimport Question from '../Question'\r\nimport CreateQuestion from '../CreateQuestion'\r\nimport EditMissionCharacter from './components/EditMissionCharacter'\r\nimport EditNewMissionCharacter from './components/EditNewMissionCharacter'\r\nimport missionCharacterInitialState from './missionCharacterInitialState'\r\n\r\n// import { useAlert } from 'react-alert'\r\n\r\nimport CreateGame1Data from './Game1Data'\r\nimport Game2Data from './Game2Data'\r\n\r\nimport { apiActions } from '../../_actions'\r\n\r\n//used for game 1 and 2 coincident data\r\nconst CreateMissionGame1 = (props) => {\r\n  const dispatch = useDispatch()\r\n  // const alert = useAlert()\r\n\r\n  //for edit\r\n  const game = props && props.match? props.match.params.game : null\r\n  const id = props && props.match ? props.match.params.id : null\r\n  const originalMission = useSelector( state => id && state[game].items.length > 0 ? state[game].items.filter(m => m.id === id)[0] : null )\r\n\r\n  const characters = useSelector( state => state.characters)\r\n  const locations = useSelector( state => state.locations)\r\n  const questions = useSelector( state => state.questions)\r\n\r\n  const [state, setState] = React.useState({\r\n    mission: {\r\n      name: '',\r\n      description: '',\r\n      missionCharacters: [],\r\n      locations: [],\r\n      questions:[]\r\n    },\r\n    charactersList: [],\r\n    charactersConfigList: [],\r\n    characterConfig: null,\r\n    newCharacterConfig: null,\r\n  })\r\n\r\n  //for edit\r\n  if(originalMission && !state.mission.id)\r\n    setState({...state, mission: {...originalMission}})\r\n\r\n  //refrashed route\r\n  React.useEffect(() => {\r\n    if(id && !originalMission)\r\n      dispatch(apiActions[game+\"Actions\"].getById(id))\r\n    if(characters.items.length === 0)\r\n      dispatch(apiActions.charactersActions.getAll())\r\n    if(locations.items.length === 0)\r\n      dispatch(apiActions.locationsActions.getAll())\r\n    if(questions.items.length === 0)\r\n      dispatch(apiActions.questionsActions.getAll())\r\n  }, [dispatch, id, originalMission, questions.items.length, locations.items.length, characters.items.length, game])\r\n\r\n  const [createCharacter, setCreateCharacter] = React.useState(false)\r\n  const [createLocation, setCreateLocation] = React.useState(false)\r\n  const [createQuestion, setCreateQuestion] = React.useState(false)\r\n\r\n  const createMission = () => {\r\n    let data = {...state.mission,\r\n      missionCharacters: state.mission.missionCharacters.map(missionCharacter => {\r\n        return missionCharacter.id\r\n      }),\r\n      missionCharactersCreate: [...state.charactersConfigList, ...state.charactersList]\r\n    }\r\n\r\n\r\n/*\r\n//  algo muito errado aqui\r\n//\r\n    state.charactersConfigList = []\r\n    state.charactersList = []\r\n\r\n    dispatch(apiActions.missionsActions.create(data))\r\n    \r\n    data = {...state.mission}\r\n\r\n    let data = {...state.mission}\r\n    dispatch(apiActions[game+\"Actions\"].create(data))\r\n  */\r\n  }\r\n\r\n  const editMission = () => {\r\n    // state.mission.missionCharacters = [...state.mission.missionCharacters]\r\n    // state.charactersConfigList = []\r\n    // state.charactersList = []\r\n    let data = {...state.mission,\r\n      missionCharacters: state.mission.missionCharacters.map(missionCharacter => {\r\n        return missionCharacter.id\r\n      }),\r\n      missionCharactersCreate: [...state.charactersConfigList, ...state.charactersList]\r\n    }\r\n\r\n\r\n//  algo errado aqui\r\n//\r\n    state.charactersConfigList = []\r\n    state.charactersList = []\r\n\r\n    dispatch(apiActions.missionsActions.update(data))\r\n    \r\n    // data = {...state.mission}\r\n    // dispatch(apiActions[game+\"Actions\"].update(data))     \r\n\r\n    data = {...state.mission}\r\n    dispatch(apiActions[game+\"Actions\"].update(data))\r\n  }\r\n\r\n  const addToMission = (type, data) => () => {\r\n    setState({...state, mission: {...state.mission, [type]:[...state.mission[type], data]}})\r\n  }\r\n\r\n  const removeFromMission = (type, data) => () => {\r\n      setState({...state, mission: {...state.mission, [type]: state.mission[type].filter(d => d.id !== data.id)}})\r\n  }\r\n\r\n  const editCharacterConfig = (character) => () => {\r\n    setState({...state, characterConfig: character})\r\n  }\r\n\r\n  const createCharacterConfig = (character) => () => {\r\n    setState({...state, newCharacterConfig: character})\r\n  }\r\n\r\n  const cancelCharacterConfig = () => () => {\r\n    setState({...state, characterConfig: null, newCharacterConfig: null})\r\n  }\r\n\r\n  const addCharacterToList = (character) => () => {\r\n    setState({...state, charactersList: [...state.charactersList, missionCharacterInitialState(character)]})\r\n  }\r\n\r\n  const removeCharacterFromList = (character) => () => {\r\n    setState({...state, charactersList: state.charactersList.filter(d => d.character.id !== character.character.id)})\r\n  }\r\n\r\n  const removeCharacterFromConfigList = (character) => () => {\r\n    setState({...state, charactersConfigList: state.charactersList.filter(d => d.character.id !== character.character.id)})\r\n  }\r\n\r\n  const updateCharacterConfig = (character) => () => {\r\n    dispatch(apiActions.mission_charactersActions.update(character))\r\n    setState({...state, characterConfig: null})\r\n  }\r\n\r\n  const addCharacterConfig = (missionCharacter) => () => {\r\n    setState({...state, charactersConfigList: [...state.charactersConfigList, missionCharacter], charactersList: state.charactersList.filter(d => d.character.id !== missionCharacter.character.id), newCharacterConfig: null})\r\n  }\r\n\r\n  console.log(state)\r\n\r\n  return(\r\n    <div>\r\n      <div style={{\r\n          display: 'flex', flexGrow: 1,\r\n          flexShrink: 1,\r\n          flexBasis: 0,\r\n          flexDirection: 'row'}}>\r\n        <div>\r\n          <div>\r\n            <div>Nome:</div>\r\n            <div>\r\n              <input type='text' value={state.mission.name} onChange={e => setState({...state, mission: {...state.mission, name: e.target.value}})} placeholder='Missão maneira'/>\r\n            </div>\r\n          </div>\r\n\r\n          <div>Texto da missão:</div>\r\n          <textarea value={state.mission.description} onChange={e => setState({...state, mission: {...state.mission, description: e.target.value}})} />\r\n          <div>\r\n            {id ?\r\n              <Button onClick={editMission}>{'Salvar Missão'}</Button>\r\n              :<Button onClick={createMission}>{'Criar Missão'}</Button>\r\n            }\r\n          </div>\r\n\r\n          <div>\r\n            <div>Personagens na missão:</div>\r\n            {state.mission.missionCharacters.map( ( missionCharacter, index) =>\r\n              <div key={index} style={{display: 'flex', flexDirection: 'row'}}>\r\n                <Button onClick={removeFromMission('missionCharacters', missionCharacter)}><RemoveIcon /></Button>\r\n                <Button onClick={editCharacterConfig(missionCharacter)}>\r\n                  {missionCharacter.character.name}\r\n                </Button>\r\n              </div>\r\n            )}\r\n            {state.charactersConfigList.map( ( missionCharacter, index) =>\r\n              <div key={index} style={{display: 'flex', flexDirection: 'row'}}>\r\n                <Button onClick={removeCharacterFromConfigList('missionCharacters', missionCharacter)}><RemoveIcon /></Button>\r\n                <Button onClick={editCharacterConfig(missionCharacter)}>\r\n                  {missionCharacter.character.name}\r\n                </Button>\r\n              </div>\r\n            )}\r\n            {state.charactersList.map( ( character, index) =>\r\n              <div key={index} style={{display: 'flex', flexDirection: 'row'}}>\r\n                <Button onClick={removeCharacterFromList(character)}><RemoveIcon /></Button>\r\n                <Button onClick={createCharacterConfig(character)}>\r\n                  {character.character.name}\r\n                </Button>\r\n                {state.charactersList.indexOf(character) !== -1 ? <div >!\r\n                  <span>This character has no config!</span>\r\n                </div> : null}\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          <div>\r\n            <div>Locais na missão:</div>\r\n            {state.mission.locations.map((location, index) =>\r\n              <div key={index} style={{display: 'flex', flexDirection: 'row'}}>\r\n                <Button onClick={removeFromMission('locations', location)}><RemoveIcon /></Button>\r\n                <div>{location.name}</div>\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          <div>\r\n            <div>Questions:</div>\r\n            {state.mission.questions.map((question, index) =>\r\n              <div key={index} style={{display: 'flex', flexDirection: 'row'}}>\r\n                <Button onClick={removeFromMission('questions', question)}><RemoveIcon /></Button>\r\n                <Question question={question}/>\r\n              </div>\r\n            )}\r\n          </div>\r\n            {game === 'game_1_missions' &&\r\n              <CreateGame1Data data={state.mission.game_1_mission_characters} characters={state.mission.characters}\r\n                onChangeCharacter={()=>{}} onJobCheckChange={()=>{}} onCountryCheckChange={()=>{}}/>\r\n            }\r\n            {game === 'game2' &&\r\n              <Game2Data />\r\n            }\r\n        </div>\r\n\r\n        <div>\r\n          <div>\r\n            <div>Personagens disponíveis</div>\r\n            {characters.items && characters.items.length > 0 && characters.items\r\n              .filter( character => !state.mission.missionCharacters.find( c => c.character.id === character.id) && !state.charactersList.find( c => c.character.id === character.id) && !state.charactersConfigList.find( c => c.character.id === character.id))\r\n              .map( (character, index) =>\r\n              <div key={index} style={{display: 'flex', flexDirection: 'row'}}>\r\n                <Button onClick={addCharacterToList(character)}>\r\n                  <AddIcon />\r\n                </Button>\r\n                <Button onClick={editCharacterConfig(character)}>\r\n                  {character.name}\r\n                </Button>\r\n              </div>\r\n            )}\r\n            <Button onClick={() => setCreateCharacter(!createCharacter)}>\r\n              {createCharacter ? \"Cancelar\" : \"Criar personagem\"}\r\n            </Button>\r\n            {createCharacter && <CreateCharacter /> }\r\n          </div>\r\n\r\n          <div>\r\n            <div>Locais disponíveis</div>\r\n            {locations.items && locations.items.length > 0 && locations.items\r\n              .filter( location => !state.mission.locations.find( l => l.id === location.id) )\r\n              .map( (location, index) =>\r\n              <div key={index} style={{display: 'flex', flexDirection: 'row'}}>\r\n                <Button onClick={addToMission('locations', location)}>\r\n                  <AddIcon />\r\n                </Button>\r\n                <div>{location.name}</div>\r\n              </div>\r\n            )}\r\n            <Button onClick={() => setCreateLocation(!createLocation)}>\r\n            {createLocation ? \"Cancelar\" : \"Criar local\"}\r\n            </Button>\r\n            {createLocation && <CreateLocation />}\r\n          </div>\r\n\r\n          <div>\r\n            <div>Preset questions</div>\r\n            {questions.items && questions.items.length > 0 && questions.items\r\n              .filter( question => !state.mission.questions.find( c => c.id === question.id) )\r\n              .map( (question, index) =>\r\n              <div key={index} style={{display: 'flex', flexDirection: 'row'}}>\r\n                <Button onClick={addToMission('questions', question)}>\r\n                  <AddIcon />\r\n                </Button>\r\n                <Question question={question}/>\r\n              </div>\r\n            )}\r\n            <Button onClick={() => setCreateQuestion(!createQuestion)}>\r\n              {createQuestion ? \"Cancel\" : \"Create question\"}\r\n            </Button>\r\n            {createQuestion && <CreateQuestion /> }\r\n          </div>\r\n        </div>\r\n\r\n        <div>\r\n          <h5>Detalhes do personagem:</h5>\r\n          {state.characterConfig && <EditMissionCharacter missionCharacter={state.characterConfig} onDone={updateCharacterConfig} questions={state.mission.questions} cancel={cancelCharacterConfig}/>}\r\n          {state.newCharacterConfig && <EditNewMissionCharacter character={state.newCharacterConfig} onDone={addCharacterConfig} questions={state.mission.questions} cancel={cancelCharacterConfig}/>}\r\n        </div>\r\n\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default CreateMissionGame1\r\n","import React from 'react'\r\nimport _ from 'lodash'\r\n\r\nconst EditCharacter = ({character, onDone}) => {\r\n  const [state, setState] = React.useState({\r\n    name: character.name,\r\n    job: character.job ? character.job : '',\r\n    id: character.id,\r\n    answers: character.answers ? [...character.answers] : []\r\n  })\r\n\r\n  const editAnswer = (question, index) => e => {\r\n    console.log('question:', question)\r\n    let aQ = _.cloneDeep(character.answers.find( answer => answer.question && answer.question.id === question.id))\r\n\r\n    let changedIndex = {...state.answers[index], answer: e.target.value}\r\n    if(!aQ) changedIndex.question = question.id\r\n\r\n    setState({\r\n      ...state,\r\n      answers: [\r\n        ...state.answers.slice(0, index),\r\n        changedIndex,\r\n        ...state.answers.slice(index+1)\r\n      ]\r\n    })\r\n  }\r\n  const getAnswer = (qId) => {\r\n    let a = state.answers.find( answer => answer.question && answer.question.id ? answer.question.id === qId : answer.question === qId)\r\n    console.log('a:', a)\r\n    return a ? a.answer : ''\r\n  }\r\n\r\n  return(\r\n    <div>\r\n      <div>\r\n        <div>\r\n          Name:<input type='text' value={state.name} onChange={ e => setState({...state, name: e.target.value}) }/>\r\n        </div>\r\n        <div>\r\n          Job:<input type='text' value={state.job} onChange={ e => setState({...state, job: e.target.value}) } />\r\n        </div>\r\n        <div>\r\n          Country:<input type='text' value={state.country} onChange={ e => setState({...state, country: e.target.value}) } />\r\n        </div>\r\n        <div>{character.civilState}</div>\r\n        <div>\r\n          <div>JOGO 1 - Missões que participa:</div>\r\n          {character.game_1_missions.map((mission, mIndex) =>\r\n            <div key={mIndex}>\r\n              <div>{mIndex+1}: {mission.name}</div>\r\n              <div>\r\n                {mission.questions.map( (question, qIndex) =>\r\n                  <div key={qIndex}>\r\n                    <div>{question.question}</div>\r\n                    <input type='text' value={getAnswer(question.id)}\r\n                      onChange={editAnswer(question, qIndex)} placeholder='Resposta'/>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n        <div>\r\n          <div>JOGO 2 - Missões que participa:</div>\r\n          {character.missions.map((mission, mIndex) =>\r\n            <div key={mIndex}>\r\n              <div>{mIndex+1}: {mission.name}</div>\r\n              <div>\r\n                {mission.questions.map( (question, qIndex) =>\r\n                  <div key={qIndex}>\r\n                    <div>{question.question}</div>\r\n                    <input type='text' value={getAnswer(question.id)}\r\n                      onChange={editAnswer(question, qIndex)} placeholder='Resposta'/>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n          )}\r\n          <div>\r\n            <div>\r\n              Errou alguma opção:\r\n            </div>\r\n            <input type='text' value={character.wrongAnswer} onChange={e => setState({...state, wrongAnswer: e.target.value})} placeholder='Errou alguma'/>\r\n          </div>\r\n          <div>\r\n            <div>\r\n              Acertou o suficiente:\r\n            </div>\r\n            <input type='text' value={character.rightAnswer} onChange={e => setState({...state, rightAnswer: e.target.value})} placeholder='Acertou o suficiente'/>\r\n          </div>\r\n          <div>\r\n            <div>\r\n              Dica:\r\n            </div>\r\n            <input type='text' value={character.tip} onChange={e => setState({...state, tip: e.target.value})} placeholder='Dica'/>\r\n          </div>\r\n          <div>\r\n            <div>\r\n              Resposta da acusação:\r\n            </div>\r\n            <input type='text' value={character.acusationAnswer} onChange={e => setState({...state, acusationAnswer: e.target.value})} placeholder='Resposta à acusação'/>\r\n          </div>\r\n          <div>\r\n            <div>\r\n              Despedida:\r\n            </div>\r\n            <input type='text' value={character.endDialog} onChange={e => setState({...state, endDialog: e.target.value})} placeholder='Despedida'/>\r\n          </div>\r\n        </div>\r\n        <button onClick={onDone(state)}>Salvar</button>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\nexport default EditCharacter\r\n","import React from 'react'\r\n\r\nimport { useDispatch, useSelector} from 'react-redux'\r\nimport { apiActions } from '../../_actions'\r\n\r\nimport EditIcon from '@material-ui/icons/Edit'\r\nimport CancelIcon from '@material-ui/icons/Cancel'\r\nimport Button from '@material-ui/core/Button'\r\n\r\nimport Character from '../Character'\r\nimport CreateCharacter from '../CreateCharacter'\r\nimport EditCharacter from '../EditCharacter'\r\n\r\nconst Characters = ({onAdd}) => {\r\n  const { charactersActions } = apiActions\r\n  const [createCharacter, setCreateCharacter] = React.useState(false)\r\n  const [edit, setEdit] = React.useState(-1)\r\n  const dispatch = useDispatch()\r\n  const characters = useSelector( state => state.characters)\r\n\r\n  React.useEffect(()=>{\r\n      dispatch(charactersActions.getAll())\r\n  }, [dispatch, charactersActions])\r\n\r\n  React.useEffect(()=>{\r\n    setEdit(-1)\r\n  }, [characters])\r\n\r\n  return (\r\n    <div>\r\n      <div>Área de personagens</div>\r\n      <button onClick={() => setCreateCharacter(!createCharacter)}>{createCharacter? 'Cancelar' : 'Criar personagem'} </button>\r\n      { createCharacter && <CreateCharacter /> }\r\n      <div>\r\n        <div>All Characters:</div>\r\n        { characters.loading && <div>Loading...</div> }\r\n        <div>\r\n          <span>Nome</span> <span>Estado civil</span> <span>Trabalho</span>\r\n        </div>\r\n        <div>\r\n          {characters.items.map((character, index) =>\r\n            <React.Fragment key={index}>\r\n              {edit === index ?\r\n                <div>\r\n                  <EditCharacter character={character} onDone={ state => () => dispatch(charactersActions.update(state))}/>\r\n                  <Button onClick={ () => setEdit(-1) }><CancelIcon /></Button>\r\n                </div>\r\n                : <div style={{display: 'flex', flexDirection: 'row'}}>\r\n                    <Character character={character}/>\r\n                    <Button onClick={ () => setEdit(index) }><EditIcon /></Button>\r\n                  </div>\r\n              }\r\n              <br/>\r\n            </React.Fragment>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Characters\r\n","import React from 'react'\r\n\r\nimport { useDispatch, useSelector} from 'react-redux'\r\nimport { apiActions } from '../../_actions'\r\n\r\nimport Question from '../Question'\r\nimport CreateQuestion from '../CreateQuestion'\r\n\r\nimport Button from '@material-ui/core/Button'\r\nimport EditIcon from '@material-ui/icons/Edit'\r\nimport DeleteIcon from '@material-ui/icons/Delete'\r\n\r\n\r\nconst Questions = ({onAdd}) => {\r\n  const { questionsActions } = apiActions\r\n  const [createQuestion, setCreateQuestion] = React.useState(false)\r\n  const dispatch = useDispatch()\r\n  const questions = useSelector( state => state.questions)\r\n\r\n  React.useEffect(()=>{\r\n    if(questions.items.length === 0)\r\n      dispatch(questionsActions.getAll())\r\n  }, [dispatch, questionsActions, questions.items.length])\r\n\r\n  const editQuestion = (question) => () => {\r\n\r\n  }\r\n\r\n  const deleteQuestion = (question) => () => dispatch(questionsActions.delete(question.id))\r\n\r\n  return (\r\n    <div>\r\n      <div>Questions</div>\r\n      <button onClick={() => setCreateQuestion(!createQuestion)}>{createQuestion? 'Cancelar' : 'Criar pergunta'} </button>\r\n      { createQuestion && <CreateQuestion /> }\r\n      <div>\r\n        <div>All questions:</div>\r\n        <div>\r\n          <span>Question</span> <span>Correct</span>\r\n        </div>\r\n        <div>\r\n          {questions.items.map((question, index) =>\r\n            <div key={index}>\r\n              <Question question={question}/>\r\n              <Button onClick={editQuestion(question)}><EditIcon/></Button>\r\n              <Button onClick={deleteQuestion(question)}><DeleteIcon/></Button>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Questions\r\n","import React from 'react'\r\n\r\nimport { useDispatch, useSelector} from 'react-redux'\r\nimport { apiActions } from '../../_actions'\r\n\r\nimport Questionnaire from '../Questionnaire'\r\n// import CreateQuestionnaire from '../CreateQuestionnaire'\r\n\r\nimport Button from '@material-ui/core/Button'\r\nimport EditIcon from '@material-ui/icons/Edit'\r\nimport DeleteIcon from '@material-ui/icons/Delete'\r\n\r\n\r\nconst Questionnaires = ({onAdd}) => {\r\n  const { questionnairesActions } = apiActions\r\n  const dispatch = useDispatch()\r\n  const questionnaires = useSelector( state => state.questionnaires)\r\n\r\n  React.useEffect(()=>{\r\n    if(questionnaires.items.length === 0)\r\n      dispatch(questionnairesActions.getAll())\r\n  }, [dispatch, questionnairesActions, questionnaires.items.length])\r\n\r\n  const editQuestionnaire = (questionnaire) => () => {\r\n\r\n  }\r\n\r\n  const deleteQuestionnaire = (questionnaire) => () => dispatch(questionnairesActions.delete(questionnaire.id))\r\n\r\n  return (\r\n    <div>\r\n      <div>Questionnaires</div>\r\n      {/* <button onClick={() => setCreateQuestionnaire(!createQuestionnaire)}>{createQuestionnaire? 'Cancel' : 'Create Questionnaire'} </button>\r\n      { createQuestionnaire && <CreateQuestionnaire /> } */}\r\n      <div>\r\n        <div>All questionnaires:</div>\r\n        <div>\r\n          <span>Questionnaire</span>\r\n        </div>\r\n        <div>\r\n          {questionnaires.items.map((questionnaire, index) =>\r\n            <div key={index}>\r\n              <Questionnaire questionnaire={questionnaire}/>\r\n              <Button onClick={editQuestionnaire(questionnaire)}><EditIcon/></Button>\r\n              <Button onClick={deleteQuestionnaire(questionnaire)}><DeleteIcon/></Button>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Questionnaires\r\n","import React from 'react'\r\nimport { apiActions } from '../../_actions'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\n\r\nconst PlaySessions = () => {\r\n  const dispatch = useDispatch()\r\n  const playSessions = useSelector( state => state.play_sessions.items)\r\n  const { play_sessionsActions } = apiActions\r\n\r\n  React.useEffect(() => {\r\n    dispatch(play_sessionsActions.getAll())\r\n  }, [dispatch, play_sessionsActions])\r\n\r\n  return(\r\n    <div>\r\n      <div>PlaySessions:</div>\r\n      {playSessions.length > 0 && playSessions.map((playSession, index) =>\r\n        <div key={index}>\r\n          <div>User: {playSession.usersPermissionsUser.firstName} {playSession.usersPermissionsUser.lastName}</div>\r\n          <div>Missão: {playSession.mission.name}</div>\r\n          <div>\r\n          <div>PlayerActions:</div>\r\n          {playSession.player_actions.map((playerAction, index) =>\r\n            <div key={index}>TAG:{playerAction.data.tag}</div>\r\n          )}\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default PlaySessions\r\n","import React from 'react'\r\nimport './index.scss'\r\n\r\nconst Config = (props) => {\r\n  return(\r\n    <div id=\"config-dialog\">\r\n      {props.children}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Config\r\n","import React from 'react'\r\nimport Config from '../Config'\r\n\r\nconst ConfigWindow = ({onConfig, onStatistics, onLeave, onClose}) => {\r\n  return(\r\n    <Config>\r\n      <div className=\"config-option\" onClick={onConfig}>\r\n        <span lang=\"pt-br\">Configurações de jogo</span>\r\n        <div className=\"divider\"></div>\r\n        <span lang=\"en\">Game settings</span>\r\n      </div>\r\n      <div className=\"config-option\" onClick={onStatistics}>\r\n        <span lang=\"pt-br\">Estatísticas</span>\r\n        <div className=\"divider\"></div>\r\n        <span lang=\"en\">Statistics</span>\r\n      </div>\r\n      <div className=\"config-option\" onClick={onLeave}>\r\n        <span lang=\"pt-br\">Sair do jogo</span>\r\n        <div className=\"divider\"></div>\r\n        <span lang=\"en\">Leave game</span>\r\n      </div>\r\n      <div id=\"config-fechar\" onClick={onClose}>×</div>\r\n    </Config>\r\n  )\r\n}\r\n\r\nexport default ConfigWindow\r\n","import React from 'react'\r\nimport Config from '../Config'\r\nimport Button from '@material-ui/core/Button'\r\nimport VolumeMute from '@material-ui/icons/VolumeMute'\r\nimport VolumeUp from '@material-ui/icons/VolumeUp'\r\nimport Slider from '@material-ui/core/Slider'\r\nimport Checkbox from '@material-ui/core/Checkbox'\r\n\r\n\r\nconst GameConfig = (\r\n  {\r\n    onVolumeMute, onVolumeUp, volume, onVolumeChange,\r\n    fontSize, onFontSizeChange, assistMode, onAssistModeChange,\r\n    onAccessibilityLeft, onAccessibilityRight,\r\n    onBack, onClose\r\n  }) => {\r\n  return(\r\n    <Config>\r\n      <div id=\"title\">\r\n        <span lang=\"pt-br\">Configurações de jogo</span>\r\n        <div className=\"divider\"></div>\r\n        <span lang=\"en\">Game settings</span>\r\n      </div>\r\n      <table id=\"game-options\">\r\n        <tbody>\r\n          <tr>\r\n            <td>\r\n              <span lang=\"pt-br\">Volume</span>\r\n              <span lang=\"en\">Volume</span>\r\n            </td>\r\n            <td>\r\n              <Button onClick={onVolumeMute}>\r\n                <VolumeMute />\r\n              </Button>\r\n                <Slider value={volume} onChange={onVolumeChange}/>\r\n              <Button onClick={onVolumeUp}>\r\n                <VolumeUp />\r\n              </Button>\r\n            </td>\r\n          </tr>\r\n          <tr>\r\n            <td>\r\n              <span lang=\"pt-br\">Tamanho da fonte</span>\r\n              <span lang=\"en\">Font size</span>\r\n            </td>\r\n            <td id=\"tamanho-fonte\">\r\n              <span className=\"label-pequeno\">Aa</span>\r\n              <Slider value={fontSize} onChange={onFontSizeChange}/>\r\n              <span className=\"label-grande\">Aa</span>\r\n            </td>\r\n          </tr>\r\n          <tr>\r\n            <td>\r\n              <span lang=\"pt-br\">Modo assistência</span>\r\n              <span lang=\"en\">Assist mode</span>\r\n            </td>\r\n            <td>\r\n              <Checkbox checked={assistMode} onChange={onAssistModeChange}/>\r\n            </td>\r\n          </tr>\r\n          <tr>\r\n            <td>\r\n              <span lang=\"pt-br\">Acessibilidade</span>\r\n              <span lang=\"en\">Accessibility</span>\r\n            </td>\r\n            <td id=\"tipo-acessibilidade\">\r\n              <Button onClick={onAccessibilityLeft}> {'❮'} </Button>\r\n              <div>\r\n                <span lang=\"pt-br\">Nenhum</span>\r\n                <span lang=\"en\">None</span>\r\n              </div>\r\n              <Button onClick={onAccessibilityRight}> {'❯'} </Button>\r\n            </td>\r\n          </tr>\r\n          <tr>\r\n            <td id=\"voltar-cell\" colSpan=\"2\">\r\n              <Button onClick={onBack}>Voltar</Button>\r\n            </td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n      <div id=\"config-fechar\" onClick={onClose}>×</div>\r\n    </Config>\r\n  )\r\n}\r\n\r\nexport default GameConfig\r\n","import React from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { Redirect } from 'react-router-dom'\r\nimport { headerActions } from '../../_actions'\r\nimport ConfigWindow from '../../_components/ConfigWindow'\r\nimport GameConfig from '../../_components/GameConfig'\r\nimport ReactAudioPlayer from 'react-audio-player'\r\nimport config from '../../img/i-settings.svg'\r\nimport './index.scss'\r\nimport { headerConstants } from '../../_constants'\r\n\r\nconst GameContext = (props) => {\r\n  const [state, setState] = React.useState({\r\n    volume: 15,\r\n    fontSize: 12,\r\n    assistMode: false,\r\n    accessibility: 'NONE',\r\n    gameConfig: false,\r\n    back: false,\r\n    config: false,\r\n  })\r\n\r\n  const dispatch = useDispatch()\r\n  const music = useSelector(state => state.music)\r\n  let headerInfo = useSelector(state => state.header)\r\n\r\n  let { children } = props\r\n  children = {...children, props: {...props} }\r\n\r\n\tReact.useEffect(() => {\r\n\t\tdispatch(headerActions.setState(headerConstants.STATES.HIDDEN))\r\n\t\treturn () => {\r\n      dispatch(headerActions.clearAll())\r\n      dispatch(headerActions.setState(headerConstants.STATES.NORMAL))\r\n    }\r\n\t}, [dispatch])\r\n\r\n  return(\r\n    <div id=\"game-context\">\r\n      { (headerInfo.state === headerConstants.STATES.HIDDEN) &&\r\n        <div id=\"floating-config-btn\" onClick={() => setState({...state, config: true}) }>\r\n          <img src={config} alt='config' />\r\n        </div>\r\n      }\r\n      <ReactAudioPlayer\r\n\t\t\t\tsrc={music.url}\r\n\t\t\t\tautoPlay volume={state.volume/100}\r\n        loop={true}\r\n\t\t\t/>\r\n      { state.config &&\r\n        <ConfigWindow\r\n          onConfig={()=>setState({...state, config: false, gameConfig: true})}\r\n          onStatistics={()=>{}}\r\n          onLeave={()=>setState({...state, back: true})}\r\n          onClose={()=>setState({...state, config: false})}\r\n        />\r\n      }\r\n      {\r\n        state.gameConfig &&\r\n        <GameConfig\r\n          volume={state.volume}\r\n          onVolumeMute={()=> setState({...state, volume: 0})}\r\n          onVolumeUp={()=> setState({...state, volume: 100})}\r\n          onVolumeChange={(e, newValue)=> setState({...state, volume: newValue})}\r\n          fontSize={state.fontSize} onFontSizeChange={(e, newValue) => setState({...state, fontSize: newValue})}\r\n          assistMode={state.assistMode} onAssistModeChange={(e)=>setState({...state, assistMode: e.target.checked})}\r\n          onAccessibilityLeft={()=>{}} onAccessibilityRight={()=>{}}\r\n          onBack={()=>setState({...state, gameConfig: false, config: true})}\r\n          onClose={()=>setState({...state, gameConfig: false})}\r\n        />\r\n      }\r\n      {children}\r\n      { state.back && <Redirect to='/userspace' />}\r\n    </div>\r\n  )\r\n}\r\nexport default GameContext\r\n","import React from 'react'\r\nimport { useDispatch } from 'react-redux'\r\nimport Conversa from './pages/Game2/components/Conversa'\r\nimport { headerActions } from './_actions'\r\nimport { headerConstants } from './_constants'\r\n\r\nconst TestPage = () => {\r\n\tconst dispatch = useDispatch()\r\n\tReact.useEffect( () => {\r\n\t\tdispatch(headerActions.setState(headerConstants.STATES.HIDDEN))\r\n\t\treturn () => {dispatch(headerActions.setState(headerConstants.STATES.NORMAL))}\r\n\t}, [dispatch] )\r\n\t\r\n\tconst divStyle = {position:\"absolute\", top: 0, right: 0, bottom:0, left:0}\r\n\r\n\t// -------------------------------------------\r\n\t// MODIFICAR SOMENTE DAQUI PARA BAIXO\r\n\t// -------------------------------------------\r\n\r\n\r\n\r\n\treturn (\r\n\t\t<div style={divStyle}> {/* NÃO MODIFICAR ESSA LINHA */}\r\n\t\t\t<Conversa convOptions={[\r\n\t\t\t\t{question: \"Pergunta 1\", answers: [\"Resposta 1.1\", \"Resposta 1.2\"]},\r\n\t\t\t\t{question: \"Pergunta 2\", answers: [\"Resposta 2.1\"]},\r\n\t\t\t\t{question: \"Pergunta 3\", answers: [\"Resposta 3.1\"]},\r\n\t\t\t\t{question: \"Pergunta 4\", answers: [\"Resposta 4.1\"]},\r\n\t\t\t]}/>\r\n\t\t</div> /* NÃO MODIFICAR ESSA LINHA */\r\n\t)\r\n\r\n\t// -------------------------------------------\r\n\t// MODIFICAR SOMENTE ATÉ AQUI\r\n\t// -------------------------------------------\r\n}\r\n\r\nexport default TestPage\r\n","import './App.scss'\r\nimport AppHeader from './_components/AppHeader'\r\nimport Home from './pages/Home'\r\nimport Game1 from './pages/Game1'\r\nimport Game2 from './pages/Game2'\r\nimport Game3 from './pages/Game3'\r\n\r\nimport {\r\n  BrowserRouter as Router,\r\n  Switch,\r\n  Route\r\n} from \"react-router-dom\"\r\n\r\nimport React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport { PrivateRoute } from './_components/PrivateRoute'\r\n// import { history } from './_helpers'\r\nimport Login from './pages/Login'\r\nimport UserSpace from './pages/UserSpace'\r\nimport UsersCRUD from './pages/UsersCRUD'\r\nimport Missions from './pages/Missions'\r\nimport CreateMission from './pages/CreateMission'\r\nimport Characters from './pages/Characters'\r\nimport Questions from './pages/Questions'\r\nimport Register from './pages/Register'\r\nimport Questionnaires from './pages/Questionnaires'\r\nimport PlaySessions from './pages/PlaySessions'\r\nimport GameContext from './pages/GameContext'\r\nimport { headerConstants } from './_constants'\r\nimport TestPage from './TestPage'\r\n\r\nconst App = () => {\r\n\r\n  let palette = \"palette01\"\r\n  document.getElementsByTagName('html')[0].className = palette\r\n\r\n  let gameMode = useSelector( state => state.header.state ) !== headerConstants.STATES.NORMAL;\r\n  return (\r\n    <div className={ \"App\" + (gameMode? \" game-mode\" : \"\")}>\r\n      <Router>\r\n        <AppHeader props={{isLogged: useSelector(state => state.authentication.loggedIn)}} />\r\n        <Switch>\r\n          <Route exact path=\"/\" component={Home} />\r\n          <Route path=\"/login\" component={Login} />\r\n          <Route path=\"/register\" component={Register} />\r\n          <Route path=\"/EADLearningTool\" component={Home}/>\r\n          <PrivateRoute exact path=\"/game1/:id\" render={(props) => <GameContext {...props}><Game1 /></GameContext>} />\r\n          <PrivateRoute exact path=\"/game2/:id\" render={(props) => <GameContext {...props}><Game2 /></GameContext>} />\r\n          <PrivateRoute exact path=\"/game3/:id\" render={(props) => <GameContext {...props}><Game3 /></GameContext>} />\r\n          <PrivateRoute exact path=\"/test\" component={TestPage} />\r\n          <PrivateRoute exact path=\"/userspace\" component={UserSpace} />\r\n          <PrivateRoute exact path=\"/missions\" component={Missions} />\r\n          <PrivateRoute exact path=\"/questions\" component={Questions} />\r\n          <PrivateRoute exact path=\"/questionnaires\" component={Questionnaires} />\r\n          <PrivateRoute exact path=\"/missions/create\" component={CreateMission} />\r\n          <PrivateRoute exact path=\"/missions/edit/:game/:id\" component={CreateMission} />\r\n          <PrivateRoute exact path=\"/characters\" component={Characters} />\r\n          <PrivateRoute exact path=\"/users\" component={UsersCRUD} />\r\n          <PrivateRoute exact path=\"/playSessions\" component={PlaySessions}/>\r\n        </Switch>\r\n      </Router>\r\n\r\n    </div>\r\n  );\r\n}\r\nexport default App;\r\n\r\n/*\r\nreturn (\r\n  <div>\r\n    {/* { alert.message &&\r\n      <div className={`alert ${alert.type}`}>{alert.message}</div>\r\n    })\r\n*/\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.scss';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport { Provider } from 'react-redux';\r\nimport {positions, Provider as AlertProvider} from 'react-alert'\r\nimport AlertTemplate from 'react-alert-template-basic'\r\nimport { store } from './_helpers'\r\n\r\nconst options = {\r\n  timeout: 5000,\r\n  position: positions.TOP_RIGHT\r\n}\r\n\r\nReactDOM.render(\r\n    <Provider store={store}>\r\n      <AlertProvider template={AlertTemplate} {...options}>\r\n        <App />\r\n      </AlertProvider>\r\n    </Provider>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}